"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@oasisprotocol";
exports.ids = ["vendor-chunks/@oasisprotocol"];
exports.modules = {

/***/ "(ssr)/./node_modules/@oasisprotocol/deoxysii/dist/index.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@oasisprotocol/deoxysii/dist/index.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AEAD: () => (/* binding */ AEAD),\n/* harmony export */   ErrKeySize: () => (/* binding */ ErrKeySize),\n/* harmony export */   ErrNonceSize: () => (/* binding */ ErrNonceSize),\n/* harmony export */   ErrOpen: () => (/* binding */ ErrOpen),\n/* harmony export */   KeySize: () => (/* binding */ KeySize),\n/* harmony export */   NonceSize: () => (/* binding */ NonceSize),\n/* harmony export */   TagSize: () => (/* binding */ TagSize),\n/* harmony export */   \"default\": () => (/* binding */ src_default)\n/* harmony export */ });\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\n\n// src/deoxysii.ts\nvar deoxysii_exports = {};\n__export(deoxysii_exports, {\n  AEAD: () => AEAD,\n  ErrKeySize: () => ErrKeySize,\n  ErrNonceSize: () => ErrNonceSize,\n  ErrOpen: () => ErrOpen,\n  KeySize: () => KeySize,\n  NonceSize: () => NonceSize,\n  TagSize: () => TagSize\n});\n\n// src/uint32.ts\nfunction uint32_fromBytesBigEndian(highByte, secondHighByte, thirdHighByte, lowByte) {\n  return (highByte << 24 | secondHighByte << 16 | thirdHighByte << 8 | lowByte) >>> 0;\n}\nfunction uint32_or(uint32val0, ...argv) {\n  let result = uint32val0;\n  for (const x of argv) {\n    result = result | x;\n  }\n  return result >>> 0;\n}\nfunction uint32_and(uint32val0, ...argv) {\n  let result = uint32val0;\n  for (const x of argv) {\n    result = result & x;\n  }\n  return result >>> 0;\n}\nfunction uint32_xor3(a, b, c) {\n  return (a ^ b ^ c) >>> 0;\n}\nfunction uint32_xor2(a, b) {\n  return (a ^ b) >>> 0;\n}\nfunction uint32_xor(uint32val0, ...argv) {\n  let result = uint32val0;\n  for (const x of argv) {\n    result = result ^ x;\n  }\n  return result >>> 0;\n}\nfunction uint32_not(uint32val) {\n  return ~uint32val >>> 0;\n}\nfunction uint32_shiftLeft(uint32val, numBits) {\n  return uint32val << numBits >>> 0;\n}\nfunction uint32_shiftRight(uint32val, numBits) {\n  return uint32val >>> numBits;\n}\nfunction uint32_rotateRight(uint32val, numBits) {\n  return (uint32val >>> numBits | uint32val << 32 - numBits >>> 0) >>> 0;\n}\n\n// src/aes.ts\nvar oddsMask = uint32_fromBytesBigEndian(85, 85, 85, 85);\nvar evensMask = uint32_fromBytesBigEndian(170, 170, 170, 170);\nvar cl4 = uint32_fromBytesBigEndian(51, 51, 51, 51);\nvar ch4 = uint32_fromBytesBigEndian(204, 204, 204, 204);\nvar cl8 = uint32_fromBytesBigEndian(15, 15, 15, 15);\nvar ch8 = uint32_fromBytesBigEndian(240, 240, 240, 240);\nvar shiftRowsMask0 = uint32_fromBytesBigEndian(0, 0, 0, 255);\nvar shiftRowsMask1 = uint32_fromBytesBigEndian(0, 0, 252, 0);\nvar shiftRowsMask2 = uint32_fromBytesBigEndian(0, 0, 3, 0);\nvar shiftRowsMask3 = uint32_fromBytesBigEndian(0, 240, 0, 0);\nvar shiftRowsMask4 = uint32_fromBytesBigEndian(0, 15, 0, 0);\nvar shiftRowsMask5 = uint32_fromBytesBigEndian(192, 0, 0, 0);\nvar shiftRowsMask6 = uint32_fromBytesBigEndian(63, 0, 0, 0);\nfunction newQ() {\n  return new Uint32Array(8);\n}\nfunction addRoundKey(q, sk) {\n  q[0] = uint32_xor2(q[0], sk[0]);\n  q[1] = uint32_xor2(q[1], sk[1]);\n  q[2] = uint32_xor2(q[2], sk[2]);\n  q[3] = uint32_xor2(q[3], sk[3]);\n  q[4] = uint32_xor2(q[4], sk[4]);\n  q[5] = uint32_xor2(q[5], sk[5]);\n  q[6] = uint32_xor2(q[6], sk[6]);\n  q[7] = uint32_xor2(q[7], sk[7]);\n}\nfunction subBytes(q) {\n  const x0 = q[7];\n  const x1 = q[6];\n  const x2 = q[5];\n  const x3 = q[4];\n  const x4 = q[3];\n  const x5 = q[2];\n  const x6 = q[1];\n  const x7 = q[0];\n  const y14 = uint32_xor2(x3, x5);\n  const y13 = uint32_xor2(x0, x6);\n  const y9 = uint32_xor2(x0, x3);\n  const y8 = uint32_xor2(x0, x5);\n  const t0 = uint32_xor2(x1, x2);\n  const y1 = uint32_xor2(t0, x7);\n  const y4 = uint32_xor2(y1, x3);\n  const y12 = uint32_xor2(y13, y14);\n  const y2 = uint32_xor2(y1, x0);\n  const y5 = uint32_xor2(y1, x6);\n  const y3 = uint32_xor2(y5, y8);\n  const t1 = uint32_xor2(x4, y12);\n  const y15 = uint32_xor2(t1, x5);\n  const y20 = uint32_xor2(t1, x1);\n  const y6 = uint32_xor2(y15, x7);\n  const y10 = uint32_xor2(y15, t0);\n  const y11 = uint32_xor2(y20, y9);\n  const y7 = uint32_xor2(x7, y11);\n  const y17 = uint32_xor2(y10, y11);\n  const y19 = uint32_xor2(y10, y8);\n  const y16 = uint32_xor2(t0, y11);\n  const y21 = uint32_xor2(y13, y16);\n  const y18 = uint32_xor2(x0, y16);\n  const t2 = uint32_and(y12, y15);\n  const t3 = uint32_and(y3, y6);\n  const t4 = uint32_xor2(t3, t2);\n  const t5 = uint32_and(y4, x7);\n  const t6 = uint32_xor2(t5, t2);\n  const t7 = uint32_and(y13, y16);\n  const t8 = uint32_and(y5, y1);\n  const t9 = uint32_xor2(t8, t7);\n  const t10 = uint32_and(y2, y7);\n  const t11 = uint32_xor2(t10, t7);\n  const t12 = uint32_and(y9, y11);\n  const t13 = uint32_and(y14, y17);\n  const t14 = uint32_xor2(t13, t12);\n  const t15 = uint32_and(y8, y10);\n  const t16 = uint32_xor2(t15, t12);\n  const t17 = uint32_xor2(t4, t14);\n  const t18 = uint32_xor2(t6, t16);\n  const t19 = uint32_xor2(t9, t14);\n  const t20 = uint32_xor2(t11, t16);\n  const t21 = uint32_xor2(t17, y20);\n  const t22 = uint32_xor2(t18, y19);\n  const t23 = uint32_xor2(t19, y21);\n  const t24 = uint32_xor2(t20, y18);\n  const t25 = uint32_xor2(t21, t22);\n  const t26 = uint32_and(t21, t23);\n  const t27 = uint32_xor2(t24, t26);\n  const t28 = uint32_and(t25, t27);\n  const t29 = uint32_xor2(t28, t22);\n  const t30 = uint32_xor2(t23, t24);\n  const t31 = uint32_xor2(t22, t26);\n  const t32 = uint32_and(t31, t30);\n  const t33 = uint32_xor2(t32, t24);\n  const t34 = uint32_xor2(t23, t33);\n  const t35 = uint32_xor2(t27, t33);\n  const t36 = uint32_and(t24, t35);\n  const t37 = uint32_xor2(t36, t34);\n  const t38 = uint32_xor2(t27, t36);\n  const t39 = uint32_and(t29, t38);\n  const t40 = uint32_xor2(t25, t39);\n  const t41 = uint32_xor2(t40, t37);\n  const t42 = uint32_xor2(t29, t33);\n  const t43 = uint32_xor2(t29, t40);\n  const t44 = uint32_xor2(t33, t37);\n  const t45 = uint32_xor2(t42, t41);\n  const z0 = uint32_and(t44, y15);\n  const z1 = uint32_and(t37, y6);\n  const z2 = uint32_and(t33, x7);\n  const z3 = uint32_and(t43, y16);\n  const z4 = uint32_and(t40, y1);\n  const z5 = uint32_and(t29, y7);\n  const z6 = uint32_and(t42, y11);\n  const z7 = uint32_and(t45, y17);\n  const z8 = uint32_and(t41, y10);\n  const z9 = uint32_and(t44, y12);\n  const z10 = uint32_and(t37, y3);\n  const z11 = uint32_and(t33, y4);\n  const z12 = uint32_and(t43, y13);\n  const z13 = uint32_and(t40, y5);\n  const z14 = uint32_and(t29, y2);\n  const z15 = uint32_and(t42, y9);\n  const z16 = uint32_and(t45, y14);\n  const z17 = uint32_and(t41, y8);\n  const t46 = uint32_xor2(z15, z16);\n  const t47 = uint32_xor2(z10, z11);\n  const t48 = uint32_xor2(z5, z13);\n  const t49 = uint32_xor2(z9, z10);\n  const t50 = uint32_xor2(z2, z12);\n  const t51 = uint32_xor2(z2, z5);\n  const t52 = uint32_xor2(z7, z8);\n  const t53 = uint32_xor2(z0, z3);\n  const t54 = uint32_xor2(z6, z7);\n  const t55 = uint32_xor2(z16, z17);\n  const t56 = uint32_xor2(z12, t48);\n  const t57 = uint32_xor2(t50, t53);\n  const t58 = uint32_xor2(z4, t46);\n  const t59 = uint32_xor2(z3, t54);\n  const t60 = uint32_xor2(t46, t57);\n  const t61 = uint32_xor2(z14, t57);\n  const t62 = uint32_xor2(t52, t58);\n  const t63 = uint32_xor2(t49, t58);\n  const t64 = uint32_xor2(z4, t59);\n  const t65 = uint32_xor2(t61, t62);\n  const t66 = uint32_xor2(z1, t63);\n  const s0 = uint32_xor2(t59, t63);\n  const s6 = uint32_xor2(t56, uint32_not(t62));\n  const s7 = uint32_xor2(t48, uint32_not(t60));\n  const t67 = uint32_xor2(t64, t65);\n  const s3 = uint32_xor2(t53, t66);\n  const s4 = uint32_xor2(t51, t66);\n  const s5 = uint32_xor2(t47, t65);\n  const s1 = uint32_xor2(t64, uint32_not(s3));\n  const s2 = uint32_xor2(t55, uint32_not(t67));\n  q[7] = s0;\n  q[6] = s1;\n  q[5] = s2;\n  q[4] = s3;\n  q[3] = s4;\n  q[2] = s5;\n  q[1] = s6;\n  q[0] = s7;\n}\nfunction shiftRows(q) {\n  for (let i = 0; i < 8; i++) {\n    const x = q[i];\n    q[i] = uint32_or(\n      uint32_and(x, shiftRowsMask0),\n      uint32_shiftRight(uint32_and(x, shiftRowsMask1), 2),\n      uint32_shiftLeft(uint32_and(x, shiftRowsMask2), 6),\n      uint32_shiftRight(uint32_and(x, shiftRowsMask3), 4),\n      uint32_shiftLeft(uint32_and(x, shiftRowsMask4), 4),\n      uint32_shiftRight(uint32_and(x, shiftRowsMask5), 6),\n      uint32_shiftLeft(uint32_and(x, shiftRowsMask6), 2)\n    );\n  }\n}\nfunction mixColumns(q) {\n  const q0 = q[0];\n  const q1 = q[1];\n  const q2 = q[2];\n  const q3 = q[3];\n  const q4 = q[4];\n  const q5 = q[5];\n  const q6 = q[6];\n  const q7 = q[7];\n  const r0 = uint32_or(uint32_shiftRight(q0, 8), uint32_shiftLeft(q0, 24));\n  const r1 = uint32_or(uint32_shiftRight(q1, 8), uint32_shiftLeft(q1, 24));\n  const r2 = uint32_or(uint32_shiftRight(q2, 8), uint32_shiftLeft(q2, 24));\n  const r3 = uint32_or(uint32_shiftRight(q3, 8), uint32_shiftLeft(q3, 24));\n  const r4 = uint32_or(uint32_shiftRight(q4, 8), uint32_shiftLeft(q4, 24));\n  const r5 = uint32_or(uint32_shiftRight(q5, 8), uint32_shiftLeft(q5, 24));\n  const r6 = uint32_or(uint32_shiftRight(q6, 8), uint32_shiftLeft(q6, 24));\n  const r7 = uint32_or(uint32_shiftRight(q7, 8), uint32_shiftLeft(q7, 24));\n  q[0] = uint32_xor(q7, r7, r0, uint32_rotateRight(uint32_xor2(q0, r0), 16));\n  q[1] = uint32_xor(\n    q0,\n    r0,\n    q7,\n    r7,\n    r1,\n    uint32_rotateRight(uint32_xor2(q1, r1), 16)\n  );\n  q[2] = uint32_xor(q1, r1, r2, uint32_rotateRight(uint32_xor2(q2, r2), 16));\n  q[3] = uint32_xor(\n    q2,\n    r2,\n    q7,\n    r7,\n    r3,\n    uint32_rotateRight(uint32_xor2(q3, r3), 16)\n  );\n  q[4] = uint32_xor(\n    q3,\n    r3,\n    q7,\n    r7,\n    r4,\n    uint32_rotateRight(uint32_xor2(q4, r4), 16)\n  );\n  q[5] = uint32_xor(q4, r4, r5, uint32_rotateRight(uint32_xor2(q5, r5), 16));\n  q[6] = uint32_xor(q5, r5, r6, uint32_rotateRight(uint32_xor2(q6, r6), 16));\n  q[7] = uint32_xor(q6, r6, r7, uint32_rotateRight(uint32_xor2(q7, r7), 16));\n}\nfunction load4xU32(q, src) {\n  const srcView = new DataView(src.buffer);\n  q[0] = srcView.getUint32(0 + src.byteOffset, true);\n  q[2] = srcView.getUint32(4 + src.byteOffset, true);\n  q[4] = srcView.getUint32(8 + src.byteOffset, true);\n  q[6] = srcView.getUint32(12 + src.byteOffset, true);\n  q[1] = 0;\n  q[3] = 0;\n  q[5] = 0;\n  q[7] = 0;\n  ortho(q);\n}\nfunction load8xU32(q, src0, src1) {\n  const src0View = new DataView(src0.buffer);\n  const src1View = new DataView(src1.buffer);\n  q[0] = src0View.getUint32(0 + src0.byteOffset, true);\n  q[2] = src0View.getUint32(4 + src0.byteOffset, true);\n  q[4] = src0View.getUint32(8 + src0.byteOffset, true);\n  q[6] = src0View.getUint32(12 + src0.byteOffset, true);\n  q[1] = src1View.getUint32(0 + src1.byteOffset, true);\n  q[3] = src1View.getUint32(4 + src1.byteOffset, true);\n  q[5] = src1View.getUint32(8 + src1.byteOffset, true);\n  q[7] = src1View.getUint32(12 + src1.byteOffset, true);\n  ortho(q);\n}\nfunction store4xU32(dst, q) {\n  ortho(q);\n  const dstView = new DataView(dst.buffer);\n  dstView.setUint32(0 + dst.byteOffset, q[0], true);\n  dstView.setUint32(4 + dst.byteOffset, q[2], true);\n  dstView.setUint32(8 + dst.byteOffset, q[4], true);\n  dstView.setUint32(12 + dst.byteOffset, q[6], true);\n}\nfunction store8xU32(dst0, dst1, q) {\n  ortho(q);\n  const dst0View = new DataView(dst0.buffer);\n  const dst1View = new DataView(dst1.buffer);\n  dst0View.setUint32(0 + dst0.byteOffset, q[0], true);\n  dst0View.setUint32(4 + dst0.byteOffset, q[2], true);\n  dst0View.setUint32(8 + dst0.byteOffset, q[4], true);\n  dst0View.setUint32(12 + dst0.byteOffset, q[6], true);\n  dst1View.setUint32(0 + dst1.byteOffset, q[1], true);\n  dst1View.setUint32(4 + dst1.byteOffset, q[3], true);\n  dst1View.setUint32(8 + dst1.byteOffset, q[5], true);\n  dst1View.setUint32(12 + dst1.byteOffset, q[7], true);\n}\nfunction ortho(q) {\n  for (let i = 0; i < 8; i += 2) {\n    const q0 = q[i];\n    const q1 = q[i + 1];\n    q[i] = uint32_or(\n      uint32_and(q0, oddsMask),\n      uint32_shiftLeft(uint32_and(q1, oddsMask), 1)\n    );\n    q[i + 1] = uint32_or(\n      uint32_shiftRight(uint32_and(q0, evensMask), 1),\n      uint32_and(q1, evensMask)\n    );\n  }\n  for (let i = 0; i < 8; i += 4) {\n    const q0 = q[i];\n    const q1 = q[i + 1];\n    const q2 = q[i + 2];\n    const q3 = q[i + 3];\n    q[i] = uint32_or(\n      uint32_and(q0, cl4),\n      uint32_shiftLeft(uint32_and(q2, cl4), 2)\n    );\n    q[i + 2] = uint32_or(\n      uint32_shiftRight(uint32_and(q0, ch4), 2),\n      uint32_and(q2, ch4)\n    );\n    q[i + 1] = uint32_or(\n      uint32_and(q1, cl4),\n      uint32_shiftLeft(uint32_and(q3, cl4), 2)\n    );\n    q[i + 3] = uint32_or(\n      uint32_shiftRight(uint32_and(q1, ch4), 2),\n      uint32_and(q3, ch4)\n    );\n  }\n  for (let i = 0; i < 4; i++) {\n    const q0 = q[i];\n    const q4 = q[i + 4];\n    q[i] = uint32_or(\n      uint32_and(q0, cl8),\n      uint32_shiftLeft(uint32_and(q4, cl8), 4)\n    );\n    q[i + 4] = uint32_or(\n      uint32_shiftRight(uint32_and(q0, ch8), 4),\n      uint32_and(q4, ch8)\n    );\n  }\n}\nfunction rkeyOrtho(q, key) {\n  const keyView = new DataView(key.buffer);\n  for (let i = 0; i < 4; i++) {\n    const x = keyView.getUint32(i * 4 + key.byteOffset, true);\n    q[i * 2] = x;\n    q[i * 2 + 1] = x;\n  }\n  ortho(q);\n  for (let i = 0, j = 0; i < 4; i = i + 1, j = j + 2) {\n    let x = uint32_or(\n      uint32_and(q[j + 0], oddsMask),\n      uint32_and(q[j + 1], evensMask)\n    );\n    let y = x;\n    x = uint32_and(x, oddsMask);\n    q[j] = uint32_or(x, uint32_shiftLeft(x, 1));\n    y = uint32_and(y, evensMask);\n    q[j + 1] = uint32_or(y, uint32_shiftRight(y, 1));\n  }\n}\n\n// src/deoxysii.ts\nvar KeySize = 32;\nvar NonceSize = 15;\nvar TagSize = 16;\nvar stkSize = 16;\nvar rounds = 16;\nvar blockSize = 16;\nvar tweakSize = 16;\nvar prefixADBlock = 2;\nvar prefixADFinal = 6;\nvar prefixMsgBlock = 0;\nvar prefixMsgFinal = 4;\nvar prefixTag = 1;\nvar prefixShift = 4;\nfunction xorBytes(dst, a, b, n) {\n  for (let i = 0; i < n; i++) {\n    dst[i] = a[i] ^ b[i];\n  }\n}\nvar rcons = new Uint8Array([\n  47,\n  94,\n  188,\n  99,\n  198,\n  151,\n  53,\n  106,\n  212,\n  179,\n  125,\n  250,\n  239,\n  197,\n  145,\n  57,\n  114\n]);\nfunction h(t) {\n  t.set(\n    new Uint8Array([\n      t[1],\n      t[6],\n      t[11],\n      t[12],\n      t[5],\n      t[10],\n      t[15],\n      t[0],\n      t[9],\n      t[14],\n      t[3],\n      t[4],\n      t[13],\n      t[2],\n      t[7],\n      t[8]\n    ])\n  );\n}\nfunction lfsr2(t) {\n  for (let i = 0; i < stkSize; i++) {\n    const x = t[i];\n    const x7 = x >> 7;\n    const x5 = x >> 5 & 1;\n    t[i] = x << 1 | x7 ^ x5;\n  }\n}\nfunction lfsr3(t) {\n  for (let i = 0; i < stkSize; i++) {\n    const x = t[i];\n    const x0 = x & 1;\n    const x6 = x >> 6 & 1;\n    t[i] = x >> 1 | (x0 ^ x6) << 7;\n  }\n}\nfunction xorRC(t, i) {\n  t[0] ^= 1;\n  t[1] ^= 2;\n  t[2] ^= 4;\n  t[3] ^= 8;\n  t[4] ^= rcons[i];\n  t[5] ^= rcons[i];\n  t[6] ^= rcons[i];\n  t[7] ^= rcons[i];\n}\nfunction stkDeriveK(key, derivedKs) {\n  const tk2 = key.subarray(16, 32);\n  const tk3 = key.subarray(0, 16);\n  xorBytes(derivedKs[0], tk2, tk3, stkSize);\n  xorRC(derivedKs[0], 0);\n  for (let i = 1; i <= rounds; i++) {\n    lfsr2(tk2);\n    h(tk2);\n    lfsr3(tk3);\n    h(tk3);\n    xorBytes(derivedKs[i], tk2, tk3, stkSize);\n    xorRC(derivedKs[i], i);\n  }\n}\nfunction deriveSubTweakKeys(stks, derivedKs, tweak) {\n  const tk1 = new Uint8Array(tweak);\n  xorBytes(stks[0], derivedKs[0], tk1, stkSize);\n  for (let i = 1; i <= rounds; i++) {\n    h(tk1);\n    xorBytes(stks[i], derivedKs[i], tk1, stkSize);\n  }\n}\nfunction newStks() {\n  const stks = [];\n  for (let i = 0; i <= rounds; i++) {\n    stks.push(new Uint8Array(16));\n  }\n  return stks;\n}\nfunction ct32_bcEncrypt(ciphertext, derivedKs, tweak, plaintext) {\n  const stks = newStks();\n  deriveSubTweakKeys(stks, derivedKs, tweak);\n  const q = newQ();\n  const stk = newQ();\n  load4xU32(q, plaintext);\n  load4xU32(stk, stks[0]);\n  addRoundKey(q, stk);\n  for (let i = 1; i <= rounds; i++) {\n    subBytes(q);\n    shiftRows(q);\n    mixColumns(q);\n    load4xU32(stk, stks[i]);\n    addRoundKey(q, stk);\n  }\n  store4xU32(ciphertext, q);\n}\nfunction ct32_bcKeystreamx2(ciphertext, derivedKs, tweaks, nonce) {\n  const stks = [newStks(), newStks()];\n  for (let i = 0; i < 2; i++) {\n    deriveSubTweakKeys(stks[i], derivedKs, tweaks[i]);\n  }\n  const q = newQ();\n  const stk = newQ();\n  rkeyOrtho(q, nonce);\n  load8xU32(stk, stks[0][0], stks[1][0]);\n  addRoundKey(q, stk);\n  for (let i = 1; i <= rounds; i++) {\n    subBytes(q);\n    shiftRows(q);\n    mixColumns(q);\n    load8xU32(stk, stks[0][i], stks[1][i]);\n    addRoundKey(q, stk);\n  }\n  store8xU32(ciphertext.subarray(0, 16), ciphertext.subarray(16, 32), q);\n}\nfunction ct32_bcTagx1(tag, derivedKs, tweak, plaintext) {\n  const stks = newStks();\n  deriveSubTweakKeys(stks, derivedKs, tweak);\n  const q = newQ();\n  const stk = newQ();\n  load4xU32(q, plaintext);\n  load4xU32(stk, stks[0]);\n  addRoundKey(q, stk);\n  for (let i = 1; i <= rounds; i++) {\n    subBytes(q);\n    shiftRows(q);\n    mixColumns(q);\n    load4xU32(stk, stks[i]);\n    addRoundKey(q, stk);\n  }\n  const tagView = new DataView(tag.buffer);\n  let tag0 = tagView.getUint32(0, true);\n  let tag1 = tagView.getUint32(4, true);\n  let tag2 = tagView.getUint32(8, true);\n  let tag3 = tagView.getUint32(12, true);\n  ortho(q);\n  tag0 = uint32_xor2(tag0, q[0]);\n  tag1 = uint32_xor2(tag1, q[2]);\n  tag2 = uint32_xor2(tag2, q[4]);\n  tag3 = uint32_xor2(tag3, q[6]);\n  tagView.setUint32(0, tag0, true);\n  tagView.setUint32(4, tag1, true);\n  tagView.setUint32(8, tag2, true);\n  tagView.setUint32(12, tag3, true);\n}\nfunction ct32_bcTagx2(tag, derivedKs, tweaks, plaintext) {\n  const stks = [newStks(), newStks()];\n  for (let i = 0; i < 2; i++) {\n    deriveSubTweakKeys(stks[i], derivedKs, tweaks[i]);\n  }\n  const q = newQ();\n  const stk = newQ();\n  load8xU32(q, plaintext.subarray(0, 16), plaintext.subarray(16, 32));\n  load8xU32(stk, stks[0][0], stks[1][0]);\n  addRoundKey(q, stk);\n  for (let i = 1; i <= rounds; i++) {\n    subBytes(q);\n    shiftRows(q);\n    mixColumns(q);\n    load8xU32(stk, stks[0][i], stks[1][i]);\n    addRoundKey(q, stk);\n  }\n  const tagView = new DataView(tag.buffer);\n  let tag0 = tagView.getUint32(0, true);\n  let tag1 = tagView.getUint32(4, true);\n  let tag2 = tagView.getUint32(8, true);\n  let tag3 = tagView.getUint32(12, true);\n  ortho(q);\n  tag0 = uint32_xor3(tag0, q[0], q[1]);\n  tag1 = uint32_xor3(tag1, q[2], q[3]);\n  tag2 = uint32_xor3(tag2, q[4], q[5]);\n  tag3 = uint32_xor3(tag3, q[6], q[7]);\n  tagView.setUint32(0, tag0, true);\n  tagView.setUint32(4, tag1, true);\n  tagView.setUint32(8, tag2, true);\n  tagView.setUint32(12, tag3, true);\n}\nfunction encodeTagTweak(out, prefix, blockNr) {\n  out.set(new Uint8Array(12));\n  new DataView(out.buffer).setUint32(12 + out.byteOffset, blockNr, false);\n  out[0] = prefix << prefixShift;\n}\nfunction encodeEncTweak(out, tag, blockNr) {\n  const tmp = new Uint8Array(4);\n  new DataView(tmp.buffer).setUint32(0, blockNr, false);\n  out.set(tag);\n  out[0] |= 128;\n  xorBytes(out.subarray(12, 16), out.subarray(12, 16), tmp, 4);\n}\nfunction newTweaks() {\n  return [new Uint8Array(tweakSize), new Uint8Array(tweakSize)];\n}\nfunction e(derivedKs, nonce, dst, ad, msg) {\n  const tweaks = newTweaks();\n  let i = 0;\n  let j = 0;\n  let adLen = ad.length;\n  const auth = new Uint8Array(TagSize);\n  for (i = 0; adLen >= 2 * blockSize; i += 2) {\n    encodeTagTweak(tweaks[0], prefixADBlock, i);\n    encodeTagTweak(tweaks[1], prefixADBlock, i + 1);\n    ct32_bcTagx2(\n      auth,\n      derivedKs,\n      tweaks,\n      ad.subarray(i * blockSize, (i + 2) * blockSize)\n    );\n    adLen -= 2 * blockSize;\n  }\n  for (; adLen >= blockSize; i++) {\n    encodeTagTweak(tweaks[0], prefixADBlock, i);\n    ct32_bcTagx1(\n      auth,\n      derivedKs,\n      tweaks[0],\n      ad.subarray(i * blockSize, (i + 1) * blockSize)\n    );\n    adLen -= blockSize;\n  }\n  if (adLen > 0) {\n    encodeTagTweak(tweaks[0], prefixADFinal, i);\n    const aStar = new Uint8Array(blockSize);\n    aStar.set(ad.subarray(ad.length - adLen));\n    aStar[adLen] = 128;\n    ct32_bcTagx1(auth, derivedKs, tweaks[0], aStar);\n  }\n  let msgLen = msg.length;\n  for (j = 0; msgLen >= 2 * blockSize; j += 2) {\n    encodeTagTweak(tweaks[0], prefixMsgBlock, j);\n    encodeTagTweak(tweaks[1], prefixMsgBlock, j + 1);\n    ct32_bcTagx2(\n      auth,\n      derivedKs,\n      tweaks,\n      msg.subarray(j * blockSize, (j + 2) * blockSize)\n    );\n    msgLen -= 2 * blockSize;\n  }\n  for (; msgLen >= blockSize; j++) {\n    encodeTagTweak(tweaks[0], prefixMsgBlock, j);\n    ct32_bcTagx1(\n      auth,\n      derivedKs,\n      tweaks[0],\n      msg.subarray(j * blockSize, (j + 1) * blockSize)\n    );\n    msgLen -= blockSize;\n  }\n  if (msgLen > 0) {\n    encodeTagTweak(tweaks[0], prefixMsgFinal, j);\n    const mStar = new Uint8Array(blockSize);\n    mStar.set(msg.subarray(msg.length - msgLen));\n    mStar[msgLen] = 128;\n    ct32_bcTagx1(auth, derivedKs, tweaks[0], mStar);\n  }\n  const encNonce = new Uint8Array(blockSize);\n  encNonce.set(nonce, 1);\n  encNonce[0] = prefixTag << prefixShift;\n  ct32_bcEncrypt(auth, derivedKs, encNonce, auth);\n  encNonce[0] = 0;\n  msgLen = msg.length;\n  const encBlks = new Uint8Array(2 * blockSize);\n  for (j = 0; msgLen >= 2 * blockSize; j += 2) {\n    encodeEncTweak(tweaks[0], auth, j);\n    encodeEncTweak(tweaks[1], auth, j + 1);\n    ct32_bcKeystreamx2(encBlks, derivedKs, tweaks, encNonce);\n    xorBytes(\n      dst.subarray(j * blockSize, (j + 2) * blockSize),\n      msg.subarray(j * blockSize, (j + 2) * blockSize),\n      encBlks,\n      2 * blockSize\n    );\n    msgLen -= 2 * blockSize;\n  }\n  for (; msgLen >= blockSize; j++) {\n    encodeEncTweak(tweaks[0], auth, j);\n    ct32_bcEncrypt(encBlks, derivedKs, tweaks[0], encNonce);\n    xorBytes(\n      dst.subarray(j * blockSize, (j + 1) * blockSize),\n      msg.subarray(j * blockSize, (j + 1) * blockSize),\n      encBlks,\n      blockSize\n    );\n    msgLen -= blockSize;\n  }\n  if (msgLen > 0) {\n    encodeEncTweak(tweaks[0], auth, j);\n    ct32_bcEncrypt(encBlks, derivedKs, tweaks[0], encNonce);\n    xorBytes(\n      dst.subarray(j * blockSize, msg.length),\n      msg.subarray(j * blockSize),\n      encBlks,\n      msgLen\n    );\n  }\n  dst.set(auth, msg.length);\n}\nfunction d(derivedKs, nonce, dst, ad, ct) {\n  let ctLen = ct.length - TagSize;\n  const ciphertext = ct.subarray(0, ctLen);\n  const tag = ct.subarray(ctLen);\n  let j = 0;\n  const decTweaks = newTweaks();\n  const decNonce = new Uint8Array(blockSize);\n  decNonce.set(nonce, 1);\n  const decBlks = new Uint8Array(2 * blockSize);\n  for (j = 0; ctLen >= 2 * blockSize; j += 2) {\n    encodeEncTweak(decTweaks[0], tag, j);\n    encodeEncTweak(decTweaks[1], tag, j + 1);\n    ct32_bcKeystreamx2(decBlks, derivedKs, decTweaks, decNonce);\n    xorBytes(\n      dst.subarray(j * blockSize, (j + 2) * blockSize),\n      ciphertext.subarray(j * blockSize, (j + 2) * blockSize),\n      decBlks,\n      2 * blockSize\n    );\n    ctLen -= 2 * blockSize;\n  }\n  for (; ctLen >= blockSize; j++) {\n    encodeEncTweak(decTweaks[0], tag, j);\n    ct32_bcEncrypt(decBlks, derivedKs, decTweaks[0], decNonce);\n    xorBytes(\n      dst.subarray(j * blockSize, (j + 1) * blockSize),\n      ciphertext.subarray(j * blockSize, (j + 1) * blockSize),\n      decBlks,\n      blockSize\n    );\n    ctLen -= blockSize;\n  }\n  if (ctLen > 0) {\n    encodeEncTweak(decTweaks[0], tag, j);\n    ct32_bcEncrypt(decBlks, derivedKs, decTweaks[0], decNonce);\n    xorBytes(\n      dst.subarray(j * blockSize),\n      ciphertext.subarray(j * blockSize),\n      decBlks,\n      ctLen\n    );\n  }\n  let i = 0;\n  let adLen = ad.length;\n  const tweaks = newTweaks();\n  const auth = new Uint8Array(TagSize);\n  for (i = 0; adLen >= 2 * blockSize; i += 2) {\n    encodeTagTweak(tweaks[0], prefixADBlock, i);\n    encodeTagTweak(tweaks[1], prefixADBlock, i + 1);\n    ct32_bcTagx2(\n      auth,\n      derivedKs,\n      tweaks,\n      ad.subarray(i * blockSize, (i + 2) * blockSize)\n    );\n    adLen -= 2 * blockSize;\n  }\n  for (; adLen >= blockSize; i++) {\n    encodeTagTweak(tweaks[0], prefixADBlock, i);\n    ct32_bcTagx1(\n      auth,\n      derivedKs,\n      tweaks[0],\n      ad.subarray(i * blockSize, (i + 1) * blockSize)\n    );\n    adLen -= blockSize;\n  }\n  if (adLen > 0) {\n    encodeTagTweak(tweaks[0], prefixADFinal, i);\n    const aStar = new Uint8Array(blockSize);\n    aStar.set(ad.subarray(ad.length - adLen));\n    aStar[adLen] = 128;\n    ct32_bcTagx1(auth, derivedKs, tweaks[0], aStar);\n  }\n  let msgLen = dst.length;\n  for (j = 0; msgLen >= 2 * blockSize; j += 2) {\n    encodeTagTweak(tweaks[0], prefixMsgBlock, j);\n    encodeTagTweak(tweaks[1], prefixMsgBlock, j + 1);\n    ct32_bcTagx2(\n      auth,\n      derivedKs,\n      tweaks,\n      dst.subarray(j * blockSize, (j + 2) * blockSize)\n    );\n    msgLen -= 2 * blockSize;\n  }\n  for (; msgLen >= blockSize; j++) {\n    encodeTagTweak(tweaks[0], prefixMsgBlock, j);\n    ct32_bcTagx1(\n      auth,\n      derivedKs,\n      tweaks[0],\n      dst.subarray(j * blockSize, (j + 1) * blockSize)\n    );\n    msgLen -= blockSize;\n  }\n  if (msgLen > 0) {\n    encodeTagTweak(tweaks[0], prefixMsgFinal, j);\n    const mStar = new Uint8Array(blockSize);\n    mStar.set(dst.subarray(dst.length - msgLen));\n    mStar[msgLen] = 128;\n    ct32_bcTagx1(auth, derivedKs, tweaks[0], mStar);\n  }\n  decNonce[0] = prefixTag << prefixShift;\n  ct32_bcEncrypt(auth, derivedKs, decNonce, auth);\n  if (auth.length !== tag.length) {\n    return false;\n  }\n  let eql = true;\n  for (i = 0; i < auth.length; i++) {\n    eql &= !(auth[i] ^ tag[i]);\n  }\n  return eql;\n}\nvar AEAD = class {\n  constructor(key) {\n    __publicField(this, \"derivedKs\");\n    if (key.length !== KeySize) {\n      throw ErrKeySize;\n    }\n    this.derivedKs = newStks();\n    stkDeriveK(key, this.derivedKs);\n  }\n  encrypt(nonce, plaintext = null, associatedData = null) {\n    if (nonce.length !== NonceSize) {\n      throw ErrNonceSize;\n    }\n    if (plaintext == null) {\n      plaintext = zeroBuffer;\n    }\n    if (associatedData == null) {\n      associatedData = zeroBuffer;\n    }\n    const dst = new Uint8Array(plaintext.length + TagSize);\n    e(this.derivedKs, nonce, dst, associatedData, plaintext);\n    return dst;\n  }\n  decrypt(nonce, ciphertext, associatedData = null) {\n    if (nonce.length !== NonceSize) {\n      throw ErrNonceSize;\n    }\n    if (ciphertext.length < TagSize) {\n      throw ErrOpen;\n    }\n    if (associatedData == null) {\n      associatedData = zeroBuffer;\n    }\n    const dst = new Uint8Array(ciphertext.length - TagSize);\n    if (!d(this.derivedKs, nonce, dst, associatedData, ciphertext)) {\n      dst.set(new Uint8Array(dst.length));\n      throw ErrOpen;\n    }\n    return dst;\n  }\n};\nvar zeroBuffer = new Uint8Array(0);\nvar ErrKeySize = \"deoxysii: invalid key size\";\nvar ErrNonceSize = \"deoxysii: invalid nonce size\";\nvar ErrOpen = \"deoxysii: message authentication failure\";\n\n// src/index.ts\nvar src_default = deoxysii_exports;\n\n/**\n * @license (c) Franz X Antesberger 2013\n */\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG9hc2lzcHJvdG9jb2wvZGVveHlzaWkvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBLDhFQUE4RSw2REFBNkQ7QUFDM0k7QUFDQTtBQUNBLDhCQUE4QixrQ0FBa0M7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE9BQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLE9BQU87QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsYUFBYTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixhQUFhO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixhQUFhO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsYUFBYTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsYUFBYTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsYUFBYTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGFBQWE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsYUFBYTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE9BQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsYUFBYTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdCQUF3QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsb0JBQW9CO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHlCQUF5QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMscUJBQXFCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHlCQUF5QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxxQkFBcUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdCQUF3QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvQkFBb0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx3QkFBd0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG9CQUFvQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx5QkFBeUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFCQUFxQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUJBQWlCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFVRTtBQUNGO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BvYXNpc3Byb3RvY29sL2Rlb3h5c2lpL2Rpc3QvaW5kZXgubWpzPzczY2MiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX2V4cG9ydCA9ICh0YXJnZXQsIGFsbCkgPT4ge1xuICBmb3IgKHZhciBuYW1lIGluIGFsbClcbiAgICBfX2RlZlByb3AodGFyZ2V0LCBuYW1lLCB7IGdldDogYWxsW25hbWVdLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xufTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ge1xuICBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuXG4vLyBzcmMvZGVveHlzaWkudHNcbnZhciBkZW94eXNpaV9leHBvcnRzID0ge307XG5fX2V4cG9ydChkZW94eXNpaV9leHBvcnRzLCB7XG4gIEFFQUQ6ICgpID0+IEFFQUQsXG4gIEVycktleVNpemU6ICgpID0+IEVycktleVNpemUsXG4gIEVyck5vbmNlU2l6ZTogKCkgPT4gRXJyTm9uY2VTaXplLFxuICBFcnJPcGVuOiAoKSA9PiBFcnJPcGVuLFxuICBLZXlTaXplOiAoKSA9PiBLZXlTaXplLFxuICBOb25jZVNpemU6ICgpID0+IE5vbmNlU2l6ZSxcbiAgVGFnU2l6ZTogKCkgPT4gVGFnU2l6ZVxufSk7XG5cbi8vIHNyYy91aW50MzIudHNcbmZ1bmN0aW9uIHVpbnQzMl9mcm9tQnl0ZXNCaWdFbmRpYW4oaGlnaEJ5dGUsIHNlY29uZEhpZ2hCeXRlLCB0aGlyZEhpZ2hCeXRlLCBsb3dCeXRlKSB7XG4gIHJldHVybiAoaGlnaEJ5dGUgPDwgMjQgfCBzZWNvbmRIaWdoQnl0ZSA8PCAxNiB8IHRoaXJkSGlnaEJ5dGUgPDwgOCB8IGxvd0J5dGUpID4+PiAwO1xufVxuZnVuY3Rpb24gdWludDMyX29yKHVpbnQzMnZhbDAsIC4uLmFyZ3YpIHtcbiAgbGV0IHJlc3VsdCA9IHVpbnQzMnZhbDA7XG4gIGZvciAoY29uc3QgeCBvZiBhcmd2KSB7XG4gICAgcmVzdWx0ID0gcmVzdWx0IHwgeDtcbiAgfVxuICByZXR1cm4gcmVzdWx0ID4+PiAwO1xufVxuZnVuY3Rpb24gdWludDMyX2FuZCh1aW50MzJ2YWwwLCAuLi5hcmd2KSB7XG4gIGxldCByZXN1bHQgPSB1aW50MzJ2YWwwO1xuICBmb3IgKGNvbnN0IHggb2YgYXJndikge1xuICAgIHJlc3VsdCA9IHJlc3VsdCAmIHg7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdCA+Pj4gMDtcbn1cbmZ1bmN0aW9uIHVpbnQzMl94b3IzKGEsIGIsIGMpIHtcbiAgcmV0dXJuIChhIF4gYiBeIGMpID4+PiAwO1xufVxuZnVuY3Rpb24gdWludDMyX3hvcjIoYSwgYikge1xuICByZXR1cm4gKGEgXiBiKSA+Pj4gMDtcbn1cbmZ1bmN0aW9uIHVpbnQzMl94b3IodWludDMydmFsMCwgLi4uYXJndikge1xuICBsZXQgcmVzdWx0ID0gdWludDMydmFsMDtcbiAgZm9yIChjb25zdCB4IG9mIGFyZ3YpIHtcbiAgICByZXN1bHQgPSByZXN1bHQgXiB4O1xuICB9XG4gIHJldHVybiByZXN1bHQgPj4+IDA7XG59XG5mdW5jdGlvbiB1aW50MzJfbm90KHVpbnQzMnZhbCkge1xuICByZXR1cm4gfnVpbnQzMnZhbCA+Pj4gMDtcbn1cbmZ1bmN0aW9uIHVpbnQzMl9zaGlmdExlZnQodWludDMydmFsLCBudW1CaXRzKSB7XG4gIHJldHVybiB1aW50MzJ2YWwgPDwgbnVtQml0cyA+Pj4gMDtcbn1cbmZ1bmN0aW9uIHVpbnQzMl9zaGlmdFJpZ2h0KHVpbnQzMnZhbCwgbnVtQml0cykge1xuICByZXR1cm4gdWludDMydmFsID4+PiBudW1CaXRzO1xufVxuZnVuY3Rpb24gdWludDMyX3JvdGF0ZVJpZ2h0KHVpbnQzMnZhbCwgbnVtQml0cykge1xuICByZXR1cm4gKHVpbnQzMnZhbCA+Pj4gbnVtQml0cyB8IHVpbnQzMnZhbCA8PCAzMiAtIG51bUJpdHMgPj4+IDApID4+PiAwO1xufVxuXG4vLyBzcmMvYWVzLnRzXG52YXIgb2Rkc01hc2sgPSB1aW50MzJfZnJvbUJ5dGVzQmlnRW5kaWFuKDg1LCA4NSwgODUsIDg1KTtcbnZhciBldmVuc01hc2sgPSB1aW50MzJfZnJvbUJ5dGVzQmlnRW5kaWFuKDE3MCwgMTcwLCAxNzAsIDE3MCk7XG52YXIgY2w0ID0gdWludDMyX2Zyb21CeXRlc0JpZ0VuZGlhbig1MSwgNTEsIDUxLCA1MSk7XG52YXIgY2g0ID0gdWludDMyX2Zyb21CeXRlc0JpZ0VuZGlhbigyMDQsIDIwNCwgMjA0LCAyMDQpO1xudmFyIGNsOCA9IHVpbnQzMl9mcm9tQnl0ZXNCaWdFbmRpYW4oMTUsIDE1LCAxNSwgMTUpO1xudmFyIGNoOCA9IHVpbnQzMl9mcm9tQnl0ZXNCaWdFbmRpYW4oMjQwLCAyNDAsIDI0MCwgMjQwKTtcbnZhciBzaGlmdFJvd3NNYXNrMCA9IHVpbnQzMl9mcm9tQnl0ZXNCaWdFbmRpYW4oMCwgMCwgMCwgMjU1KTtcbnZhciBzaGlmdFJvd3NNYXNrMSA9IHVpbnQzMl9mcm9tQnl0ZXNCaWdFbmRpYW4oMCwgMCwgMjUyLCAwKTtcbnZhciBzaGlmdFJvd3NNYXNrMiA9IHVpbnQzMl9mcm9tQnl0ZXNCaWdFbmRpYW4oMCwgMCwgMywgMCk7XG52YXIgc2hpZnRSb3dzTWFzazMgPSB1aW50MzJfZnJvbUJ5dGVzQmlnRW5kaWFuKDAsIDI0MCwgMCwgMCk7XG52YXIgc2hpZnRSb3dzTWFzazQgPSB1aW50MzJfZnJvbUJ5dGVzQmlnRW5kaWFuKDAsIDE1LCAwLCAwKTtcbnZhciBzaGlmdFJvd3NNYXNrNSA9IHVpbnQzMl9mcm9tQnl0ZXNCaWdFbmRpYW4oMTkyLCAwLCAwLCAwKTtcbnZhciBzaGlmdFJvd3NNYXNrNiA9IHVpbnQzMl9mcm9tQnl0ZXNCaWdFbmRpYW4oNjMsIDAsIDAsIDApO1xuZnVuY3Rpb24gbmV3USgpIHtcbiAgcmV0dXJuIG5ldyBVaW50MzJBcnJheSg4KTtcbn1cbmZ1bmN0aW9uIGFkZFJvdW5kS2V5KHEsIHNrKSB7XG4gIHFbMF0gPSB1aW50MzJfeG9yMihxWzBdLCBza1swXSk7XG4gIHFbMV0gPSB1aW50MzJfeG9yMihxWzFdLCBza1sxXSk7XG4gIHFbMl0gPSB1aW50MzJfeG9yMihxWzJdLCBza1syXSk7XG4gIHFbM10gPSB1aW50MzJfeG9yMihxWzNdLCBza1szXSk7XG4gIHFbNF0gPSB1aW50MzJfeG9yMihxWzRdLCBza1s0XSk7XG4gIHFbNV0gPSB1aW50MzJfeG9yMihxWzVdLCBza1s1XSk7XG4gIHFbNl0gPSB1aW50MzJfeG9yMihxWzZdLCBza1s2XSk7XG4gIHFbN10gPSB1aW50MzJfeG9yMihxWzddLCBza1s3XSk7XG59XG5mdW5jdGlvbiBzdWJCeXRlcyhxKSB7XG4gIGNvbnN0IHgwID0gcVs3XTtcbiAgY29uc3QgeDEgPSBxWzZdO1xuICBjb25zdCB4MiA9IHFbNV07XG4gIGNvbnN0IHgzID0gcVs0XTtcbiAgY29uc3QgeDQgPSBxWzNdO1xuICBjb25zdCB4NSA9IHFbMl07XG4gIGNvbnN0IHg2ID0gcVsxXTtcbiAgY29uc3QgeDcgPSBxWzBdO1xuICBjb25zdCB5MTQgPSB1aW50MzJfeG9yMih4MywgeDUpO1xuICBjb25zdCB5MTMgPSB1aW50MzJfeG9yMih4MCwgeDYpO1xuICBjb25zdCB5OSA9IHVpbnQzMl94b3IyKHgwLCB4Myk7XG4gIGNvbnN0IHk4ID0gdWludDMyX3hvcjIoeDAsIHg1KTtcbiAgY29uc3QgdDAgPSB1aW50MzJfeG9yMih4MSwgeDIpO1xuICBjb25zdCB5MSA9IHVpbnQzMl94b3IyKHQwLCB4Nyk7XG4gIGNvbnN0IHk0ID0gdWludDMyX3hvcjIoeTEsIHgzKTtcbiAgY29uc3QgeTEyID0gdWludDMyX3hvcjIoeTEzLCB5MTQpO1xuICBjb25zdCB5MiA9IHVpbnQzMl94b3IyKHkxLCB4MCk7XG4gIGNvbnN0IHk1ID0gdWludDMyX3hvcjIoeTEsIHg2KTtcbiAgY29uc3QgeTMgPSB1aW50MzJfeG9yMih5NSwgeTgpO1xuICBjb25zdCB0MSA9IHVpbnQzMl94b3IyKHg0LCB5MTIpO1xuICBjb25zdCB5MTUgPSB1aW50MzJfeG9yMih0MSwgeDUpO1xuICBjb25zdCB5MjAgPSB1aW50MzJfeG9yMih0MSwgeDEpO1xuICBjb25zdCB5NiA9IHVpbnQzMl94b3IyKHkxNSwgeDcpO1xuICBjb25zdCB5MTAgPSB1aW50MzJfeG9yMih5MTUsIHQwKTtcbiAgY29uc3QgeTExID0gdWludDMyX3hvcjIoeTIwLCB5OSk7XG4gIGNvbnN0IHk3ID0gdWludDMyX3hvcjIoeDcsIHkxMSk7XG4gIGNvbnN0IHkxNyA9IHVpbnQzMl94b3IyKHkxMCwgeTExKTtcbiAgY29uc3QgeTE5ID0gdWludDMyX3hvcjIoeTEwLCB5OCk7XG4gIGNvbnN0IHkxNiA9IHVpbnQzMl94b3IyKHQwLCB5MTEpO1xuICBjb25zdCB5MjEgPSB1aW50MzJfeG9yMih5MTMsIHkxNik7XG4gIGNvbnN0IHkxOCA9IHVpbnQzMl94b3IyKHgwLCB5MTYpO1xuICBjb25zdCB0MiA9IHVpbnQzMl9hbmQoeTEyLCB5MTUpO1xuICBjb25zdCB0MyA9IHVpbnQzMl9hbmQoeTMsIHk2KTtcbiAgY29uc3QgdDQgPSB1aW50MzJfeG9yMih0MywgdDIpO1xuICBjb25zdCB0NSA9IHVpbnQzMl9hbmQoeTQsIHg3KTtcbiAgY29uc3QgdDYgPSB1aW50MzJfeG9yMih0NSwgdDIpO1xuICBjb25zdCB0NyA9IHVpbnQzMl9hbmQoeTEzLCB5MTYpO1xuICBjb25zdCB0OCA9IHVpbnQzMl9hbmQoeTUsIHkxKTtcbiAgY29uc3QgdDkgPSB1aW50MzJfeG9yMih0OCwgdDcpO1xuICBjb25zdCB0MTAgPSB1aW50MzJfYW5kKHkyLCB5Nyk7XG4gIGNvbnN0IHQxMSA9IHVpbnQzMl94b3IyKHQxMCwgdDcpO1xuICBjb25zdCB0MTIgPSB1aW50MzJfYW5kKHk5LCB5MTEpO1xuICBjb25zdCB0MTMgPSB1aW50MzJfYW5kKHkxNCwgeTE3KTtcbiAgY29uc3QgdDE0ID0gdWludDMyX3hvcjIodDEzLCB0MTIpO1xuICBjb25zdCB0MTUgPSB1aW50MzJfYW5kKHk4LCB5MTApO1xuICBjb25zdCB0MTYgPSB1aW50MzJfeG9yMih0MTUsIHQxMik7XG4gIGNvbnN0IHQxNyA9IHVpbnQzMl94b3IyKHQ0LCB0MTQpO1xuICBjb25zdCB0MTggPSB1aW50MzJfeG9yMih0NiwgdDE2KTtcbiAgY29uc3QgdDE5ID0gdWludDMyX3hvcjIodDksIHQxNCk7XG4gIGNvbnN0IHQyMCA9IHVpbnQzMl94b3IyKHQxMSwgdDE2KTtcbiAgY29uc3QgdDIxID0gdWludDMyX3hvcjIodDE3LCB5MjApO1xuICBjb25zdCB0MjIgPSB1aW50MzJfeG9yMih0MTgsIHkxOSk7XG4gIGNvbnN0IHQyMyA9IHVpbnQzMl94b3IyKHQxOSwgeTIxKTtcbiAgY29uc3QgdDI0ID0gdWludDMyX3hvcjIodDIwLCB5MTgpO1xuICBjb25zdCB0MjUgPSB1aW50MzJfeG9yMih0MjEsIHQyMik7XG4gIGNvbnN0IHQyNiA9IHVpbnQzMl9hbmQodDIxLCB0MjMpO1xuICBjb25zdCB0MjcgPSB1aW50MzJfeG9yMih0MjQsIHQyNik7XG4gIGNvbnN0IHQyOCA9IHVpbnQzMl9hbmQodDI1LCB0MjcpO1xuICBjb25zdCB0MjkgPSB1aW50MzJfeG9yMih0MjgsIHQyMik7XG4gIGNvbnN0IHQzMCA9IHVpbnQzMl94b3IyKHQyMywgdDI0KTtcbiAgY29uc3QgdDMxID0gdWludDMyX3hvcjIodDIyLCB0MjYpO1xuICBjb25zdCB0MzIgPSB1aW50MzJfYW5kKHQzMSwgdDMwKTtcbiAgY29uc3QgdDMzID0gdWludDMyX3hvcjIodDMyLCB0MjQpO1xuICBjb25zdCB0MzQgPSB1aW50MzJfeG9yMih0MjMsIHQzMyk7XG4gIGNvbnN0IHQzNSA9IHVpbnQzMl94b3IyKHQyNywgdDMzKTtcbiAgY29uc3QgdDM2ID0gdWludDMyX2FuZCh0MjQsIHQzNSk7XG4gIGNvbnN0IHQzNyA9IHVpbnQzMl94b3IyKHQzNiwgdDM0KTtcbiAgY29uc3QgdDM4ID0gdWludDMyX3hvcjIodDI3LCB0MzYpO1xuICBjb25zdCB0MzkgPSB1aW50MzJfYW5kKHQyOSwgdDM4KTtcbiAgY29uc3QgdDQwID0gdWludDMyX3hvcjIodDI1LCB0MzkpO1xuICBjb25zdCB0NDEgPSB1aW50MzJfeG9yMih0NDAsIHQzNyk7XG4gIGNvbnN0IHQ0MiA9IHVpbnQzMl94b3IyKHQyOSwgdDMzKTtcbiAgY29uc3QgdDQzID0gdWludDMyX3hvcjIodDI5LCB0NDApO1xuICBjb25zdCB0NDQgPSB1aW50MzJfeG9yMih0MzMsIHQzNyk7XG4gIGNvbnN0IHQ0NSA9IHVpbnQzMl94b3IyKHQ0MiwgdDQxKTtcbiAgY29uc3QgejAgPSB1aW50MzJfYW5kKHQ0NCwgeTE1KTtcbiAgY29uc3QgejEgPSB1aW50MzJfYW5kKHQzNywgeTYpO1xuICBjb25zdCB6MiA9IHVpbnQzMl9hbmQodDMzLCB4Nyk7XG4gIGNvbnN0IHozID0gdWludDMyX2FuZCh0NDMsIHkxNik7XG4gIGNvbnN0IHo0ID0gdWludDMyX2FuZCh0NDAsIHkxKTtcbiAgY29uc3QgejUgPSB1aW50MzJfYW5kKHQyOSwgeTcpO1xuICBjb25zdCB6NiA9IHVpbnQzMl9hbmQodDQyLCB5MTEpO1xuICBjb25zdCB6NyA9IHVpbnQzMl9hbmQodDQ1LCB5MTcpO1xuICBjb25zdCB6OCA9IHVpbnQzMl9hbmQodDQxLCB5MTApO1xuICBjb25zdCB6OSA9IHVpbnQzMl9hbmQodDQ0LCB5MTIpO1xuICBjb25zdCB6MTAgPSB1aW50MzJfYW5kKHQzNywgeTMpO1xuICBjb25zdCB6MTEgPSB1aW50MzJfYW5kKHQzMywgeTQpO1xuICBjb25zdCB6MTIgPSB1aW50MzJfYW5kKHQ0MywgeTEzKTtcbiAgY29uc3QgejEzID0gdWludDMyX2FuZCh0NDAsIHk1KTtcbiAgY29uc3QgejE0ID0gdWludDMyX2FuZCh0MjksIHkyKTtcbiAgY29uc3QgejE1ID0gdWludDMyX2FuZCh0NDIsIHk5KTtcbiAgY29uc3QgejE2ID0gdWludDMyX2FuZCh0NDUsIHkxNCk7XG4gIGNvbnN0IHoxNyA9IHVpbnQzMl9hbmQodDQxLCB5OCk7XG4gIGNvbnN0IHQ0NiA9IHVpbnQzMl94b3IyKHoxNSwgejE2KTtcbiAgY29uc3QgdDQ3ID0gdWludDMyX3hvcjIoejEwLCB6MTEpO1xuICBjb25zdCB0NDggPSB1aW50MzJfeG9yMih6NSwgejEzKTtcbiAgY29uc3QgdDQ5ID0gdWludDMyX3hvcjIoejksIHoxMCk7XG4gIGNvbnN0IHQ1MCA9IHVpbnQzMl94b3IyKHoyLCB6MTIpO1xuICBjb25zdCB0NTEgPSB1aW50MzJfeG9yMih6MiwgejUpO1xuICBjb25zdCB0NTIgPSB1aW50MzJfeG9yMih6NywgejgpO1xuICBjb25zdCB0NTMgPSB1aW50MzJfeG9yMih6MCwgejMpO1xuICBjb25zdCB0NTQgPSB1aW50MzJfeG9yMih6NiwgejcpO1xuICBjb25zdCB0NTUgPSB1aW50MzJfeG9yMih6MTYsIHoxNyk7XG4gIGNvbnN0IHQ1NiA9IHVpbnQzMl94b3IyKHoxMiwgdDQ4KTtcbiAgY29uc3QgdDU3ID0gdWludDMyX3hvcjIodDUwLCB0NTMpO1xuICBjb25zdCB0NTggPSB1aW50MzJfeG9yMih6NCwgdDQ2KTtcbiAgY29uc3QgdDU5ID0gdWludDMyX3hvcjIoejMsIHQ1NCk7XG4gIGNvbnN0IHQ2MCA9IHVpbnQzMl94b3IyKHQ0NiwgdDU3KTtcbiAgY29uc3QgdDYxID0gdWludDMyX3hvcjIoejE0LCB0NTcpO1xuICBjb25zdCB0NjIgPSB1aW50MzJfeG9yMih0NTIsIHQ1OCk7XG4gIGNvbnN0IHQ2MyA9IHVpbnQzMl94b3IyKHQ0OSwgdDU4KTtcbiAgY29uc3QgdDY0ID0gdWludDMyX3hvcjIoejQsIHQ1OSk7XG4gIGNvbnN0IHQ2NSA9IHVpbnQzMl94b3IyKHQ2MSwgdDYyKTtcbiAgY29uc3QgdDY2ID0gdWludDMyX3hvcjIoejEsIHQ2Myk7XG4gIGNvbnN0IHMwID0gdWludDMyX3hvcjIodDU5LCB0NjMpO1xuICBjb25zdCBzNiA9IHVpbnQzMl94b3IyKHQ1NiwgdWludDMyX25vdCh0NjIpKTtcbiAgY29uc3QgczcgPSB1aW50MzJfeG9yMih0NDgsIHVpbnQzMl9ub3QodDYwKSk7XG4gIGNvbnN0IHQ2NyA9IHVpbnQzMl94b3IyKHQ2NCwgdDY1KTtcbiAgY29uc3QgczMgPSB1aW50MzJfeG9yMih0NTMsIHQ2Nik7XG4gIGNvbnN0IHM0ID0gdWludDMyX3hvcjIodDUxLCB0NjYpO1xuICBjb25zdCBzNSA9IHVpbnQzMl94b3IyKHQ0NywgdDY1KTtcbiAgY29uc3QgczEgPSB1aW50MzJfeG9yMih0NjQsIHVpbnQzMl9ub3QoczMpKTtcbiAgY29uc3QgczIgPSB1aW50MzJfeG9yMih0NTUsIHVpbnQzMl9ub3QodDY3KSk7XG4gIHFbN10gPSBzMDtcbiAgcVs2XSA9IHMxO1xuICBxWzVdID0gczI7XG4gIHFbNF0gPSBzMztcbiAgcVszXSA9IHM0O1xuICBxWzJdID0gczU7XG4gIHFbMV0gPSBzNjtcbiAgcVswXSA9IHM3O1xufVxuZnVuY3Rpb24gc2hpZnRSb3dzKHEpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICBjb25zdCB4ID0gcVtpXTtcbiAgICBxW2ldID0gdWludDMyX29yKFxuICAgICAgdWludDMyX2FuZCh4LCBzaGlmdFJvd3NNYXNrMCksXG4gICAgICB1aW50MzJfc2hpZnRSaWdodCh1aW50MzJfYW5kKHgsIHNoaWZ0Um93c01hc2sxKSwgMiksXG4gICAgICB1aW50MzJfc2hpZnRMZWZ0KHVpbnQzMl9hbmQoeCwgc2hpZnRSb3dzTWFzazIpLCA2KSxcbiAgICAgIHVpbnQzMl9zaGlmdFJpZ2h0KHVpbnQzMl9hbmQoeCwgc2hpZnRSb3dzTWFzazMpLCA0KSxcbiAgICAgIHVpbnQzMl9zaGlmdExlZnQodWludDMyX2FuZCh4LCBzaGlmdFJvd3NNYXNrNCksIDQpLFxuICAgICAgdWludDMyX3NoaWZ0UmlnaHQodWludDMyX2FuZCh4LCBzaGlmdFJvd3NNYXNrNSksIDYpLFxuICAgICAgdWludDMyX3NoaWZ0TGVmdCh1aW50MzJfYW5kKHgsIHNoaWZ0Um93c01hc2s2KSwgMilcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBtaXhDb2x1bW5zKHEpIHtcbiAgY29uc3QgcTAgPSBxWzBdO1xuICBjb25zdCBxMSA9IHFbMV07XG4gIGNvbnN0IHEyID0gcVsyXTtcbiAgY29uc3QgcTMgPSBxWzNdO1xuICBjb25zdCBxNCA9IHFbNF07XG4gIGNvbnN0IHE1ID0gcVs1XTtcbiAgY29uc3QgcTYgPSBxWzZdO1xuICBjb25zdCBxNyA9IHFbN107XG4gIGNvbnN0IHIwID0gdWludDMyX29yKHVpbnQzMl9zaGlmdFJpZ2h0KHEwLCA4KSwgdWludDMyX3NoaWZ0TGVmdChxMCwgMjQpKTtcbiAgY29uc3QgcjEgPSB1aW50MzJfb3IodWludDMyX3NoaWZ0UmlnaHQocTEsIDgpLCB1aW50MzJfc2hpZnRMZWZ0KHExLCAyNCkpO1xuICBjb25zdCByMiA9IHVpbnQzMl9vcih1aW50MzJfc2hpZnRSaWdodChxMiwgOCksIHVpbnQzMl9zaGlmdExlZnQocTIsIDI0KSk7XG4gIGNvbnN0IHIzID0gdWludDMyX29yKHVpbnQzMl9zaGlmdFJpZ2h0KHEzLCA4KSwgdWludDMyX3NoaWZ0TGVmdChxMywgMjQpKTtcbiAgY29uc3QgcjQgPSB1aW50MzJfb3IodWludDMyX3NoaWZ0UmlnaHQocTQsIDgpLCB1aW50MzJfc2hpZnRMZWZ0KHE0LCAyNCkpO1xuICBjb25zdCByNSA9IHVpbnQzMl9vcih1aW50MzJfc2hpZnRSaWdodChxNSwgOCksIHVpbnQzMl9zaGlmdExlZnQocTUsIDI0KSk7XG4gIGNvbnN0IHI2ID0gdWludDMyX29yKHVpbnQzMl9zaGlmdFJpZ2h0KHE2LCA4KSwgdWludDMyX3NoaWZ0TGVmdChxNiwgMjQpKTtcbiAgY29uc3QgcjcgPSB1aW50MzJfb3IodWludDMyX3NoaWZ0UmlnaHQocTcsIDgpLCB1aW50MzJfc2hpZnRMZWZ0KHE3LCAyNCkpO1xuICBxWzBdID0gdWludDMyX3hvcihxNywgcjcsIHIwLCB1aW50MzJfcm90YXRlUmlnaHQodWludDMyX3hvcjIocTAsIHIwKSwgMTYpKTtcbiAgcVsxXSA9IHVpbnQzMl94b3IoXG4gICAgcTAsXG4gICAgcjAsXG4gICAgcTcsXG4gICAgcjcsXG4gICAgcjEsXG4gICAgdWludDMyX3JvdGF0ZVJpZ2h0KHVpbnQzMl94b3IyKHExLCByMSksIDE2KVxuICApO1xuICBxWzJdID0gdWludDMyX3hvcihxMSwgcjEsIHIyLCB1aW50MzJfcm90YXRlUmlnaHQodWludDMyX3hvcjIocTIsIHIyKSwgMTYpKTtcbiAgcVszXSA9IHVpbnQzMl94b3IoXG4gICAgcTIsXG4gICAgcjIsXG4gICAgcTcsXG4gICAgcjcsXG4gICAgcjMsXG4gICAgdWludDMyX3JvdGF0ZVJpZ2h0KHVpbnQzMl94b3IyKHEzLCByMyksIDE2KVxuICApO1xuICBxWzRdID0gdWludDMyX3hvcihcbiAgICBxMyxcbiAgICByMyxcbiAgICBxNyxcbiAgICByNyxcbiAgICByNCxcbiAgICB1aW50MzJfcm90YXRlUmlnaHQodWludDMyX3hvcjIocTQsIHI0KSwgMTYpXG4gICk7XG4gIHFbNV0gPSB1aW50MzJfeG9yKHE0LCByNCwgcjUsIHVpbnQzMl9yb3RhdGVSaWdodCh1aW50MzJfeG9yMihxNSwgcjUpLCAxNikpO1xuICBxWzZdID0gdWludDMyX3hvcihxNSwgcjUsIHI2LCB1aW50MzJfcm90YXRlUmlnaHQodWludDMyX3hvcjIocTYsIHI2KSwgMTYpKTtcbiAgcVs3XSA9IHVpbnQzMl94b3IocTYsIHI2LCByNywgdWludDMyX3JvdGF0ZVJpZ2h0KHVpbnQzMl94b3IyKHE3LCByNyksIDE2KSk7XG59XG5mdW5jdGlvbiBsb2FkNHhVMzIocSwgc3JjKSB7XG4gIGNvbnN0IHNyY1ZpZXcgPSBuZXcgRGF0YVZpZXcoc3JjLmJ1ZmZlcik7XG4gIHFbMF0gPSBzcmNWaWV3LmdldFVpbnQzMigwICsgc3JjLmJ5dGVPZmZzZXQsIHRydWUpO1xuICBxWzJdID0gc3JjVmlldy5nZXRVaW50MzIoNCArIHNyYy5ieXRlT2Zmc2V0LCB0cnVlKTtcbiAgcVs0XSA9IHNyY1ZpZXcuZ2V0VWludDMyKDggKyBzcmMuYnl0ZU9mZnNldCwgdHJ1ZSk7XG4gIHFbNl0gPSBzcmNWaWV3LmdldFVpbnQzMigxMiArIHNyYy5ieXRlT2Zmc2V0LCB0cnVlKTtcbiAgcVsxXSA9IDA7XG4gIHFbM10gPSAwO1xuICBxWzVdID0gMDtcbiAgcVs3XSA9IDA7XG4gIG9ydGhvKHEpO1xufVxuZnVuY3Rpb24gbG9hZDh4VTMyKHEsIHNyYzAsIHNyYzEpIHtcbiAgY29uc3Qgc3JjMFZpZXcgPSBuZXcgRGF0YVZpZXcoc3JjMC5idWZmZXIpO1xuICBjb25zdCBzcmMxVmlldyA9IG5ldyBEYXRhVmlldyhzcmMxLmJ1ZmZlcik7XG4gIHFbMF0gPSBzcmMwVmlldy5nZXRVaW50MzIoMCArIHNyYzAuYnl0ZU9mZnNldCwgdHJ1ZSk7XG4gIHFbMl0gPSBzcmMwVmlldy5nZXRVaW50MzIoNCArIHNyYzAuYnl0ZU9mZnNldCwgdHJ1ZSk7XG4gIHFbNF0gPSBzcmMwVmlldy5nZXRVaW50MzIoOCArIHNyYzAuYnl0ZU9mZnNldCwgdHJ1ZSk7XG4gIHFbNl0gPSBzcmMwVmlldy5nZXRVaW50MzIoMTIgKyBzcmMwLmJ5dGVPZmZzZXQsIHRydWUpO1xuICBxWzFdID0gc3JjMVZpZXcuZ2V0VWludDMyKDAgKyBzcmMxLmJ5dGVPZmZzZXQsIHRydWUpO1xuICBxWzNdID0gc3JjMVZpZXcuZ2V0VWludDMyKDQgKyBzcmMxLmJ5dGVPZmZzZXQsIHRydWUpO1xuICBxWzVdID0gc3JjMVZpZXcuZ2V0VWludDMyKDggKyBzcmMxLmJ5dGVPZmZzZXQsIHRydWUpO1xuICBxWzddID0gc3JjMVZpZXcuZ2V0VWludDMyKDEyICsgc3JjMS5ieXRlT2Zmc2V0LCB0cnVlKTtcbiAgb3J0aG8ocSk7XG59XG5mdW5jdGlvbiBzdG9yZTR4VTMyKGRzdCwgcSkge1xuICBvcnRobyhxKTtcbiAgY29uc3QgZHN0VmlldyA9IG5ldyBEYXRhVmlldyhkc3QuYnVmZmVyKTtcbiAgZHN0Vmlldy5zZXRVaW50MzIoMCArIGRzdC5ieXRlT2Zmc2V0LCBxWzBdLCB0cnVlKTtcbiAgZHN0Vmlldy5zZXRVaW50MzIoNCArIGRzdC5ieXRlT2Zmc2V0LCBxWzJdLCB0cnVlKTtcbiAgZHN0Vmlldy5zZXRVaW50MzIoOCArIGRzdC5ieXRlT2Zmc2V0LCBxWzRdLCB0cnVlKTtcbiAgZHN0Vmlldy5zZXRVaW50MzIoMTIgKyBkc3QuYnl0ZU9mZnNldCwgcVs2XSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBzdG9yZTh4VTMyKGRzdDAsIGRzdDEsIHEpIHtcbiAgb3J0aG8ocSk7XG4gIGNvbnN0IGRzdDBWaWV3ID0gbmV3IERhdGFWaWV3KGRzdDAuYnVmZmVyKTtcbiAgY29uc3QgZHN0MVZpZXcgPSBuZXcgRGF0YVZpZXcoZHN0MS5idWZmZXIpO1xuICBkc3QwVmlldy5zZXRVaW50MzIoMCArIGRzdDAuYnl0ZU9mZnNldCwgcVswXSwgdHJ1ZSk7XG4gIGRzdDBWaWV3LnNldFVpbnQzMig0ICsgZHN0MC5ieXRlT2Zmc2V0LCBxWzJdLCB0cnVlKTtcbiAgZHN0MFZpZXcuc2V0VWludDMyKDggKyBkc3QwLmJ5dGVPZmZzZXQsIHFbNF0sIHRydWUpO1xuICBkc3QwVmlldy5zZXRVaW50MzIoMTIgKyBkc3QwLmJ5dGVPZmZzZXQsIHFbNl0sIHRydWUpO1xuICBkc3QxVmlldy5zZXRVaW50MzIoMCArIGRzdDEuYnl0ZU9mZnNldCwgcVsxXSwgdHJ1ZSk7XG4gIGRzdDFWaWV3LnNldFVpbnQzMig0ICsgZHN0MS5ieXRlT2Zmc2V0LCBxWzNdLCB0cnVlKTtcbiAgZHN0MVZpZXcuc2V0VWludDMyKDggKyBkc3QxLmJ5dGVPZmZzZXQsIHFbNV0sIHRydWUpO1xuICBkc3QxVmlldy5zZXRVaW50MzIoMTIgKyBkc3QxLmJ5dGVPZmZzZXQsIHFbN10sIHRydWUpO1xufVxuZnVuY3Rpb24gb3J0aG8ocSkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkgKz0gMikge1xuICAgIGNvbnN0IHEwID0gcVtpXTtcbiAgICBjb25zdCBxMSA9IHFbaSArIDFdO1xuICAgIHFbaV0gPSB1aW50MzJfb3IoXG4gICAgICB1aW50MzJfYW5kKHEwLCBvZGRzTWFzayksXG4gICAgICB1aW50MzJfc2hpZnRMZWZ0KHVpbnQzMl9hbmQocTEsIG9kZHNNYXNrKSwgMSlcbiAgICApO1xuICAgIHFbaSArIDFdID0gdWludDMyX29yKFxuICAgICAgdWludDMyX3NoaWZ0UmlnaHQodWludDMyX2FuZChxMCwgZXZlbnNNYXNrKSwgMSksXG4gICAgICB1aW50MzJfYW5kKHExLCBldmVuc01hc2spXG4gICAgKTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkgKz0gNCkge1xuICAgIGNvbnN0IHEwID0gcVtpXTtcbiAgICBjb25zdCBxMSA9IHFbaSArIDFdO1xuICAgIGNvbnN0IHEyID0gcVtpICsgMl07XG4gICAgY29uc3QgcTMgPSBxW2kgKyAzXTtcbiAgICBxW2ldID0gdWludDMyX29yKFxuICAgICAgdWludDMyX2FuZChxMCwgY2w0KSxcbiAgICAgIHVpbnQzMl9zaGlmdExlZnQodWludDMyX2FuZChxMiwgY2w0KSwgMilcbiAgICApO1xuICAgIHFbaSArIDJdID0gdWludDMyX29yKFxuICAgICAgdWludDMyX3NoaWZ0UmlnaHQodWludDMyX2FuZChxMCwgY2g0KSwgMiksXG4gICAgICB1aW50MzJfYW5kKHEyLCBjaDQpXG4gICAgKTtcbiAgICBxW2kgKyAxXSA9IHVpbnQzMl9vcihcbiAgICAgIHVpbnQzMl9hbmQocTEsIGNsNCksXG4gICAgICB1aW50MzJfc2hpZnRMZWZ0KHVpbnQzMl9hbmQocTMsIGNsNCksIDIpXG4gICAgKTtcbiAgICBxW2kgKyAzXSA9IHVpbnQzMl9vcihcbiAgICAgIHVpbnQzMl9zaGlmdFJpZ2h0KHVpbnQzMl9hbmQocTEsIGNoNCksIDIpLFxuICAgICAgdWludDMyX2FuZChxMywgY2g0KVxuICAgICk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICBjb25zdCBxMCA9IHFbaV07XG4gICAgY29uc3QgcTQgPSBxW2kgKyA0XTtcbiAgICBxW2ldID0gdWludDMyX29yKFxuICAgICAgdWludDMyX2FuZChxMCwgY2w4KSxcbiAgICAgIHVpbnQzMl9zaGlmdExlZnQodWludDMyX2FuZChxNCwgY2w4KSwgNClcbiAgICApO1xuICAgIHFbaSArIDRdID0gdWludDMyX29yKFxuICAgICAgdWludDMyX3NoaWZ0UmlnaHQodWludDMyX2FuZChxMCwgY2g4KSwgNCksXG4gICAgICB1aW50MzJfYW5kKHE0LCBjaDgpXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gcmtleU9ydGhvKHEsIGtleSkge1xuICBjb25zdCBrZXlWaWV3ID0gbmV3IERhdGFWaWV3KGtleS5idWZmZXIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIGNvbnN0IHggPSBrZXlWaWV3LmdldFVpbnQzMihpICogNCArIGtleS5ieXRlT2Zmc2V0LCB0cnVlKTtcbiAgICBxW2kgKiAyXSA9IHg7XG4gICAgcVtpICogMiArIDFdID0geDtcbiAgfVxuICBvcnRobyhxKTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgNDsgaSA9IGkgKyAxLCBqID0gaiArIDIpIHtcbiAgICBsZXQgeCA9IHVpbnQzMl9vcihcbiAgICAgIHVpbnQzMl9hbmQocVtqICsgMF0sIG9kZHNNYXNrKSxcbiAgICAgIHVpbnQzMl9hbmQocVtqICsgMV0sIGV2ZW5zTWFzaylcbiAgICApO1xuICAgIGxldCB5ID0geDtcbiAgICB4ID0gdWludDMyX2FuZCh4LCBvZGRzTWFzayk7XG4gICAgcVtqXSA9IHVpbnQzMl9vcih4LCB1aW50MzJfc2hpZnRMZWZ0KHgsIDEpKTtcbiAgICB5ID0gdWludDMyX2FuZCh5LCBldmVuc01hc2spO1xuICAgIHFbaiArIDFdID0gdWludDMyX29yKHksIHVpbnQzMl9zaGlmdFJpZ2h0KHksIDEpKTtcbiAgfVxufVxuXG4vLyBzcmMvZGVveHlzaWkudHNcbnZhciBLZXlTaXplID0gMzI7XG52YXIgTm9uY2VTaXplID0gMTU7XG52YXIgVGFnU2l6ZSA9IDE2O1xudmFyIHN0a1NpemUgPSAxNjtcbnZhciByb3VuZHMgPSAxNjtcbnZhciBibG9ja1NpemUgPSAxNjtcbnZhciB0d2Vha1NpemUgPSAxNjtcbnZhciBwcmVmaXhBREJsb2NrID0gMjtcbnZhciBwcmVmaXhBREZpbmFsID0gNjtcbnZhciBwcmVmaXhNc2dCbG9jayA9IDA7XG52YXIgcHJlZml4TXNnRmluYWwgPSA0O1xudmFyIHByZWZpeFRhZyA9IDE7XG52YXIgcHJlZml4U2hpZnQgPSA0O1xuZnVuY3Rpb24geG9yQnl0ZXMoZHN0LCBhLCBiLCBuKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgZHN0W2ldID0gYVtpXSBeIGJbaV07XG4gIH1cbn1cbnZhciByY29ucyA9IG5ldyBVaW50OEFycmF5KFtcbiAgNDcsXG4gIDk0LFxuICAxODgsXG4gIDk5LFxuICAxOTgsXG4gIDE1MSxcbiAgNTMsXG4gIDEwNixcbiAgMjEyLFxuICAxNzksXG4gIDEyNSxcbiAgMjUwLFxuICAyMzksXG4gIDE5NyxcbiAgMTQ1LFxuICA1NyxcbiAgMTE0XG5dKTtcbmZ1bmN0aW9uIGgodCkge1xuICB0LnNldChcbiAgICBuZXcgVWludDhBcnJheShbXG4gICAgICB0WzFdLFxuICAgICAgdFs2XSxcbiAgICAgIHRbMTFdLFxuICAgICAgdFsxMl0sXG4gICAgICB0WzVdLFxuICAgICAgdFsxMF0sXG4gICAgICB0WzE1XSxcbiAgICAgIHRbMF0sXG4gICAgICB0WzldLFxuICAgICAgdFsxNF0sXG4gICAgICB0WzNdLFxuICAgICAgdFs0XSxcbiAgICAgIHRbMTNdLFxuICAgICAgdFsyXSxcbiAgICAgIHRbN10sXG4gICAgICB0WzhdXG4gICAgXSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGxmc3IyKHQpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGtTaXplOyBpKyspIHtcbiAgICBjb25zdCB4ID0gdFtpXTtcbiAgICBjb25zdCB4NyA9IHggPj4gNztcbiAgICBjb25zdCB4NSA9IHggPj4gNSAmIDE7XG4gICAgdFtpXSA9IHggPDwgMSB8IHg3IF4geDU7XG4gIH1cbn1cbmZ1bmN0aW9uIGxmc3IzKHQpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGtTaXplOyBpKyspIHtcbiAgICBjb25zdCB4ID0gdFtpXTtcbiAgICBjb25zdCB4MCA9IHggJiAxO1xuICAgIGNvbnN0IHg2ID0geCA+PiA2ICYgMTtcbiAgICB0W2ldID0geCA+PiAxIHwgKHgwIF4geDYpIDw8IDc7XG4gIH1cbn1cbmZ1bmN0aW9uIHhvclJDKHQsIGkpIHtcbiAgdFswXSBePSAxO1xuICB0WzFdIF49IDI7XG4gIHRbMl0gXj0gNDtcbiAgdFszXSBePSA4O1xuICB0WzRdIF49IHJjb25zW2ldO1xuICB0WzVdIF49IHJjb25zW2ldO1xuICB0WzZdIF49IHJjb25zW2ldO1xuICB0WzddIF49IHJjb25zW2ldO1xufVxuZnVuY3Rpb24gc3RrRGVyaXZlSyhrZXksIGRlcml2ZWRLcykge1xuICBjb25zdCB0azIgPSBrZXkuc3ViYXJyYXkoMTYsIDMyKTtcbiAgY29uc3QgdGszID0ga2V5LnN1YmFycmF5KDAsIDE2KTtcbiAgeG9yQnl0ZXMoZGVyaXZlZEtzWzBdLCB0azIsIHRrMywgc3RrU2l6ZSk7XG4gIHhvclJDKGRlcml2ZWRLc1swXSwgMCk7XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IHJvdW5kczsgaSsrKSB7XG4gICAgbGZzcjIodGsyKTtcbiAgICBoKHRrMik7XG4gICAgbGZzcjModGszKTtcbiAgICBoKHRrMyk7XG4gICAgeG9yQnl0ZXMoZGVyaXZlZEtzW2ldLCB0azIsIHRrMywgc3RrU2l6ZSk7XG4gICAgeG9yUkMoZGVyaXZlZEtzW2ldLCBpKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVyaXZlU3ViVHdlYWtLZXlzKHN0a3MsIGRlcml2ZWRLcywgdHdlYWspIHtcbiAgY29uc3QgdGsxID0gbmV3IFVpbnQ4QXJyYXkodHdlYWspO1xuICB4b3JCeXRlcyhzdGtzWzBdLCBkZXJpdmVkS3NbMF0sIHRrMSwgc3RrU2l6ZSk7XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IHJvdW5kczsgaSsrKSB7XG4gICAgaCh0azEpO1xuICAgIHhvckJ5dGVzKHN0a3NbaV0sIGRlcml2ZWRLc1tpXSwgdGsxLCBzdGtTaXplKTtcbiAgfVxufVxuZnVuY3Rpb24gbmV3U3RrcygpIHtcbiAgY29uc3Qgc3RrcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8PSByb3VuZHM7IGkrKykge1xuICAgIHN0a3MucHVzaChuZXcgVWludDhBcnJheSgxNikpO1xuICB9XG4gIHJldHVybiBzdGtzO1xufVxuZnVuY3Rpb24gY3QzMl9iY0VuY3J5cHQoY2lwaGVydGV4dCwgZGVyaXZlZEtzLCB0d2VhaywgcGxhaW50ZXh0KSB7XG4gIGNvbnN0IHN0a3MgPSBuZXdTdGtzKCk7XG4gIGRlcml2ZVN1YlR3ZWFrS2V5cyhzdGtzLCBkZXJpdmVkS3MsIHR3ZWFrKTtcbiAgY29uc3QgcSA9IG5ld1EoKTtcbiAgY29uc3Qgc3RrID0gbmV3USgpO1xuICBsb2FkNHhVMzIocSwgcGxhaW50ZXh0KTtcbiAgbG9hZDR4VTMyKHN0aywgc3Rrc1swXSk7XG4gIGFkZFJvdW5kS2V5KHEsIHN0ayk7XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IHJvdW5kczsgaSsrKSB7XG4gICAgc3ViQnl0ZXMocSk7XG4gICAgc2hpZnRSb3dzKHEpO1xuICAgIG1peENvbHVtbnMocSk7XG4gICAgbG9hZDR4VTMyKHN0aywgc3Rrc1tpXSk7XG4gICAgYWRkUm91bmRLZXkocSwgc3RrKTtcbiAgfVxuICBzdG9yZTR4VTMyKGNpcGhlcnRleHQsIHEpO1xufVxuZnVuY3Rpb24gY3QzMl9iY0tleXN0cmVhbXgyKGNpcGhlcnRleHQsIGRlcml2ZWRLcywgdHdlYWtzLCBub25jZSkge1xuICBjb25zdCBzdGtzID0gW25ld1N0a3MoKSwgbmV3U3RrcygpXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspIHtcbiAgICBkZXJpdmVTdWJUd2Vha0tleXMoc3Rrc1tpXSwgZGVyaXZlZEtzLCB0d2Vha3NbaV0pO1xuICB9XG4gIGNvbnN0IHEgPSBuZXdRKCk7XG4gIGNvbnN0IHN0ayA9IG5ld1EoKTtcbiAgcmtleU9ydGhvKHEsIG5vbmNlKTtcbiAgbG9hZDh4VTMyKHN0aywgc3Rrc1swXVswXSwgc3Rrc1sxXVswXSk7XG4gIGFkZFJvdW5kS2V5KHEsIHN0ayk7XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IHJvdW5kczsgaSsrKSB7XG4gICAgc3ViQnl0ZXMocSk7XG4gICAgc2hpZnRSb3dzKHEpO1xuICAgIG1peENvbHVtbnMocSk7XG4gICAgbG9hZDh4VTMyKHN0aywgc3Rrc1swXVtpXSwgc3Rrc1sxXVtpXSk7XG4gICAgYWRkUm91bmRLZXkocSwgc3RrKTtcbiAgfVxuICBzdG9yZTh4VTMyKGNpcGhlcnRleHQuc3ViYXJyYXkoMCwgMTYpLCBjaXBoZXJ0ZXh0LnN1YmFycmF5KDE2LCAzMiksIHEpO1xufVxuZnVuY3Rpb24gY3QzMl9iY1RhZ3gxKHRhZywgZGVyaXZlZEtzLCB0d2VhaywgcGxhaW50ZXh0KSB7XG4gIGNvbnN0IHN0a3MgPSBuZXdTdGtzKCk7XG4gIGRlcml2ZVN1YlR3ZWFrS2V5cyhzdGtzLCBkZXJpdmVkS3MsIHR3ZWFrKTtcbiAgY29uc3QgcSA9IG5ld1EoKTtcbiAgY29uc3Qgc3RrID0gbmV3USgpO1xuICBsb2FkNHhVMzIocSwgcGxhaW50ZXh0KTtcbiAgbG9hZDR4VTMyKHN0aywgc3Rrc1swXSk7XG4gIGFkZFJvdW5kS2V5KHEsIHN0ayk7XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IHJvdW5kczsgaSsrKSB7XG4gICAgc3ViQnl0ZXMocSk7XG4gICAgc2hpZnRSb3dzKHEpO1xuICAgIG1peENvbHVtbnMocSk7XG4gICAgbG9hZDR4VTMyKHN0aywgc3Rrc1tpXSk7XG4gICAgYWRkUm91bmRLZXkocSwgc3RrKTtcbiAgfVxuICBjb25zdCB0YWdWaWV3ID0gbmV3IERhdGFWaWV3KHRhZy5idWZmZXIpO1xuICBsZXQgdGFnMCA9IHRhZ1ZpZXcuZ2V0VWludDMyKDAsIHRydWUpO1xuICBsZXQgdGFnMSA9IHRhZ1ZpZXcuZ2V0VWludDMyKDQsIHRydWUpO1xuICBsZXQgdGFnMiA9IHRhZ1ZpZXcuZ2V0VWludDMyKDgsIHRydWUpO1xuICBsZXQgdGFnMyA9IHRhZ1ZpZXcuZ2V0VWludDMyKDEyLCB0cnVlKTtcbiAgb3J0aG8ocSk7XG4gIHRhZzAgPSB1aW50MzJfeG9yMih0YWcwLCBxWzBdKTtcbiAgdGFnMSA9IHVpbnQzMl94b3IyKHRhZzEsIHFbMl0pO1xuICB0YWcyID0gdWludDMyX3hvcjIodGFnMiwgcVs0XSk7XG4gIHRhZzMgPSB1aW50MzJfeG9yMih0YWczLCBxWzZdKTtcbiAgdGFnVmlldy5zZXRVaW50MzIoMCwgdGFnMCwgdHJ1ZSk7XG4gIHRhZ1ZpZXcuc2V0VWludDMyKDQsIHRhZzEsIHRydWUpO1xuICB0YWdWaWV3LnNldFVpbnQzMig4LCB0YWcyLCB0cnVlKTtcbiAgdGFnVmlldy5zZXRVaW50MzIoMTIsIHRhZzMsIHRydWUpO1xufVxuZnVuY3Rpb24gY3QzMl9iY1RhZ3gyKHRhZywgZGVyaXZlZEtzLCB0d2Vha3MsIHBsYWludGV4dCkge1xuICBjb25zdCBzdGtzID0gW25ld1N0a3MoKSwgbmV3U3RrcygpXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspIHtcbiAgICBkZXJpdmVTdWJUd2Vha0tleXMoc3Rrc1tpXSwgZGVyaXZlZEtzLCB0d2Vha3NbaV0pO1xuICB9XG4gIGNvbnN0IHEgPSBuZXdRKCk7XG4gIGNvbnN0IHN0ayA9IG5ld1EoKTtcbiAgbG9hZDh4VTMyKHEsIHBsYWludGV4dC5zdWJhcnJheSgwLCAxNiksIHBsYWludGV4dC5zdWJhcnJheSgxNiwgMzIpKTtcbiAgbG9hZDh4VTMyKHN0aywgc3Rrc1swXVswXSwgc3Rrc1sxXVswXSk7XG4gIGFkZFJvdW5kS2V5KHEsIHN0ayk7XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IHJvdW5kczsgaSsrKSB7XG4gICAgc3ViQnl0ZXMocSk7XG4gICAgc2hpZnRSb3dzKHEpO1xuICAgIG1peENvbHVtbnMocSk7XG4gICAgbG9hZDh4VTMyKHN0aywgc3Rrc1swXVtpXSwgc3Rrc1sxXVtpXSk7XG4gICAgYWRkUm91bmRLZXkocSwgc3RrKTtcbiAgfVxuICBjb25zdCB0YWdWaWV3ID0gbmV3IERhdGFWaWV3KHRhZy5idWZmZXIpO1xuICBsZXQgdGFnMCA9IHRhZ1ZpZXcuZ2V0VWludDMyKDAsIHRydWUpO1xuICBsZXQgdGFnMSA9IHRhZ1ZpZXcuZ2V0VWludDMyKDQsIHRydWUpO1xuICBsZXQgdGFnMiA9IHRhZ1ZpZXcuZ2V0VWludDMyKDgsIHRydWUpO1xuICBsZXQgdGFnMyA9IHRhZ1ZpZXcuZ2V0VWludDMyKDEyLCB0cnVlKTtcbiAgb3J0aG8ocSk7XG4gIHRhZzAgPSB1aW50MzJfeG9yMyh0YWcwLCBxWzBdLCBxWzFdKTtcbiAgdGFnMSA9IHVpbnQzMl94b3IzKHRhZzEsIHFbMl0sIHFbM10pO1xuICB0YWcyID0gdWludDMyX3hvcjModGFnMiwgcVs0XSwgcVs1XSk7XG4gIHRhZzMgPSB1aW50MzJfeG9yMyh0YWczLCBxWzZdLCBxWzddKTtcbiAgdGFnVmlldy5zZXRVaW50MzIoMCwgdGFnMCwgdHJ1ZSk7XG4gIHRhZ1ZpZXcuc2V0VWludDMyKDQsIHRhZzEsIHRydWUpO1xuICB0YWdWaWV3LnNldFVpbnQzMig4LCB0YWcyLCB0cnVlKTtcbiAgdGFnVmlldy5zZXRVaW50MzIoMTIsIHRhZzMsIHRydWUpO1xufVxuZnVuY3Rpb24gZW5jb2RlVGFnVHdlYWsob3V0LCBwcmVmaXgsIGJsb2NrTnIpIHtcbiAgb3V0LnNldChuZXcgVWludDhBcnJheSgxMikpO1xuICBuZXcgRGF0YVZpZXcob3V0LmJ1ZmZlcikuc2V0VWludDMyKDEyICsgb3V0LmJ5dGVPZmZzZXQsIGJsb2NrTnIsIGZhbHNlKTtcbiAgb3V0WzBdID0gcHJlZml4IDw8IHByZWZpeFNoaWZ0O1xufVxuZnVuY3Rpb24gZW5jb2RlRW5jVHdlYWsob3V0LCB0YWcsIGJsb2NrTnIpIHtcbiAgY29uc3QgdG1wID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gIG5ldyBEYXRhVmlldyh0bXAuYnVmZmVyKS5zZXRVaW50MzIoMCwgYmxvY2tOciwgZmFsc2UpO1xuICBvdXQuc2V0KHRhZyk7XG4gIG91dFswXSB8PSAxMjg7XG4gIHhvckJ5dGVzKG91dC5zdWJhcnJheSgxMiwgMTYpLCBvdXQuc3ViYXJyYXkoMTIsIDE2KSwgdG1wLCA0KTtcbn1cbmZ1bmN0aW9uIG5ld1R3ZWFrcygpIHtcbiAgcmV0dXJuIFtuZXcgVWludDhBcnJheSh0d2Vha1NpemUpLCBuZXcgVWludDhBcnJheSh0d2Vha1NpemUpXTtcbn1cbmZ1bmN0aW9uIGUoZGVyaXZlZEtzLCBub25jZSwgZHN0LCBhZCwgbXNnKSB7XG4gIGNvbnN0IHR3ZWFrcyA9IG5ld1R3ZWFrcygpO1xuICBsZXQgaSA9IDA7XG4gIGxldCBqID0gMDtcbiAgbGV0IGFkTGVuID0gYWQubGVuZ3RoO1xuICBjb25zdCBhdXRoID0gbmV3IFVpbnQ4QXJyYXkoVGFnU2l6ZSk7XG4gIGZvciAoaSA9IDA7IGFkTGVuID49IDIgKiBibG9ja1NpemU7IGkgKz0gMikge1xuICAgIGVuY29kZVRhZ1R3ZWFrKHR3ZWFrc1swXSwgcHJlZml4QURCbG9jaywgaSk7XG4gICAgZW5jb2RlVGFnVHdlYWsodHdlYWtzWzFdLCBwcmVmaXhBREJsb2NrLCBpICsgMSk7XG4gICAgY3QzMl9iY1RhZ3gyKFxuICAgICAgYXV0aCxcbiAgICAgIGRlcml2ZWRLcyxcbiAgICAgIHR3ZWFrcyxcbiAgICAgIGFkLnN1YmFycmF5KGkgKiBibG9ja1NpemUsIChpICsgMikgKiBibG9ja1NpemUpXG4gICAgKTtcbiAgICBhZExlbiAtPSAyICogYmxvY2tTaXplO1xuICB9XG4gIGZvciAoOyBhZExlbiA+PSBibG9ja1NpemU7IGkrKykge1xuICAgIGVuY29kZVRhZ1R3ZWFrKHR3ZWFrc1swXSwgcHJlZml4QURCbG9jaywgaSk7XG4gICAgY3QzMl9iY1RhZ3gxKFxuICAgICAgYXV0aCxcbiAgICAgIGRlcml2ZWRLcyxcbiAgICAgIHR3ZWFrc1swXSxcbiAgICAgIGFkLnN1YmFycmF5KGkgKiBibG9ja1NpemUsIChpICsgMSkgKiBibG9ja1NpemUpXG4gICAgKTtcbiAgICBhZExlbiAtPSBibG9ja1NpemU7XG4gIH1cbiAgaWYgKGFkTGVuID4gMCkge1xuICAgIGVuY29kZVRhZ1R3ZWFrKHR3ZWFrc1swXSwgcHJlZml4QURGaW5hbCwgaSk7XG4gICAgY29uc3QgYVN0YXIgPSBuZXcgVWludDhBcnJheShibG9ja1NpemUpO1xuICAgIGFTdGFyLnNldChhZC5zdWJhcnJheShhZC5sZW5ndGggLSBhZExlbikpO1xuICAgIGFTdGFyW2FkTGVuXSA9IDEyODtcbiAgICBjdDMyX2JjVGFneDEoYXV0aCwgZGVyaXZlZEtzLCB0d2Vha3NbMF0sIGFTdGFyKTtcbiAgfVxuICBsZXQgbXNnTGVuID0gbXNnLmxlbmd0aDtcbiAgZm9yIChqID0gMDsgbXNnTGVuID49IDIgKiBibG9ja1NpemU7IGogKz0gMikge1xuICAgIGVuY29kZVRhZ1R3ZWFrKHR3ZWFrc1swXSwgcHJlZml4TXNnQmxvY2ssIGopO1xuICAgIGVuY29kZVRhZ1R3ZWFrKHR3ZWFrc1sxXSwgcHJlZml4TXNnQmxvY2ssIGogKyAxKTtcbiAgICBjdDMyX2JjVGFneDIoXG4gICAgICBhdXRoLFxuICAgICAgZGVyaXZlZEtzLFxuICAgICAgdHdlYWtzLFxuICAgICAgbXNnLnN1YmFycmF5KGogKiBibG9ja1NpemUsIChqICsgMikgKiBibG9ja1NpemUpXG4gICAgKTtcbiAgICBtc2dMZW4gLT0gMiAqIGJsb2NrU2l6ZTtcbiAgfVxuICBmb3IgKDsgbXNnTGVuID49IGJsb2NrU2l6ZTsgaisrKSB7XG4gICAgZW5jb2RlVGFnVHdlYWsodHdlYWtzWzBdLCBwcmVmaXhNc2dCbG9jaywgaik7XG4gICAgY3QzMl9iY1RhZ3gxKFxuICAgICAgYXV0aCxcbiAgICAgIGRlcml2ZWRLcyxcbiAgICAgIHR3ZWFrc1swXSxcbiAgICAgIG1zZy5zdWJhcnJheShqICogYmxvY2tTaXplLCAoaiArIDEpICogYmxvY2tTaXplKVxuICAgICk7XG4gICAgbXNnTGVuIC09IGJsb2NrU2l6ZTtcbiAgfVxuICBpZiAobXNnTGVuID4gMCkge1xuICAgIGVuY29kZVRhZ1R3ZWFrKHR3ZWFrc1swXSwgcHJlZml4TXNnRmluYWwsIGopO1xuICAgIGNvbnN0IG1TdGFyID0gbmV3IFVpbnQ4QXJyYXkoYmxvY2tTaXplKTtcbiAgICBtU3Rhci5zZXQobXNnLnN1YmFycmF5KG1zZy5sZW5ndGggLSBtc2dMZW4pKTtcbiAgICBtU3Rhclttc2dMZW5dID0gMTI4O1xuICAgIGN0MzJfYmNUYWd4MShhdXRoLCBkZXJpdmVkS3MsIHR3ZWFrc1swXSwgbVN0YXIpO1xuICB9XG4gIGNvbnN0IGVuY05vbmNlID0gbmV3IFVpbnQ4QXJyYXkoYmxvY2tTaXplKTtcbiAgZW5jTm9uY2Uuc2V0KG5vbmNlLCAxKTtcbiAgZW5jTm9uY2VbMF0gPSBwcmVmaXhUYWcgPDwgcHJlZml4U2hpZnQ7XG4gIGN0MzJfYmNFbmNyeXB0KGF1dGgsIGRlcml2ZWRLcywgZW5jTm9uY2UsIGF1dGgpO1xuICBlbmNOb25jZVswXSA9IDA7XG4gIG1zZ0xlbiA9IG1zZy5sZW5ndGg7XG4gIGNvbnN0IGVuY0Jsa3MgPSBuZXcgVWludDhBcnJheSgyICogYmxvY2tTaXplKTtcbiAgZm9yIChqID0gMDsgbXNnTGVuID49IDIgKiBibG9ja1NpemU7IGogKz0gMikge1xuICAgIGVuY29kZUVuY1R3ZWFrKHR3ZWFrc1swXSwgYXV0aCwgaik7XG4gICAgZW5jb2RlRW5jVHdlYWsodHdlYWtzWzFdLCBhdXRoLCBqICsgMSk7XG4gICAgY3QzMl9iY0tleXN0cmVhbXgyKGVuY0Jsa3MsIGRlcml2ZWRLcywgdHdlYWtzLCBlbmNOb25jZSk7XG4gICAgeG9yQnl0ZXMoXG4gICAgICBkc3Quc3ViYXJyYXkoaiAqIGJsb2NrU2l6ZSwgKGogKyAyKSAqIGJsb2NrU2l6ZSksXG4gICAgICBtc2cuc3ViYXJyYXkoaiAqIGJsb2NrU2l6ZSwgKGogKyAyKSAqIGJsb2NrU2l6ZSksXG4gICAgICBlbmNCbGtzLFxuICAgICAgMiAqIGJsb2NrU2l6ZVxuICAgICk7XG4gICAgbXNnTGVuIC09IDIgKiBibG9ja1NpemU7XG4gIH1cbiAgZm9yICg7IG1zZ0xlbiA+PSBibG9ja1NpemU7IGorKykge1xuICAgIGVuY29kZUVuY1R3ZWFrKHR3ZWFrc1swXSwgYXV0aCwgaik7XG4gICAgY3QzMl9iY0VuY3J5cHQoZW5jQmxrcywgZGVyaXZlZEtzLCB0d2Vha3NbMF0sIGVuY05vbmNlKTtcbiAgICB4b3JCeXRlcyhcbiAgICAgIGRzdC5zdWJhcnJheShqICogYmxvY2tTaXplLCAoaiArIDEpICogYmxvY2tTaXplKSxcbiAgICAgIG1zZy5zdWJhcnJheShqICogYmxvY2tTaXplLCAoaiArIDEpICogYmxvY2tTaXplKSxcbiAgICAgIGVuY0Jsa3MsXG4gICAgICBibG9ja1NpemVcbiAgICApO1xuICAgIG1zZ0xlbiAtPSBibG9ja1NpemU7XG4gIH1cbiAgaWYgKG1zZ0xlbiA+IDApIHtcbiAgICBlbmNvZGVFbmNUd2Vhayh0d2Vha3NbMF0sIGF1dGgsIGopO1xuICAgIGN0MzJfYmNFbmNyeXB0KGVuY0Jsa3MsIGRlcml2ZWRLcywgdHdlYWtzWzBdLCBlbmNOb25jZSk7XG4gICAgeG9yQnl0ZXMoXG4gICAgICBkc3Quc3ViYXJyYXkoaiAqIGJsb2NrU2l6ZSwgbXNnLmxlbmd0aCksXG4gICAgICBtc2cuc3ViYXJyYXkoaiAqIGJsb2NrU2l6ZSksXG4gICAgICBlbmNCbGtzLFxuICAgICAgbXNnTGVuXG4gICAgKTtcbiAgfVxuICBkc3Quc2V0KGF1dGgsIG1zZy5sZW5ndGgpO1xufVxuZnVuY3Rpb24gZChkZXJpdmVkS3MsIG5vbmNlLCBkc3QsIGFkLCBjdCkge1xuICBsZXQgY3RMZW4gPSBjdC5sZW5ndGggLSBUYWdTaXplO1xuICBjb25zdCBjaXBoZXJ0ZXh0ID0gY3Quc3ViYXJyYXkoMCwgY3RMZW4pO1xuICBjb25zdCB0YWcgPSBjdC5zdWJhcnJheShjdExlbik7XG4gIGxldCBqID0gMDtcbiAgY29uc3QgZGVjVHdlYWtzID0gbmV3VHdlYWtzKCk7XG4gIGNvbnN0IGRlY05vbmNlID0gbmV3IFVpbnQ4QXJyYXkoYmxvY2tTaXplKTtcbiAgZGVjTm9uY2Uuc2V0KG5vbmNlLCAxKTtcbiAgY29uc3QgZGVjQmxrcyA9IG5ldyBVaW50OEFycmF5KDIgKiBibG9ja1NpemUpO1xuICBmb3IgKGogPSAwOyBjdExlbiA+PSAyICogYmxvY2tTaXplOyBqICs9IDIpIHtcbiAgICBlbmNvZGVFbmNUd2VhayhkZWNUd2Vha3NbMF0sIHRhZywgaik7XG4gICAgZW5jb2RlRW5jVHdlYWsoZGVjVHdlYWtzWzFdLCB0YWcsIGogKyAxKTtcbiAgICBjdDMyX2JjS2V5c3RyZWFteDIoZGVjQmxrcywgZGVyaXZlZEtzLCBkZWNUd2Vha3MsIGRlY05vbmNlKTtcbiAgICB4b3JCeXRlcyhcbiAgICAgIGRzdC5zdWJhcnJheShqICogYmxvY2tTaXplLCAoaiArIDIpICogYmxvY2tTaXplKSxcbiAgICAgIGNpcGhlcnRleHQuc3ViYXJyYXkoaiAqIGJsb2NrU2l6ZSwgKGogKyAyKSAqIGJsb2NrU2l6ZSksXG4gICAgICBkZWNCbGtzLFxuICAgICAgMiAqIGJsb2NrU2l6ZVxuICAgICk7XG4gICAgY3RMZW4gLT0gMiAqIGJsb2NrU2l6ZTtcbiAgfVxuICBmb3IgKDsgY3RMZW4gPj0gYmxvY2tTaXplOyBqKyspIHtcbiAgICBlbmNvZGVFbmNUd2VhayhkZWNUd2Vha3NbMF0sIHRhZywgaik7XG4gICAgY3QzMl9iY0VuY3J5cHQoZGVjQmxrcywgZGVyaXZlZEtzLCBkZWNUd2Vha3NbMF0sIGRlY05vbmNlKTtcbiAgICB4b3JCeXRlcyhcbiAgICAgIGRzdC5zdWJhcnJheShqICogYmxvY2tTaXplLCAoaiArIDEpICogYmxvY2tTaXplKSxcbiAgICAgIGNpcGhlcnRleHQuc3ViYXJyYXkoaiAqIGJsb2NrU2l6ZSwgKGogKyAxKSAqIGJsb2NrU2l6ZSksXG4gICAgICBkZWNCbGtzLFxuICAgICAgYmxvY2tTaXplXG4gICAgKTtcbiAgICBjdExlbiAtPSBibG9ja1NpemU7XG4gIH1cbiAgaWYgKGN0TGVuID4gMCkge1xuICAgIGVuY29kZUVuY1R3ZWFrKGRlY1R3ZWFrc1swXSwgdGFnLCBqKTtcbiAgICBjdDMyX2JjRW5jcnlwdChkZWNCbGtzLCBkZXJpdmVkS3MsIGRlY1R3ZWFrc1swXSwgZGVjTm9uY2UpO1xuICAgIHhvckJ5dGVzKFxuICAgICAgZHN0LnN1YmFycmF5KGogKiBibG9ja1NpemUpLFxuICAgICAgY2lwaGVydGV4dC5zdWJhcnJheShqICogYmxvY2tTaXplKSxcbiAgICAgIGRlY0Jsa3MsXG4gICAgICBjdExlblxuICAgICk7XG4gIH1cbiAgbGV0IGkgPSAwO1xuICBsZXQgYWRMZW4gPSBhZC5sZW5ndGg7XG4gIGNvbnN0IHR3ZWFrcyA9IG5ld1R3ZWFrcygpO1xuICBjb25zdCBhdXRoID0gbmV3IFVpbnQ4QXJyYXkoVGFnU2l6ZSk7XG4gIGZvciAoaSA9IDA7IGFkTGVuID49IDIgKiBibG9ja1NpemU7IGkgKz0gMikge1xuICAgIGVuY29kZVRhZ1R3ZWFrKHR3ZWFrc1swXSwgcHJlZml4QURCbG9jaywgaSk7XG4gICAgZW5jb2RlVGFnVHdlYWsodHdlYWtzWzFdLCBwcmVmaXhBREJsb2NrLCBpICsgMSk7XG4gICAgY3QzMl9iY1RhZ3gyKFxuICAgICAgYXV0aCxcbiAgICAgIGRlcml2ZWRLcyxcbiAgICAgIHR3ZWFrcyxcbiAgICAgIGFkLnN1YmFycmF5KGkgKiBibG9ja1NpemUsIChpICsgMikgKiBibG9ja1NpemUpXG4gICAgKTtcbiAgICBhZExlbiAtPSAyICogYmxvY2tTaXplO1xuICB9XG4gIGZvciAoOyBhZExlbiA+PSBibG9ja1NpemU7IGkrKykge1xuICAgIGVuY29kZVRhZ1R3ZWFrKHR3ZWFrc1swXSwgcHJlZml4QURCbG9jaywgaSk7XG4gICAgY3QzMl9iY1RhZ3gxKFxuICAgICAgYXV0aCxcbiAgICAgIGRlcml2ZWRLcyxcbiAgICAgIHR3ZWFrc1swXSxcbiAgICAgIGFkLnN1YmFycmF5KGkgKiBibG9ja1NpemUsIChpICsgMSkgKiBibG9ja1NpemUpXG4gICAgKTtcbiAgICBhZExlbiAtPSBibG9ja1NpemU7XG4gIH1cbiAgaWYgKGFkTGVuID4gMCkge1xuICAgIGVuY29kZVRhZ1R3ZWFrKHR3ZWFrc1swXSwgcHJlZml4QURGaW5hbCwgaSk7XG4gICAgY29uc3QgYVN0YXIgPSBuZXcgVWludDhBcnJheShibG9ja1NpemUpO1xuICAgIGFTdGFyLnNldChhZC5zdWJhcnJheShhZC5sZW5ndGggLSBhZExlbikpO1xuICAgIGFTdGFyW2FkTGVuXSA9IDEyODtcbiAgICBjdDMyX2JjVGFneDEoYXV0aCwgZGVyaXZlZEtzLCB0d2Vha3NbMF0sIGFTdGFyKTtcbiAgfVxuICBsZXQgbXNnTGVuID0gZHN0Lmxlbmd0aDtcbiAgZm9yIChqID0gMDsgbXNnTGVuID49IDIgKiBibG9ja1NpemU7IGogKz0gMikge1xuICAgIGVuY29kZVRhZ1R3ZWFrKHR3ZWFrc1swXSwgcHJlZml4TXNnQmxvY2ssIGopO1xuICAgIGVuY29kZVRhZ1R3ZWFrKHR3ZWFrc1sxXSwgcHJlZml4TXNnQmxvY2ssIGogKyAxKTtcbiAgICBjdDMyX2JjVGFneDIoXG4gICAgICBhdXRoLFxuICAgICAgZGVyaXZlZEtzLFxuICAgICAgdHdlYWtzLFxuICAgICAgZHN0LnN1YmFycmF5KGogKiBibG9ja1NpemUsIChqICsgMikgKiBibG9ja1NpemUpXG4gICAgKTtcbiAgICBtc2dMZW4gLT0gMiAqIGJsb2NrU2l6ZTtcbiAgfVxuICBmb3IgKDsgbXNnTGVuID49IGJsb2NrU2l6ZTsgaisrKSB7XG4gICAgZW5jb2RlVGFnVHdlYWsodHdlYWtzWzBdLCBwcmVmaXhNc2dCbG9jaywgaik7XG4gICAgY3QzMl9iY1RhZ3gxKFxuICAgICAgYXV0aCxcbiAgICAgIGRlcml2ZWRLcyxcbiAgICAgIHR3ZWFrc1swXSxcbiAgICAgIGRzdC5zdWJhcnJheShqICogYmxvY2tTaXplLCAoaiArIDEpICogYmxvY2tTaXplKVxuICAgICk7XG4gICAgbXNnTGVuIC09IGJsb2NrU2l6ZTtcbiAgfVxuICBpZiAobXNnTGVuID4gMCkge1xuICAgIGVuY29kZVRhZ1R3ZWFrKHR3ZWFrc1swXSwgcHJlZml4TXNnRmluYWwsIGopO1xuICAgIGNvbnN0IG1TdGFyID0gbmV3IFVpbnQ4QXJyYXkoYmxvY2tTaXplKTtcbiAgICBtU3Rhci5zZXQoZHN0LnN1YmFycmF5KGRzdC5sZW5ndGggLSBtc2dMZW4pKTtcbiAgICBtU3Rhclttc2dMZW5dID0gMTI4O1xuICAgIGN0MzJfYmNUYWd4MShhdXRoLCBkZXJpdmVkS3MsIHR3ZWFrc1swXSwgbVN0YXIpO1xuICB9XG4gIGRlY05vbmNlWzBdID0gcHJlZml4VGFnIDw8IHByZWZpeFNoaWZ0O1xuICBjdDMyX2JjRW5jcnlwdChhdXRoLCBkZXJpdmVkS3MsIGRlY05vbmNlLCBhdXRoKTtcbiAgaWYgKGF1dGgubGVuZ3RoICE9PSB0YWcubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxldCBlcWwgPSB0cnVlO1xuICBmb3IgKGkgPSAwOyBpIDwgYXV0aC5sZW5ndGg7IGkrKykge1xuICAgIGVxbCAmPSAhKGF1dGhbaV0gXiB0YWdbaV0pO1xuICB9XG4gIHJldHVybiBlcWw7XG59XG52YXIgQUVBRCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Ioa2V5KSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImRlcml2ZWRLc1wiKTtcbiAgICBpZiAoa2V5Lmxlbmd0aCAhPT0gS2V5U2l6ZSkge1xuICAgICAgdGhyb3cgRXJyS2V5U2l6ZTtcbiAgICB9XG4gICAgdGhpcy5kZXJpdmVkS3MgPSBuZXdTdGtzKCk7XG4gICAgc3RrRGVyaXZlSyhrZXksIHRoaXMuZGVyaXZlZEtzKTtcbiAgfVxuICBlbmNyeXB0KG5vbmNlLCBwbGFpbnRleHQgPSBudWxsLCBhc3NvY2lhdGVkRGF0YSA9IG51bGwpIHtcbiAgICBpZiAobm9uY2UubGVuZ3RoICE9PSBOb25jZVNpemUpIHtcbiAgICAgIHRocm93IEVyck5vbmNlU2l6ZTtcbiAgICB9XG4gICAgaWYgKHBsYWludGV4dCA9PSBudWxsKSB7XG4gICAgICBwbGFpbnRleHQgPSB6ZXJvQnVmZmVyO1xuICAgIH1cbiAgICBpZiAoYXNzb2NpYXRlZERhdGEgPT0gbnVsbCkge1xuICAgICAgYXNzb2NpYXRlZERhdGEgPSB6ZXJvQnVmZmVyO1xuICAgIH1cbiAgICBjb25zdCBkc3QgPSBuZXcgVWludDhBcnJheShwbGFpbnRleHQubGVuZ3RoICsgVGFnU2l6ZSk7XG4gICAgZSh0aGlzLmRlcml2ZWRLcywgbm9uY2UsIGRzdCwgYXNzb2NpYXRlZERhdGEsIHBsYWludGV4dCk7XG4gICAgcmV0dXJuIGRzdDtcbiAgfVxuICBkZWNyeXB0KG5vbmNlLCBjaXBoZXJ0ZXh0LCBhc3NvY2lhdGVkRGF0YSA9IG51bGwpIHtcbiAgICBpZiAobm9uY2UubGVuZ3RoICE9PSBOb25jZVNpemUpIHtcbiAgICAgIHRocm93IEVyck5vbmNlU2l6ZTtcbiAgICB9XG4gICAgaWYgKGNpcGhlcnRleHQubGVuZ3RoIDwgVGFnU2l6ZSkge1xuICAgICAgdGhyb3cgRXJyT3BlbjtcbiAgICB9XG4gICAgaWYgKGFzc29jaWF0ZWREYXRhID09IG51bGwpIHtcbiAgICAgIGFzc29jaWF0ZWREYXRhID0gemVyb0J1ZmZlcjtcbiAgICB9XG4gICAgY29uc3QgZHN0ID0gbmV3IFVpbnQ4QXJyYXkoY2lwaGVydGV4dC5sZW5ndGggLSBUYWdTaXplKTtcbiAgICBpZiAoIWQodGhpcy5kZXJpdmVkS3MsIG5vbmNlLCBkc3QsIGFzc29jaWF0ZWREYXRhLCBjaXBoZXJ0ZXh0KSkge1xuICAgICAgZHN0LnNldChuZXcgVWludDhBcnJheShkc3QubGVuZ3RoKSk7XG4gICAgICB0aHJvdyBFcnJPcGVuO1xuICAgIH1cbiAgICByZXR1cm4gZHN0O1xuICB9XG59O1xudmFyIHplcm9CdWZmZXIgPSBuZXcgVWludDhBcnJheSgwKTtcbnZhciBFcnJLZXlTaXplID0gXCJkZW94eXNpaTogaW52YWxpZCBrZXkgc2l6ZVwiO1xudmFyIEVyck5vbmNlU2l6ZSA9IFwiZGVveHlzaWk6IGludmFsaWQgbm9uY2Ugc2l6ZVwiO1xudmFyIEVyck9wZW4gPSBcImRlb3h5c2lpOiBtZXNzYWdlIGF1dGhlbnRpY2F0aW9uIGZhaWx1cmVcIjtcblxuLy8gc3JjL2luZGV4LnRzXG52YXIgc3JjX2RlZmF1bHQgPSBkZW94eXNpaV9leHBvcnRzO1xuZXhwb3J0IHtcbiAgQUVBRCxcbiAgRXJyS2V5U2l6ZSxcbiAgRXJyTm9uY2VTaXplLFxuICBFcnJPcGVuLFxuICBLZXlTaXplLFxuICBOb25jZVNpemUsXG4gIFRhZ1NpemUsXG4gIHNyY19kZWZhdWx0IGFzIGRlZmF1bHRcbn07XG4vKipcbiAqIEBsaWNlbnNlIChjKSBGcmFueiBYIEFudGVzYmVyZ2VyIDIwMTNcbiAqL1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@oasisprotocol/deoxysii/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/calldatapublickey.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/calldatapublickey.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FetchError: () => (/* binding */ FetchError),\n/* harmony export */   KeyFetcher: () => (/* binding */ KeyFetcher),\n/* harmony export */   fetchRuntimePublicKey: () => (/* binding */ fetchRuntimePublicKey)\n/* harmony export */ });\n/* harmony import */ var cborg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cborg */ \"(ssr)/./node_modules/cborg/esm/cborg.js\");\n/* harmony import */ var _ethersutils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ethersutils.js */ \"(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/ethersutils.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/constants.js\");\n/* harmony import */ var _cipher_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cipher.js */ \"(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/cipher.js\");\n// SPDX-License-Identifier: Apache-2.0\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n/**\n * calldata public keys are cached for this amount of time\n * This prevents frequent unnecessary re-fetches\n * This time is in milliseconds\n */\nconst DEFAULT_PUBKEY_CACHE_EXPIRATION_MS = 60 * 5 * 1000;\nclass FetchError extends Error {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n    }\n}\nfunction parseBigIntFromByteArray(bytes) {\n    const eight = BigInt(8);\n    return bytes.reduce((acc, byte) => (acc << eight) | BigInt(byte), BigInt(0));\n}\nclass AbiDecodeError extends Error {\n}\n/// Manual ABI-parsing of ['uint', 'bytes']\nfunction parseAbiEncodedUintBytes(bytes) {\n    if (bytes.length < 32 * 3) {\n        throw new AbiDecodeError('too short');\n    }\n    const status = parseBigIntFromByteArray(bytes.slice(0, 32));\n    const offset = Number(parseBigIntFromByteArray(bytes.slice(32, 64)));\n    if (bytes.length < offset + 32) {\n        throw new AbiDecodeError('too short, offset');\n    }\n    const data_length = Number(parseBigIntFromByteArray(bytes.slice(offset, offset + 32)));\n    if (bytes.length < offset + 32 + data_length) {\n        throw new AbiDecodeError('too short, data');\n    }\n    const data = bytes.slice(offset + 32, offset + 32 + data_length);\n    return [status, data];\n}\n/**\n * Picks the most user-trusted runtime calldata public key source based on what\n * connections are available.\n *\n * NOTE: MetaMask does not support Web3 methods it doesn't know about, so we\n *       have to fall-back to fetch()ing directly via the default chain gateway.\n */\nfunction fetchRuntimePublicKey(args) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let chainId = undefined;\n        const { upstream } = args;\n        chainId = (0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.fromQuantity)((yield upstream.request({\n            method: 'eth_chainId',\n        })));\n        // NOTE: we hard-code the eth_call data, as it never changes\n        //       It's equivalent to: // abi_encode(['string', 'bytes'], ['core.CallDataPublicKey', cborEncode(null)])\n        const call_resp = (yield upstream.request({\n            method: 'eth_call',\n            params: [\n                {\n                    to: _constants_js__WEBPACK_IMPORTED_MODULE_2__.SUBCALL_ADDR,\n                    data: _constants_js__WEBPACK_IMPORTED_MODULE_2__.CALLDATAPUBLICKEY_CALLDATA,\n                },\n                'latest',\n            ],\n        }));\n        if (call_resp === '0x') {\n            throw new Error(`fetchRuntimePublicKey - invalid response: ${call_resp}`);\n        }\n        const resp_bytes = (0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.getBytes)(call_resp);\n        // NOTE: to avoid pulling-in a full ABI decoder dependency, slice it manually\n        const [resp_status, resp_cbor] = parseAbiEncodedUintBytes(resp_bytes);\n        if (resp_status !== BigInt(0)) {\n            throw new Error(`fetchRuntimePublicKey - invalid status: ${resp_status}`);\n        }\n        const response = (0,cborg__WEBPACK_IMPORTED_MODULE_0__.decode)(resp_cbor);\n        return {\n            key: response.public_key.key,\n            checksum: response.public_key.checksum,\n            signature: response.public_key.signature,\n            epoch: response.epoch,\n            chainId,\n            fetched: new Date(),\n        };\n    });\n}\n/**\n * Retrieves calldata public keys from RPC provider\n */\nclass KeyFetcher {\n    constructor(timeoutMilliseconds = DEFAULT_PUBKEY_CACHE_EXPIRATION_MS) {\n        this.timeoutMilliseconds = timeoutMilliseconds;\n    }\n    /**\n     * Retrieve cached key if possible, otherwise fetch a fresh one\n     *\n     * @param upstream Upstream ETH JSON-RPC provider\n     * @returns calldata public key\n     */\n    fetch(upstream) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (upstream === undefined) {\n                throw new Error('fetch() Upstream must not be undefined!');\n            }\n            if (this.pubkey) {\n                const pk = this.pubkey;\n                const expiry = Date.now() - this.timeoutMilliseconds;\n                if (pk.fetched && pk.fetched.valueOf() >= expiry) {\n                    // XXX: if provider switch chain, may return cached key for wrong chain\n                    return pk;\n                }\n            }\n            return (this.pubkey = yield fetchRuntimePublicKey({ upstream }));\n        });\n    }\n    cipher(upstream) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { key, epoch } = yield this.fetch(upstream).catch((error) => {\n                // Log error to help debug: rainbowkit swallowed err if getChainId called this during connectToWallet\n                console.error('KeyFetcher.cipher failed', error);\n                throw error;\n            });\n            return _cipher_js__WEBPACK_IMPORTED_MODULE_3__.X25519DeoxysII.ephemeral(key, epoch);\n        });\n    }\n    cipherSync() {\n        if (!this.pubkey) {\n            throw new Error('No cached pubkey!');\n        }\n        const { key, epoch } = this.pubkey;\n        return _cipher_js__WEBPACK_IMPORTED_MODULE_3__.X25519DeoxysII.ephemeral(key, epoch);\n    }\n}\n//# sourceMappingURL=calldatapublickey.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG9hc2lzcHJvdG9jb2wvc2FwcGhpcmUtcGFyYXRpbWUvbGliL2VzbS9jYWxsZGF0YXB1YmxpY2tleS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0IsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDNkM7QUFDYTtBQUNnQjtBQUM3QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQixrQkFBa0IsNkRBQVk7QUFDOUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVEQUFZO0FBQ3BDLDBCQUEwQixxRUFBMEI7QUFDcEQsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx5RUFBeUUsVUFBVTtBQUNuRjtBQUNBLDJCQUEyQix5REFBUTtBQUNuQztBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsWUFBWTtBQUNuRjtBQUNBLHlCQUF5Qiw2Q0FBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxVQUFVO0FBQzFFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsYUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsbUJBQW1CLHNEQUFjO0FBQ2pDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0IsZUFBZSxzREFBYztBQUM3QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9Ab2FzaXNwcm90b2NvbC9zYXBwaGlyZS1wYXJhdGltZS9saWIvZXNtL2NhbGxkYXRhcHVibGlja2V5LmpzP2Q4ZWQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgZGVjb2RlIGFzIGNib3JEZWNvZGUgfSBmcm9tICdjYm9yZyc7XG5pbXBvcnQgeyBmcm9tUXVhbnRpdHksIGdldEJ5dGVzIH0gZnJvbSAnLi9ldGhlcnN1dGlscy5qcyc7XG5pbXBvcnQgeyBTVUJDQUxMX0FERFIsIENBTExEQVRBUFVCTElDS0VZX0NBTExEQVRBIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgWDI1NTE5RGVveHlzSUkgfSBmcm9tICcuL2NpcGhlci5qcyc7XG4vKipcbiAqIGNhbGxkYXRhIHB1YmxpYyBrZXlzIGFyZSBjYWNoZWQgZm9yIHRoaXMgYW1vdW50IG9mIHRpbWVcbiAqIFRoaXMgcHJldmVudHMgZnJlcXVlbnQgdW5uZWNlc3NhcnkgcmUtZmV0Y2hlc1xuICogVGhpcyB0aW1lIGlzIGluIG1pbGxpc2Vjb25kc1xuICovXG5jb25zdCBERUZBVUxUX1BVQktFWV9DQUNIRV9FWFBJUkFUSU9OX01TID0gNjAgKiA1ICogMTAwMDtcbmV4cG9ydCBjbGFzcyBGZXRjaEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHJlc3BvbnNlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VCaWdJbnRGcm9tQnl0ZUFycmF5KGJ5dGVzKSB7XG4gICAgY29uc3QgZWlnaHQgPSBCaWdJbnQoOCk7XG4gICAgcmV0dXJuIGJ5dGVzLnJlZHVjZSgoYWNjLCBieXRlKSA9PiAoYWNjIDw8IGVpZ2h0KSB8IEJpZ0ludChieXRlKSwgQmlnSW50KDApKTtcbn1cbmNsYXNzIEFiaURlY29kZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuLy8vIE1hbnVhbCBBQkktcGFyc2luZyBvZiBbJ3VpbnQnLCAnYnl0ZXMnXVxuZnVuY3Rpb24gcGFyc2VBYmlFbmNvZGVkVWludEJ5dGVzKGJ5dGVzKSB7XG4gICAgaWYgKGJ5dGVzLmxlbmd0aCA8IDMyICogMykge1xuICAgICAgICB0aHJvdyBuZXcgQWJpRGVjb2RlRXJyb3IoJ3RvbyBzaG9ydCcpO1xuICAgIH1cbiAgICBjb25zdCBzdGF0dXMgPSBwYXJzZUJpZ0ludEZyb21CeXRlQXJyYXkoYnl0ZXMuc2xpY2UoMCwgMzIpKTtcbiAgICBjb25zdCBvZmZzZXQgPSBOdW1iZXIocGFyc2VCaWdJbnRGcm9tQnl0ZUFycmF5KGJ5dGVzLnNsaWNlKDMyLCA2NCkpKTtcbiAgICBpZiAoYnl0ZXMubGVuZ3RoIDwgb2Zmc2V0ICsgMzIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFiaURlY29kZUVycm9yKCd0b28gc2hvcnQsIG9mZnNldCcpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhX2xlbmd0aCA9IE51bWJlcihwYXJzZUJpZ0ludEZyb21CeXRlQXJyYXkoYnl0ZXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyAzMikpKTtcbiAgICBpZiAoYnl0ZXMubGVuZ3RoIDwgb2Zmc2V0ICsgMzIgKyBkYXRhX2xlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgQWJpRGVjb2RlRXJyb3IoJ3RvbyBzaG9ydCwgZGF0YScpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYnl0ZXMuc2xpY2Uob2Zmc2V0ICsgMzIsIG9mZnNldCArIDMyICsgZGF0YV9sZW5ndGgpO1xuICAgIHJldHVybiBbc3RhdHVzLCBkYXRhXTtcbn1cbi8qKlxuICogUGlja3MgdGhlIG1vc3QgdXNlci10cnVzdGVkIHJ1bnRpbWUgY2FsbGRhdGEgcHVibGljIGtleSBzb3VyY2UgYmFzZWQgb24gd2hhdFxuICogY29ubmVjdGlvbnMgYXJlIGF2YWlsYWJsZS5cbiAqXG4gKiBOT1RFOiBNZXRhTWFzayBkb2VzIG5vdCBzdXBwb3J0IFdlYjMgbWV0aG9kcyBpdCBkb2Vzbid0IGtub3cgYWJvdXQsIHNvIHdlXG4gKiAgICAgICBoYXZlIHRvIGZhbGwtYmFjayB0byBmZXRjaCgpaW5nIGRpcmVjdGx5IHZpYSB0aGUgZGVmYXVsdCBjaGFpbiBnYXRld2F5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hSdW50aW1lUHVibGljS2V5KGFyZ3MpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBsZXQgY2hhaW5JZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgeyB1cHN0cmVhbSB9ID0gYXJncztcbiAgICAgICAgY2hhaW5JZCA9IGZyb21RdWFudGl0eSgoeWllbGQgdXBzdHJlYW0ucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdldGhfY2hhaW5JZCcsXG4gICAgICAgIH0pKSk7XG4gICAgICAgIC8vIE5PVEU6IHdlIGhhcmQtY29kZSB0aGUgZXRoX2NhbGwgZGF0YSwgYXMgaXQgbmV2ZXIgY2hhbmdlc1xuICAgICAgICAvLyAgICAgICBJdCdzIGVxdWl2YWxlbnQgdG86IC8vIGFiaV9lbmNvZGUoWydzdHJpbmcnLCAnYnl0ZXMnXSwgWydjb3JlLkNhbGxEYXRhUHVibGljS2V5JywgY2JvckVuY29kZShudWxsKV0pXG4gICAgICAgIGNvbnN0IGNhbGxfcmVzcCA9ICh5aWVsZCB1cHN0cmVhbS5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogJ2V0aF9jYWxsJyxcbiAgICAgICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG86IFNVQkNBTExfQUREUixcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogQ0FMTERBVEFQVUJMSUNLRVlfQ0FMTERBVEEsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbGF0ZXN0JyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKGNhbGxfcmVzcCA9PT0gJzB4Jykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmZXRjaFJ1bnRpbWVQdWJsaWNLZXkgLSBpbnZhbGlkIHJlc3BvbnNlOiAke2NhbGxfcmVzcH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwX2J5dGVzID0gZ2V0Qnl0ZXMoY2FsbF9yZXNwKTtcbiAgICAgICAgLy8gTk9URTogdG8gYXZvaWQgcHVsbGluZy1pbiBhIGZ1bGwgQUJJIGRlY29kZXIgZGVwZW5kZW5jeSwgc2xpY2UgaXQgbWFudWFsbHlcbiAgICAgICAgY29uc3QgW3Jlc3Bfc3RhdHVzLCByZXNwX2Nib3JdID0gcGFyc2VBYmlFbmNvZGVkVWludEJ5dGVzKHJlc3BfYnl0ZXMpO1xuICAgICAgICBpZiAocmVzcF9zdGF0dXMgIT09IEJpZ0ludCgwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmZXRjaFJ1bnRpbWVQdWJsaWNLZXkgLSBpbnZhbGlkIHN0YXR1czogJHtyZXNwX3N0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGNib3JEZWNvZGUocmVzcF9jYm9yKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleTogcmVzcG9uc2UucHVibGljX2tleS5rZXksXG4gICAgICAgICAgICBjaGVja3N1bTogcmVzcG9uc2UucHVibGljX2tleS5jaGVja3N1bSxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogcmVzcG9uc2UucHVibGljX2tleS5zaWduYXR1cmUsXG4gICAgICAgICAgICBlcG9jaDogcmVzcG9uc2UuZXBvY2gsXG4gICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgZmV0Y2hlZDogbmV3IERhdGUoKSxcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cbi8qKlxuICogUmV0cmlldmVzIGNhbGxkYXRhIHB1YmxpYyBrZXlzIGZyb20gUlBDIHByb3ZpZGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBLZXlGZXRjaGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0aW1lb3V0TWlsbGlzZWNvbmRzID0gREVGQVVMVF9QVUJLRVlfQ0FDSEVfRVhQSVJBVElPTl9NUykge1xuICAgICAgICB0aGlzLnRpbWVvdXRNaWxsaXNlY29uZHMgPSB0aW1lb3V0TWlsbGlzZWNvbmRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBjYWNoZWQga2V5IGlmIHBvc3NpYmxlLCBvdGhlcndpc2UgZmV0Y2ggYSBmcmVzaCBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB1cHN0cmVhbSBVcHN0cmVhbSBFVEggSlNPTi1SUEMgcHJvdmlkZXJcbiAgICAgKiBAcmV0dXJucyBjYWxsZGF0YSBwdWJsaWMga2V5XG4gICAgICovXG4gICAgZmV0Y2godXBzdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICh1cHN0cmVhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdmZXRjaCgpIFVwc3RyZWFtIG11c3Qgbm90IGJlIHVuZGVmaW5lZCEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnB1YmtleSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBrID0gdGhpcy5wdWJrZXk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwaXJ5ID0gRGF0ZS5ub3coKSAtIHRoaXMudGltZW91dE1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgICAgICBpZiAocGsuZmV0Y2hlZCAmJiBway5mZXRjaGVkLnZhbHVlT2YoKSA+PSBleHBpcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gWFhYOiBpZiBwcm92aWRlciBzd2l0Y2ggY2hhaW4sIG1heSByZXR1cm4gY2FjaGVkIGtleSBmb3Igd3JvbmcgY2hhaW5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAodGhpcy5wdWJrZXkgPSB5aWVsZCBmZXRjaFJ1bnRpbWVQdWJsaWNLZXkoeyB1cHN0cmVhbSB9KSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjaXBoZXIodXBzdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5LCBlcG9jaCB9ID0geWllbGQgdGhpcy5mZXRjaCh1cHN0cmVhbSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTG9nIGVycm9yIHRvIGhlbHAgZGVidWc6IHJhaW5ib3draXQgc3dhbGxvd2VkIGVyciBpZiBnZXRDaGFpbklkIGNhbGxlZCB0aGlzIGR1cmluZyBjb25uZWN0VG9XYWxsZXRcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdLZXlGZXRjaGVyLmNpcGhlciBmYWlsZWQnLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBYMjU1MTlEZW94eXNJSS5lcGhlbWVyYWwoa2V5LCBlcG9jaCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjaXBoZXJTeW5jKCkge1xuICAgICAgICBpZiAoIXRoaXMucHVia2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNhY2hlZCBwdWJrZXkhJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBrZXksIGVwb2NoIH0gPSB0aGlzLnB1YmtleTtcbiAgICAgICAgcmV0dXJuIFgyNTUxOURlb3h5c0lJLmVwaGVtZXJhbChrZXksIGVwb2NoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxsZGF0YXB1YmxpY2tleS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/calldatapublickey.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/cipher.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/cipher.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cipher: () => (/* binding */ Cipher),\n/* harmony export */   CipherKind: () => (/* binding */ CipherKind),\n/* harmony export */   EnvelopeError: () => (/* binding */ EnvelopeError),\n/* harmony export */   X25519DeoxysII: () => (/* binding */ X25519DeoxysII),\n/* harmony export */   isCalldataEnveloped: () => (/* binding */ isCalldataEnveloped)\n/* harmony export */ });\n/* harmony import */ var cborg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cborg */ \"(ssr)/./node_modules/cborg/esm/cborg.js\");\n/* harmony import */ var _oasisprotocol_deoxysii__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @oasisprotocol/deoxysii */ \"(ssr)/./node_modules/@oasisprotocol/deoxysii/dist/index.mjs\");\n/* harmony import */ var _noble_hashes_sha512__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @noble/hashes/sha512 */ \"(ssr)/./node_modules/@noble/hashes/esm/sha512.js\");\n/* harmony import */ var _noble_hashes_hmac__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @noble/hashes/hmac */ \"(ssr)/./node_modules/@noble/hashes/esm/hmac.js\");\n/* harmony import */ var _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @noble/hashes/utils */ \"(ssr)/./node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _munacl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./munacl.js */ \"(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/munacl.js\");\n/* harmony import */ var _ethersutils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ethersutils.js */ \"(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/ethersutils.js\");\n// SPDX-License-Identifier: Apache-2.0\n\n\n\n\n\n\n\n/**\n * Some Ethereum libraries are picky about hex encoding vs Uint8Array\n *\n * The ethers BytesLike type can be either, if the request came as a hex encoded\n * string we should return hex encoded string, if request came as Uint8Array we\n * should return one.\n *\n * Notably hardhat-ignition doesn't work well with Uint8Array responses\n *\n * @param example Some example data, where we should return the same type\n * @param output Output data\n * @returns Output data, as either hex encoded 0x-prefixed string, or Uint8Array\n */\nfunction asBytesLike(example, output) {\n    if (!(0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.isBytesLike)(example) || !(0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.isBytesLike)(output)) {\n        throw new Error('Not byteslike data!');\n    }\n    if (typeof example === 'string') {\n        if (typeof output === 'string') {\n            return output;\n        }\n        return (0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.hexlify)(output);\n    }\n    if (typeof output === 'string') {\n        return (0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.hexlify)(output);\n    }\n    return output;\n}\nvar CipherKind;\n(function (CipherKind) {\n    CipherKind[CipherKind[\"X25519DeoxysII\"] = 1] = \"X25519DeoxysII\";\n})(CipherKind || (CipherKind = {}));\nfunction formatFailure(fail) {\n    if (fail.message)\n        return fail.message;\n    return `Call failed in module '${fail.module}' with code '${fail.code}'`;\n}\nclass Cipher {\n    /** Encrypts the plaintext and encodes it for sending. */\n    encryptCall(calldata, nonce) {\n        // Txs without data are just balance transfers, and all data in those is public.\n        if (calldata === undefined || calldata === null || calldata.length === 0)\n            return '';\n        if (!(0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.isBytesLike)(calldata)) {\n            throw new Error('Attempted to sign tx having non-byteslike data.');\n        }\n        const innerEnvelope = (0,cborg__WEBPACK_IMPORTED_MODULE_0__.encode)({ body: (0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.getBytes)(calldata) });\n        let ciphertext;\n        ({ ciphertext, nonce } = this.encrypt(innerEnvelope, nonce));\n        const envelope = {\n            format: this.kind,\n            body: {\n                pk: this.publicKey,\n                nonce,\n                data: ciphertext,\n                epoch: this.epoch,\n            },\n        };\n        return asBytesLike(calldata, (0,cborg__WEBPACK_IMPORTED_MODULE_0__.encode)(envelope));\n    }\n    decryptCall(envelopeBytes) {\n        const envelope = (0,cborg__WEBPACK_IMPORTED_MODULE_0__.decode)((0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.getBytes)(envelopeBytes));\n        if (!isEnvelopeFormatOk(envelope)) {\n            throw new EnvelopeError('Unexpected non-envelope!');\n        }\n        const result = this.decrypt(envelope.body.nonce, envelope.body.data);\n        const inner = (0,cborg__WEBPACK_IMPORTED_MODULE_0__.decode)(result);\n        return asBytesLike(envelopeBytes, inner.body);\n    }\n    encryptResult(ok, innerFail, outerFail) {\n        if (ok || innerFail) {\n            if ((ok && innerFail) || outerFail) {\n                throw new EnvelopeError('Conflicting result envelope', {\n                    ok,\n                    innerFail,\n                    outerFail,\n                });\n            }\n            // Inner envelope is encrypted\n            const inner = (0,cborg__WEBPACK_IMPORTED_MODULE_0__.encode)(innerFail ? { fail: innerFail } : { ok });\n            const { nonce, ciphertext: data } = this.encrypt(inner);\n            // Outer envelope is plaintext\n            const envelope = (0,cborg__WEBPACK_IMPORTED_MODULE_0__.encode)({\n                ok: { nonce, data },\n            });\n            return envelope;\n        }\n        if (outerFail) {\n            // Outer failures are returned in plaintext\n            return (0,cborg__WEBPACK_IMPORTED_MODULE_0__.encode)({ fail: outerFail });\n        }\n        throw new EnvelopeError('Cannot encrypt result with no data or failures!', {\n            ok,\n            innerFail,\n            outerFail,\n        });\n    }\n    /** Decrypts the data contained within a hex-encoded serialized envelope. */\n    decryptResult(callResult) {\n        var _a;\n        const envelope = (0,cborg__WEBPACK_IMPORTED_MODULE_0__.decode)((0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.getBytes)(callResult));\n        if (envelope.fail) {\n            throw new EnvelopeError(formatFailure(envelope.fail), envelope.fail);\n        }\n        // Unencrypted results will have `ok` as bytes, not a struct\n        if (envelope.ok &&\n            (typeof envelope.ok === 'string' || envelope.ok instanceof Uint8Array)) {\n            throw new EnvelopeError('Received unencrypted envelope', envelope);\n        }\n        // Encrypted result will have `ok` as a CBOR encoded struct\n        const { nonce, data } = (_a = envelope.ok) !== null && _a !== void 0 ? _a : envelope.unknown;\n        const inner = (0,cborg__WEBPACK_IMPORTED_MODULE_0__.decode)(this.decrypt(nonce, data));\n        if (inner.ok) {\n            return asBytesLike(callResult, (0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.getBytes)(inner.ok));\n        }\n        if (inner.fail) {\n            throw new EnvelopeError(formatFailure(inner.fail), inner.fail);\n        }\n        throw new EnvelopeError(`Unexpected inner call result: ${JSON.stringify(inner)}`, inner);\n    }\n}\n/**\n * A {@link Cipher} that derives a shared secret using X25519 and then uses DeoxysII for encrypting using that secret.\n *\n * This is the default cipher.\n */\nclass X25519DeoxysII extends Cipher {\n    /** Creates a new cipher using an ephemeral keypair stored in memory. */\n    static ephemeral(peerPublicKey, epoch) {\n        const keypair = (0,_munacl_js__WEBPACK_IMPORTED_MODULE_2__.boxKeyPairFromSecretKey)((0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_3__.randomBytes)(_munacl_js__WEBPACK_IMPORTED_MODULE_2__.crypto_box_SECRETKEYBYTES));\n        return new X25519DeoxysII(keypair, (0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.getBytes)(peerPublicKey), epoch);\n    }\n    static fromSecretKey(secretKey, peerPublicKey, epoch) {\n        const keypair = (0,_munacl_js__WEBPACK_IMPORTED_MODULE_2__.boxKeyPairFromSecretKey)((0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.getBytes)(secretKey));\n        return new X25519DeoxysII(keypair, (0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.getBytes)(peerPublicKey), epoch);\n    }\n    constructor(keypair, peerPublicKey, epoch) {\n        super();\n        this.kind = CipherKind.X25519DeoxysII;\n        this.publicKey = keypair.publicKey;\n        this.ephemeralKey = keypair.secretKey;\n        this.epoch = epoch;\n        // Derive a shared secret using X25519 (followed by hashing to remove ECDH bias).\n        const keyBytes = _noble_hashes_hmac__WEBPACK_IMPORTED_MODULE_4__.hmac\n            .create(_noble_hashes_sha512__WEBPACK_IMPORTED_MODULE_5__.sha512_256, new TextEncoder().encode('MRAE_Box_Deoxys-II-256-128'))\n            .update((0,_munacl_js__WEBPACK_IMPORTED_MODULE_2__.naclScalarMult)(keypair.secretKey, peerPublicKey))\n            .digest().buffer;\n        this.secretKey = new Uint8Array(keyBytes);\n        this.cipher = new _oasisprotocol_deoxysii__WEBPACK_IMPORTED_MODULE_6__[\"default\"].AEAD(new Uint8Array(this.secretKey)); // deoxysii owns the input\n    }\n    encrypt(plaintext, nonce = (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_3__.randomBytes)(_oasisprotocol_deoxysii__WEBPACK_IMPORTED_MODULE_6__[\"default\"].NonceSize)) {\n        const ciphertext = this.cipher.encrypt(nonce, plaintext);\n        return { nonce, ciphertext };\n    }\n    decrypt(nonce, ciphertext) {\n        return this.cipher.decrypt(nonce, ciphertext);\n    }\n}\n// -----------------------------------------------------------------------------\n// Determine if the CBOR encoded calldata is a signed query or an evelope\nclass EnvelopeError extends Error {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n    }\n}\nfunction isEnvelopeFormatOk(envelope) {\n    const { format, body } = envelope;\n    if (!body || !format) {\n        throw new EnvelopeError('No body or format specified', envelope);\n    }\n    if (format !== CipherKind.X25519DeoxysII) {\n        throw new EnvelopeError('Not encrypted format', envelope);\n    }\n    if ((0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.isBytesLike)(body))\n        throw new EnvelopeError('Requires struct body', envelope);\n    if (!(0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.isBytesLike)(body.data))\n        throw new EnvelopeError('No body data', envelope);\n    return true;\n}\nfunction isCalldataEnveloped(calldata) {\n    if (calldata === undefined) {\n        return false;\n    }\n    try {\n        const envelope = (0,cborg__WEBPACK_IMPORTED_MODULE_0__.decode)((0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.getBytes)(calldata));\n        if (!isEnvelopeFormatOk(envelope)) {\n            throw new EnvelopeError('Bogus Sapphire enveloped data found in transaction!');\n        }\n        return true;\n    }\n    catch (e) {\n        if (e instanceof EnvelopeError)\n            throw e;\n    }\n    return false;\n}\n//# sourceMappingURL=cipher.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG9hc2lzcHJvdG9jb2wvc2FwcGhpcmUtcGFyYXRpbWUvbGliL2VzbS9jaXBoZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDbUU7QUFDcEI7QUFDRztBQUNSO0FBQ1E7QUFDZ0Q7QUFDaEM7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNERBQVcsY0FBYyw0REFBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdEQUFPO0FBQ3RCO0FBQ0E7QUFDQSxlQUFlLHdEQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLENBQUMsZ0NBQWdDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxZQUFZLGVBQWUsVUFBVTtBQUMxRTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNERBQVc7QUFDeEI7QUFDQTtBQUNBLDhCQUE4Qiw2Q0FBVSxHQUFHLE1BQU0seURBQVEsWUFBWTtBQUNyRTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EscUNBQXFDLDZDQUFVO0FBQy9DO0FBQ0E7QUFDQSx5QkFBeUIsNkNBQVUsQ0FBQyx5REFBUTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2Q0FBVTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLDBCQUEwQiw2Q0FBVSxlQUFlLGtCQUFrQixJQUFJLElBQUk7QUFDN0Usb0JBQW9CLDBCQUEwQjtBQUM5QztBQUNBLDZCQUE2Qiw2Q0FBVTtBQUN2QyxzQkFBc0IsYUFBYTtBQUNuQyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkNBQVUsR0FBRyxpQkFBaUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw2Q0FBVSxDQUFDLHlEQUFRO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCLHNCQUFzQiw2Q0FBVTtBQUNoQztBQUNBLDJDQUEyQyx5REFBUTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxzQkFBc0I7QUFDdkY7QUFDQTtBQUNBO0FBQ0EsTUFBTSxjQUFjO0FBQ3BCO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLHdCQUF3QixtRUFBdUIsQ0FBQyxnRUFBVyxDQUFDLGlFQUF5QjtBQUNyRiwyQ0FBMkMseURBQVE7QUFDbkQ7QUFDQTtBQUNBLHdCQUF3QixtRUFBdUIsQ0FBQyx5REFBUTtBQUN4RCwyQ0FBMkMseURBQVE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixvREFBSTtBQUM3QixvQkFBb0IsNERBQVU7QUFDOUIsb0JBQW9CLDBEQUFjO0FBQ2xDO0FBQ0E7QUFDQSwwQkFBMEIsb0VBQWEsa0NBQWtDO0FBQ3pFO0FBQ0EsK0JBQStCLGdFQUFXLENBQUMseUVBQWtCO0FBQzdEO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBVztBQUNuQjtBQUNBLFNBQVMsNERBQVc7QUFDcEI7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw2Q0FBVSxDQUFDLHlEQUFRO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BvYXNpc3Byb3RvY29sL3NhcHBoaXJlLXBhcmF0aW1lL2xpYi9lc20vY2lwaGVyLmpzPzdkYmMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmltcG9ydCB7IGRlY29kZSBhcyBjYm9yRGVjb2RlLCBlbmNvZGUgYXMgY2JvckVuY29kZSB9IGZyb20gJ2Nib3JnJztcbmltcG9ydCBkZW94eXNpaSBmcm9tICdAb2FzaXNwcm90b2NvbC9kZW94eXNpaSc7XG5pbXBvcnQgeyBzaGE1MTJfMjU2IH0gZnJvbSAnQG5vYmxlL2hhc2hlcy9zaGE1MTInO1xuaW1wb3J0IHsgaG1hYyB9IGZyb20gJ0Bub2JsZS9oYXNoZXMvaG1hYyc7XG5pbXBvcnQgeyByYW5kb21CeXRlcyB9IGZyb20gJ0Bub2JsZS9oYXNoZXMvdXRpbHMnO1xuaW1wb3J0IHsgYm94S2V5UGFpckZyb21TZWNyZXRLZXksIGNyeXB0b19ib3hfU0VDUkVUS0VZQllURVMsIG5hY2xTY2FsYXJNdWx0LCB9IGZyb20gJy4vbXVuYWNsLmpzJztcbmltcG9ydCB7IGlzQnl0ZXNMaWtlLCBnZXRCeXRlcywgaGV4bGlmeSB9IGZyb20gJy4vZXRoZXJzdXRpbHMuanMnO1xuLyoqXG4gKiBTb21lIEV0aGVyZXVtIGxpYnJhcmllcyBhcmUgcGlja3kgYWJvdXQgaGV4IGVuY29kaW5nIHZzIFVpbnQ4QXJyYXlcbiAqXG4gKiBUaGUgZXRoZXJzIEJ5dGVzTGlrZSB0eXBlIGNhbiBiZSBlaXRoZXIsIGlmIHRoZSByZXF1ZXN0IGNhbWUgYXMgYSBoZXggZW5jb2RlZFxuICogc3RyaW5nIHdlIHNob3VsZCByZXR1cm4gaGV4IGVuY29kZWQgc3RyaW5nLCBpZiByZXF1ZXN0IGNhbWUgYXMgVWludDhBcnJheSB3ZVxuICogc2hvdWxkIHJldHVybiBvbmUuXG4gKlxuICogTm90YWJseSBoYXJkaGF0LWlnbml0aW9uIGRvZXNuJ3Qgd29yayB3ZWxsIHdpdGggVWludDhBcnJheSByZXNwb25zZXNcbiAqXG4gKiBAcGFyYW0gZXhhbXBsZSBTb21lIGV4YW1wbGUgZGF0YSwgd2hlcmUgd2Ugc2hvdWxkIHJldHVybiB0aGUgc2FtZSB0eXBlXG4gKiBAcGFyYW0gb3V0cHV0IE91dHB1dCBkYXRhXG4gKiBAcmV0dXJucyBPdXRwdXQgZGF0YSwgYXMgZWl0aGVyIGhleCBlbmNvZGVkIDB4LXByZWZpeGVkIHN0cmluZywgb3IgVWludDhBcnJheVxuICovXG5mdW5jdGlvbiBhc0J5dGVzTGlrZShleGFtcGxlLCBvdXRwdXQpIHtcbiAgICBpZiAoIWlzQnl0ZXNMaWtlKGV4YW1wbGUpIHx8ICFpc0J5dGVzTGlrZShvdXRwdXQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGJ5dGVzbGlrZSBkYXRhIScpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGV4YW1wbGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3V0cHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGV4bGlmeShvdXRwdXQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG91dHB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGhleGxpZnkob3V0cHV0KTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbmV4cG9ydCB2YXIgQ2lwaGVyS2luZDtcbihmdW5jdGlvbiAoQ2lwaGVyS2luZCkge1xuICAgIENpcGhlcktpbmRbQ2lwaGVyS2luZFtcIlgyNTUxOURlb3h5c0lJXCJdID0gMV0gPSBcIlgyNTUxOURlb3h5c0lJXCI7XG59KShDaXBoZXJLaW5kIHx8IChDaXBoZXJLaW5kID0ge30pKTtcbmZ1bmN0aW9uIGZvcm1hdEZhaWx1cmUoZmFpbCkge1xuICAgIGlmIChmYWlsLm1lc3NhZ2UpXG4gICAgICAgIHJldHVybiBmYWlsLm1lc3NhZ2U7XG4gICAgcmV0dXJuIGBDYWxsIGZhaWxlZCBpbiBtb2R1bGUgJyR7ZmFpbC5tb2R1bGV9JyB3aXRoIGNvZGUgJyR7ZmFpbC5jb2RlfSdgO1xufVxuZXhwb3J0IGNsYXNzIENpcGhlciB7XG4gICAgLyoqIEVuY3J5cHRzIHRoZSBwbGFpbnRleHQgYW5kIGVuY29kZXMgaXQgZm9yIHNlbmRpbmcuICovXG4gICAgZW5jcnlwdENhbGwoY2FsbGRhdGEsIG5vbmNlKSB7XG4gICAgICAgIC8vIFR4cyB3aXRob3V0IGRhdGEgYXJlIGp1c3QgYmFsYW5jZSB0cmFuc2ZlcnMsIGFuZCBhbGwgZGF0YSBpbiB0aG9zZSBpcyBwdWJsaWMuXG4gICAgICAgIGlmIChjYWxsZGF0YSA9PT0gdW5kZWZpbmVkIHx8IGNhbGxkYXRhID09PSBudWxsIHx8IGNhbGxkYXRhLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgaWYgKCFpc0J5dGVzTGlrZShjYWxsZGF0YSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIHNpZ24gdHggaGF2aW5nIG5vbi1ieXRlc2xpa2UgZGF0YS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbm5lckVudmVsb3BlID0gY2JvckVuY29kZSh7IGJvZHk6IGdldEJ5dGVzKGNhbGxkYXRhKSB9KTtcbiAgICAgICAgbGV0IGNpcGhlcnRleHQ7XG4gICAgICAgICh7IGNpcGhlcnRleHQsIG5vbmNlIH0gPSB0aGlzLmVuY3J5cHQoaW5uZXJFbnZlbG9wZSwgbm9uY2UpKTtcbiAgICAgICAgY29uc3QgZW52ZWxvcGUgPSB7XG4gICAgICAgICAgICBmb3JtYXQ6IHRoaXMua2luZCxcbiAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICBwazogdGhpcy5wdWJsaWNLZXksXG4gICAgICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICAgICAgZGF0YTogY2lwaGVydGV4dCxcbiAgICAgICAgICAgICAgICBlcG9jaDogdGhpcy5lcG9jaCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhc0J5dGVzTGlrZShjYWxsZGF0YSwgY2JvckVuY29kZShlbnZlbG9wZSkpO1xuICAgIH1cbiAgICBkZWNyeXB0Q2FsbChlbnZlbG9wZUJ5dGVzKSB7XG4gICAgICAgIGNvbnN0IGVudmVsb3BlID0gY2JvckRlY29kZShnZXRCeXRlcyhlbnZlbG9wZUJ5dGVzKSk7XG4gICAgICAgIGlmICghaXNFbnZlbG9wZUZvcm1hdE9rKGVudmVsb3BlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVudmVsb3BlRXJyb3IoJ1VuZXhwZWN0ZWQgbm9uLWVudmVsb3BlIScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZGVjcnlwdChlbnZlbG9wZS5ib2R5Lm5vbmNlLCBlbnZlbG9wZS5ib2R5LmRhdGEpO1xuICAgICAgICBjb25zdCBpbm5lciA9IGNib3JEZWNvZGUocmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIGFzQnl0ZXNMaWtlKGVudmVsb3BlQnl0ZXMsIGlubmVyLmJvZHkpO1xuICAgIH1cbiAgICBlbmNyeXB0UmVzdWx0KG9rLCBpbm5lckZhaWwsIG91dGVyRmFpbCkge1xuICAgICAgICBpZiAob2sgfHwgaW5uZXJGYWlsKSB7XG4gICAgICAgICAgICBpZiAoKG9rICYmIGlubmVyRmFpbCkgfHwgb3V0ZXJGYWlsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVudmVsb3BlRXJyb3IoJ0NvbmZsaWN0aW5nIHJlc3VsdCBlbnZlbG9wZScsIHtcbiAgICAgICAgICAgICAgICAgICAgb2ssXG4gICAgICAgICAgICAgICAgICAgIGlubmVyRmFpbCxcbiAgICAgICAgICAgICAgICAgICAgb3V0ZXJGYWlsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSW5uZXIgZW52ZWxvcGUgaXMgZW5jcnlwdGVkXG4gICAgICAgICAgICBjb25zdCBpbm5lciA9IGNib3JFbmNvZGUoaW5uZXJGYWlsID8geyBmYWlsOiBpbm5lckZhaWwgfSA6IHsgb2sgfSk7XG4gICAgICAgICAgICBjb25zdCB7IG5vbmNlLCBjaXBoZXJ0ZXh0OiBkYXRhIH0gPSB0aGlzLmVuY3J5cHQoaW5uZXIpO1xuICAgICAgICAgICAgLy8gT3V0ZXIgZW52ZWxvcGUgaXMgcGxhaW50ZXh0XG4gICAgICAgICAgICBjb25zdCBlbnZlbG9wZSA9IGNib3JFbmNvZGUoe1xuICAgICAgICAgICAgICAgIG9rOiB7IG5vbmNlLCBkYXRhIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBlbnZlbG9wZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3V0ZXJGYWlsKSB7XG4gICAgICAgICAgICAvLyBPdXRlciBmYWlsdXJlcyBhcmUgcmV0dXJuZWQgaW4gcGxhaW50ZXh0XG4gICAgICAgICAgICByZXR1cm4gY2JvckVuY29kZSh7IGZhaWw6IG91dGVyRmFpbCB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRW52ZWxvcGVFcnJvcignQ2Fubm90IGVuY3J5cHQgcmVzdWx0IHdpdGggbm8gZGF0YSBvciBmYWlsdXJlcyEnLCB7XG4gICAgICAgICAgICBvayxcbiAgICAgICAgICAgIGlubmVyRmFpbCxcbiAgICAgICAgICAgIG91dGVyRmFpbCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBEZWNyeXB0cyB0aGUgZGF0YSBjb250YWluZWQgd2l0aGluIGEgaGV4LWVuY29kZWQgc2VyaWFsaXplZCBlbnZlbG9wZS4gKi9cbiAgICBkZWNyeXB0UmVzdWx0KGNhbGxSZXN1bHQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBlbnZlbG9wZSA9IGNib3JEZWNvZGUoZ2V0Qnl0ZXMoY2FsbFJlc3VsdCkpO1xuICAgICAgICBpZiAoZW52ZWxvcGUuZmFpbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVudmVsb3BlRXJyb3IoZm9ybWF0RmFpbHVyZShlbnZlbG9wZS5mYWlsKSwgZW52ZWxvcGUuZmFpbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVW5lbmNyeXB0ZWQgcmVzdWx0cyB3aWxsIGhhdmUgYG9rYCBhcyBieXRlcywgbm90IGEgc3RydWN0XG4gICAgICAgIGlmIChlbnZlbG9wZS5vayAmJlxuICAgICAgICAgICAgKHR5cGVvZiBlbnZlbG9wZS5vayA9PT0gJ3N0cmluZycgfHwgZW52ZWxvcGUub2sgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVudmVsb3BlRXJyb3IoJ1JlY2VpdmVkIHVuZW5jcnlwdGVkIGVudmVsb3BlJywgZW52ZWxvcGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuY3J5cHRlZCByZXN1bHQgd2lsbCBoYXZlIGBva2AgYXMgYSBDQk9SIGVuY29kZWQgc3RydWN0XG4gICAgICAgIGNvbnN0IHsgbm9uY2UsIGRhdGEgfSA9IChfYSA9IGVudmVsb3BlLm9rKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBlbnZlbG9wZS51bmtub3duO1xuICAgICAgICBjb25zdCBpbm5lciA9IGNib3JEZWNvZGUodGhpcy5kZWNyeXB0KG5vbmNlLCBkYXRhKSk7XG4gICAgICAgIGlmIChpbm5lci5vaykge1xuICAgICAgICAgICAgcmV0dXJuIGFzQnl0ZXNMaWtlKGNhbGxSZXN1bHQsIGdldEJ5dGVzKGlubmVyLm9rKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlubmVyLmZhaWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFbnZlbG9wZUVycm9yKGZvcm1hdEZhaWx1cmUoaW5uZXIuZmFpbCksIGlubmVyLmZhaWwpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFbnZlbG9wZUVycm9yKGBVbmV4cGVjdGVkIGlubmVyIGNhbGwgcmVzdWx0OiAke0pTT04uc3RyaW5naWZ5KGlubmVyKX1gLCBpbm5lcik7XG4gICAgfVxufVxuLyoqXG4gKiBBIHtAbGluayBDaXBoZXJ9IHRoYXQgZGVyaXZlcyBhIHNoYXJlZCBzZWNyZXQgdXNpbmcgWDI1NTE5IGFuZCB0aGVuIHVzZXMgRGVveHlzSUkgZm9yIGVuY3J5cHRpbmcgdXNpbmcgdGhhdCBzZWNyZXQuXG4gKlxuICogVGhpcyBpcyB0aGUgZGVmYXVsdCBjaXBoZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBYMjU1MTlEZW94eXNJSSBleHRlbmRzIENpcGhlciB7XG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgY2lwaGVyIHVzaW5nIGFuIGVwaGVtZXJhbCBrZXlwYWlyIHN0b3JlZCBpbiBtZW1vcnkuICovXG4gICAgc3RhdGljIGVwaGVtZXJhbChwZWVyUHVibGljS2V5LCBlcG9jaCkge1xuICAgICAgICBjb25zdCBrZXlwYWlyID0gYm94S2V5UGFpckZyb21TZWNyZXRLZXkocmFuZG9tQnl0ZXMoY3J5cHRvX2JveF9TRUNSRVRLRVlCWVRFUykpO1xuICAgICAgICByZXR1cm4gbmV3IFgyNTUxOURlb3h5c0lJKGtleXBhaXIsIGdldEJ5dGVzKHBlZXJQdWJsaWNLZXkpLCBlcG9jaCk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tU2VjcmV0S2V5KHNlY3JldEtleSwgcGVlclB1YmxpY0tleSwgZXBvY2gpIHtcbiAgICAgICAgY29uc3Qga2V5cGFpciA9IGJveEtleVBhaXJGcm9tU2VjcmV0S2V5KGdldEJ5dGVzKHNlY3JldEtleSkpO1xuICAgICAgICByZXR1cm4gbmV3IFgyNTUxOURlb3h5c0lJKGtleXBhaXIsIGdldEJ5dGVzKHBlZXJQdWJsaWNLZXkpLCBlcG9jaCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGtleXBhaXIsIHBlZXJQdWJsaWNLZXksIGVwb2NoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMua2luZCA9IENpcGhlcktpbmQuWDI1NTE5RGVveHlzSUk7XG4gICAgICAgIHRoaXMucHVibGljS2V5ID0ga2V5cGFpci5wdWJsaWNLZXk7XG4gICAgICAgIHRoaXMuZXBoZW1lcmFsS2V5ID0ga2V5cGFpci5zZWNyZXRLZXk7XG4gICAgICAgIHRoaXMuZXBvY2ggPSBlcG9jaDtcbiAgICAgICAgLy8gRGVyaXZlIGEgc2hhcmVkIHNlY3JldCB1c2luZyBYMjU1MTkgKGZvbGxvd2VkIGJ5IGhhc2hpbmcgdG8gcmVtb3ZlIEVDREggYmlhcykuXG4gICAgICAgIGNvbnN0IGtleUJ5dGVzID0gaG1hY1xuICAgICAgICAgICAgLmNyZWF0ZShzaGE1MTJfMjU2LCBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoJ01SQUVfQm94X0Rlb3h5cy1JSS0yNTYtMTI4JykpXG4gICAgICAgICAgICAudXBkYXRlKG5hY2xTY2FsYXJNdWx0KGtleXBhaXIuc2VjcmV0S2V5LCBwZWVyUHVibGljS2V5KSlcbiAgICAgICAgICAgIC5kaWdlc3QoKS5idWZmZXI7XG4gICAgICAgIHRoaXMuc2VjcmV0S2V5ID0gbmV3IFVpbnQ4QXJyYXkoa2V5Qnl0ZXMpO1xuICAgICAgICB0aGlzLmNpcGhlciA9IG5ldyBkZW94eXNpaS5BRUFEKG5ldyBVaW50OEFycmF5KHRoaXMuc2VjcmV0S2V5KSk7IC8vIGRlb3h5c2lpIG93bnMgdGhlIGlucHV0XG4gICAgfVxuICAgIGVuY3J5cHQocGxhaW50ZXh0LCBub25jZSA9IHJhbmRvbUJ5dGVzKGRlb3h5c2lpLk5vbmNlU2l6ZSkpIHtcbiAgICAgICAgY29uc3QgY2lwaGVydGV4dCA9IHRoaXMuY2lwaGVyLmVuY3J5cHQobm9uY2UsIHBsYWludGV4dCk7XG4gICAgICAgIHJldHVybiB7IG5vbmNlLCBjaXBoZXJ0ZXh0IH07XG4gICAgfVxuICAgIGRlY3J5cHQobm9uY2UsIGNpcGhlcnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2lwaGVyLmRlY3J5cHQobm9uY2UsIGNpcGhlcnRleHQpO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBEZXRlcm1pbmUgaWYgdGhlIENCT1IgZW5jb2RlZCBjYWxsZGF0YSBpcyBhIHNpZ25lZCBxdWVyeSBvciBhbiBldmVsb3BlXG5leHBvcnQgY2xhc3MgRW52ZWxvcGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXNwb25zZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzRW52ZWxvcGVGb3JtYXRPayhlbnZlbG9wZSkge1xuICAgIGNvbnN0IHsgZm9ybWF0LCBib2R5IH0gPSBlbnZlbG9wZTtcbiAgICBpZiAoIWJvZHkgfHwgIWZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRW52ZWxvcGVFcnJvcignTm8gYm9keSBvciBmb3JtYXQgc3BlY2lmaWVkJywgZW52ZWxvcGUpO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ICE9PSBDaXBoZXJLaW5kLlgyNTUxOURlb3h5c0lJKSB7XG4gICAgICAgIHRocm93IG5ldyBFbnZlbG9wZUVycm9yKCdOb3QgZW5jcnlwdGVkIGZvcm1hdCcsIGVudmVsb3BlKTtcbiAgICB9XG4gICAgaWYgKGlzQnl0ZXNMaWtlKGJvZHkpKVxuICAgICAgICB0aHJvdyBuZXcgRW52ZWxvcGVFcnJvcignUmVxdWlyZXMgc3RydWN0IGJvZHknLCBlbnZlbG9wZSk7XG4gICAgaWYgKCFpc0J5dGVzTGlrZShib2R5LmRhdGEpKVxuICAgICAgICB0aHJvdyBuZXcgRW52ZWxvcGVFcnJvcignTm8gYm9keSBkYXRhJywgZW52ZWxvcGUpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2FsbGRhdGFFbnZlbG9wZWQoY2FsbGRhdGEpIHtcbiAgICBpZiAoY2FsbGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGVudmVsb3BlID0gY2JvckRlY29kZShnZXRCeXRlcyhjYWxsZGF0YSkpO1xuICAgICAgICBpZiAoIWlzRW52ZWxvcGVGb3JtYXRPayhlbnZlbG9wZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFbnZlbG9wZUVycm9yKCdCb2d1cyBTYXBwaGlyZSBlbnZlbG9wZWQgZGF0YSBmb3VuZCBpbiB0cmFuc2FjdGlvbiEnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFbnZlbG9wZUVycm9yKVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2lwaGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/cipher.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/constants.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/constants.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CALLDATAPUBLICKEY_CALLDATA: () => (/* binding */ CALLDATAPUBLICKEY_CALLDATA),\n/* harmony export */   SUBCALL_ADDR: () => (/* binding */ SUBCALL_ADDR)\n/* harmony export */ });\n// SPDX-License-Identifier: Apache-2.0\nconst SUBCALL_ADDR = '0x0100000000000000000000000000000000000103';\n// NOTE: we hard-code the eth_call data, as it never changes\n//       It's equivalent to: abi_encode(['string', 'bytes'], ['core.CallDataPublicKey', cborEncode(null)])\nconst CALLDATAPUBLICKEY_CALLDATA = '0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000016636f72652e43616c6c446174615075626c69634b6579000000000000000000000000000000000000000000000000000000000000000000000000000000000001f600000000000000000000000000000000000000000000000000000000000000';\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG9hc2lzcHJvdG9jb2wvc2FwcGhpcmUtcGFyYXRpbWUvbGliL2VzbS9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9Ab2FzaXNwcm90b2NvbC9zYXBwaGlyZS1wYXJhdGltZS9saWIvZXNtL2NvbnN0YW50cy5qcz8wMzcwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5leHBvcnQgY29uc3QgU1VCQ0FMTF9BRERSID0gJzB4MDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEwMyc7XG4vLyBOT1RFOiB3ZSBoYXJkLWNvZGUgdGhlIGV0aF9jYWxsIGRhdGEsIGFzIGl0IG5ldmVyIGNoYW5nZXNcbi8vICAgICAgIEl0J3MgZXF1aXZhbGVudCB0bzogYWJpX2VuY29kZShbJ3N0cmluZycsICdieXRlcyddLCBbJ2NvcmUuQ2FsbERhdGFQdWJsaWNLZXknLCBjYm9yRW5jb2RlKG51bGwpXSlcbmV4cG9ydCBjb25zdCBDQUxMREFUQVBVQkxJQ0tFWV9DQUxMREFUQSA9ICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxNjYzNmY3MjY1MmU0MzYxNmM2YzQ0NjE3NDYxNTA3NTYyNmM2OTYzNGI2NTc5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxZjYwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/ethersutils.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/ethersutils.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fromQuantity: () => (/* binding */ fromQuantity),\n/* harmony export */   getBytes: () => (/* binding */ getBytes),\n/* harmony export */   hexlify: () => (/* binding */ hexlify),\n/* harmony export */   isBytesLike: () => (/* binding */ isBytesLike),\n/* harmony export */   isHexString: () => (/* binding */ isHexString)\n/* harmony export */ });\n// SPDX-License-Identifier: MIT\n// https://github.com/ethers-io/ethers.js/blob/main/LICENSE.md\n// This file avoids importing the Ethers library\n/**\n *  Returns true if %%value%% is a valid [[HexString]].\n *\n *  If %%length%% is ``true`` or a //number//, it also checks that\n *  %%value%% is a valid [[DataHexString]] of %%length%% (if a //number//)\n *  bytes of data (e.g. ``0x1234`` is 2 bytes).\n */\nfunction isHexString(value, length) {\n    if (typeof value !== 'string' || !value.match(/^0x[0-9A-Fa-f]*$/)) {\n        return false;\n    }\n    if (typeof length === 'number' && value.length !== 2 + 2 * length) {\n        return false;\n    }\n    if (length === true && value.length % 2 !== 0) {\n        return false;\n    }\n    return true;\n}\n/**\n *  Returns true if %%value%% is a valid representation of arbitrary\n *  data (i.e. a valid [[DataHexString]] or a Uint8Array).\n */\nfunction isBytesLike(value) {\n    return isHexString(value, true) || value instanceof Uint8Array;\n}\n/**\n *  Get a typed Uint8Array for %%value%%. If already a Uint8Array\n *  the original %%value%% is returned; if a copy is required copy=true\n */\nfunction getBytes(value, name, copy) {\n    if (value instanceof Uint8Array) {\n        if (copy) {\n            return new Uint8Array(value);\n        }\n        return value;\n    }\n    if (typeof value === 'string' && value.match(/^0x([0-9a-f][0-9a-f])*$/i)) {\n        const result = new Uint8Array((value.length - 2) / 2);\n        let offset = 2;\n        for (let i = 0; i < result.length; i++) {\n            result[i] = parseInt(value.substring(offset, offset + 2), 16);\n            offset += 2;\n        }\n        return result;\n    }\n    throw new Error(`invalid BytesLike value ${name !== null && name !== void 0 ? name : ''}`);\n}\nconst HexCharacters = '0123456789abcdef';\n/**\n *  Returns a [[DataHexString]] representation of %%data%%.\n */\nfunction hexlify(data) {\n    const bytes = getBytes(data);\n    let result = '0x';\n    for (let i = 0; i < bytes.length; i++) {\n        const v = bytes[i];\n        result += HexCharacters[(v & 0xf0) >> 4] + HexCharacters[v & 0x0f];\n    }\n    return result;\n}\n/**\n * A //Quantity// does not have and leading 0 values unless the value is\n * the literal value `0x0`. This is most commonly used for JSSON-RPC\n * numeric values.\n *\n * It will parse '0x' prefixed hex strings, base-10 encoded numbers and numbers.\n *\n * @param quantity\n * @returns Quantity as an integer\n */\nfunction fromQuantity(quantity) {\n    if (typeof quantity === 'string') {\n        if (quantity.startsWith('0x')) {\n            return parseInt(quantity, 16);\n        }\n        return parseInt(quantity); // Assumed to be base 10\n    }\n    return quantity;\n}\n//# sourceMappingURL=ethersutils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG9hc2lzcHJvdG9jb2wvc2FwcGhpcmUtcGFyYXRpbWUvbGliL2VzbS9ldGhlcnN1dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbUJBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsNkNBQTZDO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9Ab2FzaXNwcm90b2NvbC9zYXBwaGlyZS1wYXJhdGltZS9saWIvZXNtL2V0aGVyc3V0aWxzLmpzPzIzMGQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVycy1pby9ldGhlcnMuanMvYmxvYi9tYWluL0xJQ0VOU0UubWRcbi8vIFRoaXMgZmlsZSBhdm9pZHMgaW1wb3J0aW5nIHRoZSBFdGhlcnMgbGlicmFyeVxuLyoqXG4gKiAgUmV0dXJucyB0cnVlIGlmICUldmFsdWUlJSBpcyBhIHZhbGlkIFtbSGV4U3RyaW5nXV0uXG4gKlxuICogIElmICUlbGVuZ3RoJSUgaXMgYGB0cnVlYGAgb3IgYSAvL251bWJlci8vLCBpdCBhbHNvIGNoZWNrcyB0aGF0XG4gKiAgJSV2YWx1ZSUlIGlzIGEgdmFsaWQgW1tEYXRhSGV4U3RyaW5nXV0gb2YgJSVsZW5ndGglJSAoaWYgYSAvL251bWJlci8vKVxuICogIGJ5dGVzIG9mIGRhdGEgKGUuZy4gYGAweDEyMzRgYCBpcyAyIGJ5dGVzKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSGV4U3RyaW5nKHZhbHVlLCBsZW5ndGgpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyB8fCAhdmFsdWUubWF0Y2goL14weFswLTlBLUZhLWZdKiQvKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbGVuZ3RoID09PSAnbnVtYmVyJyAmJiB2YWx1ZS5sZW5ndGggIT09IDIgKyAyICogbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGxlbmd0aCA9PT0gdHJ1ZSAmJiB2YWx1ZS5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqICBSZXR1cm5zIHRydWUgaWYgJSV2YWx1ZSUlIGlzIGEgdmFsaWQgcmVwcmVzZW50YXRpb24gb2YgYXJiaXRyYXJ5XG4gKiAgZGF0YSAoaS5lLiBhIHZhbGlkIFtbRGF0YUhleFN0cmluZ11dIG9yIGEgVWludDhBcnJheSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0J5dGVzTGlrZSh2YWx1ZSkge1xuICAgIHJldHVybiBpc0hleFN0cmluZyh2YWx1ZSwgdHJ1ZSkgfHwgdmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5O1xufVxuLyoqXG4gKiAgR2V0IGEgdHlwZWQgVWludDhBcnJheSBmb3IgJSV2YWx1ZSUlLiBJZiBhbHJlYWR5IGEgVWludDhBcnJheVxuICogIHRoZSBvcmlnaW5hbCAlJXZhbHVlJSUgaXMgcmV0dXJuZWQ7IGlmIGEgY29weSBpcyByZXF1aXJlZCBjb3B5PXRydWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJ5dGVzKHZhbHVlLCBuYW1lLCBjb3B5KSB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICBpZiAoY29weSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLm1hdGNoKC9eMHgoWzAtOWEtZl1bMC05YS1mXSkqJC9pKSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheSgodmFsdWUubGVuZ3RoIC0gMikgLyAyKTtcbiAgICAgICAgbGV0IG9mZnNldCA9IDI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHRbaV0gPSBwYXJzZUludCh2YWx1ZS5zdWJzdHJpbmcob2Zmc2V0LCBvZmZzZXQgKyAyKSwgMTYpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIEJ5dGVzTGlrZSB2YWx1ZSAke25hbWUgIT09IG51bGwgJiYgbmFtZSAhPT0gdm9pZCAwID8gbmFtZSA6ICcnfWApO1xufVxuY29uc3QgSGV4Q2hhcmFjdGVycyA9ICcwMTIzNDU2Nzg5YWJjZGVmJztcbi8qKlxuICogIFJldHVybnMgYSBbW0RhdGFIZXhTdHJpbmddXSByZXByZXNlbnRhdGlvbiBvZiAlJWRhdGElJS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleGxpZnkoZGF0YSkge1xuICAgIGNvbnN0IGJ5dGVzID0gZ2V0Qnl0ZXMoZGF0YSk7XG4gICAgbGV0IHJlc3VsdCA9ICcweCc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB2ID0gYnl0ZXNbaV07XG4gICAgICAgIHJlc3VsdCArPSBIZXhDaGFyYWN0ZXJzWyh2ICYgMHhmMCkgPj4gNF0gKyBIZXhDaGFyYWN0ZXJzW3YgJiAweDBmXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQSAvL1F1YW50aXR5Ly8gZG9lcyBub3QgaGF2ZSBhbmQgbGVhZGluZyAwIHZhbHVlcyB1bmxlc3MgdGhlIHZhbHVlIGlzXG4gKiB0aGUgbGl0ZXJhbCB2YWx1ZSBgMHgwYC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IHVzZWQgZm9yIEpTU09OLVJQQ1xuICogbnVtZXJpYyB2YWx1ZXMuXG4gKlxuICogSXQgd2lsbCBwYXJzZSAnMHgnIHByZWZpeGVkIGhleCBzdHJpbmdzLCBiYXNlLTEwIGVuY29kZWQgbnVtYmVycyBhbmQgbnVtYmVycy5cbiAqXG4gKiBAcGFyYW0gcXVhbnRpdHlcbiAqIEByZXR1cm5zIFF1YW50aXR5IGFzIGFuIGludGVnZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWFudGl0eShxdWFudGl0eSkge1xuICAgIGlmICh0eXBlb2YgcXVhbnRpdHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChxdWFudGl0eS5zdGFydHNXaXRoKCcweCcpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQocXVhbnRpdHksIDE2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VJbnQocXVhbnRpdHkpOyAvLyBBc3N1bWVkIHRvIGJlIGJhc2UgMTBcbiAgICB9XG4gICAgcmV0dXJuIHF1YW50aXR5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXRoZXJzdXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/ethersutils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/munacl.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/munacl.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MuNaclError: () => (/* binding */ MuNaclError),\n/* harmony export */   boxKeyPairFromSecretKey: () => (/* binding */ boxKeyPairFromSecretKey),\n/* harmony export */   crypto_box_PUBLICKEYBYTES: () => (/* binding */ crypto_box_PUBLICKEYBYTES),\n/* harmony export */   crypto_box_SECRETKEYBYTES: () => (/* binding */ crypto_box_SECRETKEYBYTES),\n/* harmony export */   crypto_scalarmult_BYTES: () => (/* binding */ crypto_scalarmult_BYTES),\n/* harmony export */   crypto_scalarmult_SCALARBYTES: () => (/* binding */ crypto_scalarmult_SCALARBYTES),\n/* harmony export */   naclScalarMult: () => (/* binding */ naclScalarMult),\n/* harmony export */   naclScalarMultBase: () => (/* binding */ naclScalarMultBase)\n/* harmony export */ });\n// SPDX-License-Identifier: Unlicense\n// Minimum necessary functions extracted and made TypeScript compatible from:\n// https://github.com/dchest/tweetnacl-js/blob/fecde6ecf0eb81e31d54ca0509531ab1b825f490/nacl-fast.js\nfunction gf(init) {\n    const r = new Float64Array(16);\n    if (init) {\n        for (let i = 0; i < init.length; i++)\n            r[i] = init[i];\n    }\n    return r;\n}\nconst crypto_box_SECRETKEYBYTES = 32;\nconst crypto_box_PUBLICKEYBYTES = 32;\nconst crypto_scalarmult_BYTES = 32;\nconst crypto_scalarmult_SCALARBYTES = 32;\nconst _9 = new Uint8Array(32);\n_9[0] = 9;\nconst _121665 = gf([0xdb41, 1]);\nfunction sel25519(p, q, b) {\n    let t;\n    const c = ~(b - 1);\n    for (let i = 0; i < 16; i++) {\n        t = c & (p[i] ^ q[i]);\n        p[i] ^= t;\n        q[i] ^= t;\n    }\n}\nfunction inv25519(o, i) {\n    const c = gf();\n    let a;\n    for (a = 0; a < 16; a++)\n        c[a] = i[a];\n    for (a = 253; a >= 0; a--) {\n        S(c, c);\n        if (a !== 2 && a !== 4)\n            M(c, c, i);\n    }\n    for (a = 0; a < 16; a++)\n        o[a] = c[a];\n}\nfunction car25519(o) {\n    let v, c = 1;\n    for (let i = 0; i < 16; i++) {\n        v = o[i] + c + 65535;\n        c = Math.floor(v / 65536);\n        o[i] = v - c * 65536;\n    }\n    o[0] += c - 1 + 37 * (c - 1);\n}\nfunction unpack25519(o, n) {\n    for (let i = 0; i < 16; i++)\n        o[i] = n[2 * i] + (n[2 * i + 1] << 8);\n    o[15] &= 0x7fff;\n}\nfunction pack25519(o, n) {\n    let i, j, b;\n    const m = gf(), t = gf();\n    for (i = 0; i < 16; i++)\n        t[i] = n[i];\n    car25519(t);\n    car25519(t);\n    car25519(t);\n    for (j = 0; j < 2; j++) {\n        m[0] = t[0] - 0xffed;\n        for (i = 1; i < 15; i++) {\n            m[i] = t[i] - 0xffff - ((m[i - 1] >> 16) & 1);\n            m[i - 1] &= 0xffff;\n        }\n        m[15] = t[15] - 0x7fff - ((m[14] >> 16) & 1);\n        b = (m[15] >> 16) & 1;\n        m[14] &= 0xffff;\n        sel25519(t, m, 1 - b);\n    }\n    for (i = 0; i < 16; i++) {\n        o[2 * i] = t[i] & 0xff;\n        o[2 * i + 1] = t[i] >> 8;\n    }\n}\nfunction A(o, a, b) {\n    for (let i = 0; i < 16; i++)\n        o[i] = a[i] + b[i];\n}\nfunction Z(o, a, b) {\n    for (let i = 0; i < 16; i++)\n        o[i] = a[i] - b[i];\n}\nfunction M(o, a, b) {\n    let v, c, t0 = 0, t1 = 0, t2 = 0, t3 = 0, t4 = 0, t5 = 0, t6 = 0, t7 = 0, t8 = 0, t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0, t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0, t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0;\n    const b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7], b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11], b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];\n    v = a[0];\n    t0 += v * b0;\n    t1 += v * b1;\n    t2 += v * b2;\n    t3 += v * b3;\n    t4 += v * b4;\n    t5 += v * b5;\n    t6 += v * b6;\n    t7 += v * b7;\n    t8 += v * b8;\n    t9 += v * b9;\n    t10 += v * b10;\n    t11 += v * b11;\n    t12 += v * b12;\n    t13 += v * b13;\n    t14 += v * b14;\n    t15 += v * b15;\n    v = a[1];\n    t1 += v * b0;\n    t2 += v * b1;\n    t3 += v * b2;\n    t4 += v * b3;\n    t5 += v * b4;\n    t6 += v * b5;\n    t7 += v * b6;\n    t8 += v * b7;\n    t9 += v * b8;\n    t10 += v * b9;\n    t11 += v * b10;\n    t12 += v * b11;\n    t13 += v * b12;\n    t14 += v * b13;\n    t15 += v * b14;\n    t16 += v * b15;\n    v = a[2];\n    t2 += v * b0;\n    t3 += v * b1;\n    t4 += v * b2;\n    t5 += v * b3;\n    t6 += v * b4;\n    t7 += v * b5;\n    t8 += v * b6;\n    t9 += v * b7;\n    t10 += v * b8;\n    t11 += v * b9;\n    t12 += v * b10;\n    t13 += v * b11;\n    t14 += v * b12;\n    t15 += v * b13;\n    t16 += v * b14;\n    t17 += v * b15;\n    v = a[3];\n    t3 += v * b0;\n    t4 += v * b1;\n    t5 += v * b2;\n    t6 += v * b3;\n    t7 += v * b4;\n    t8 += v * b5;\n    t9 += v * b6;\n    t10 += v * b7;\n    t11 += v * b8;\n    t12 += v * b9;\n    t13 += v * b10;\n    t14 += v * b11;\n    t15 += v * b12;\n    t16 += v * b13;\n    t17 += v * b14;\n    t18 += v * b15;\n    v = a[4];\n    t4 += v * b0;\n    t5 += v * b1;\n    t6 += v * b2;\n    t7 += v * b3;\n    t8 += v * b4;\n    t9 += v * b5;\n    t10 += v * b6;\n    t11 += v * b7;\n    t12 += v * b8;\n    t13 += v * b9;\n    t14 += v * b10;\n    t15 += v * b11;\n    t16 += v * b12;\n    t17 += v * b13;\n    t18 += v * b14;\n    t19 += v * b15;\n    v = a[5];\n    t5 += v * b0;\n    t6 += v * b1;\n    t7 += v * b2;\n    t8 += v * b3;\n    t9 += v * b4;\n    t10 += v * b5;\n    t11 += v * b6;\n    t12 += v * b7;\n    t13 += v * b8;\n    t14 += v * b9;\n    t15 += v * b10;\n    t16 += v * b11;\n    t17 += v * b12;\n    t18 += v * b13;\n    t19 += v * b14;\n    t20 += v * b15;\n    v = a[6];\n    t6 += v * b0;\n    t7 += v * b1;\n    t8 += v * b2;\n    t9 += v * b3;\n    t10 += v * b4;\n    t11 += v * b5;\n    t12 += v * b6;\n    t13 += v * b7;\n    t14 += v * b8;\n    t15 += v * b9;\n    t16 += v * b10;\n    t17 += v * b11;\n    t18 += v * b12;\n    t19 += v * b13;\n    t20 += v * b14;\n    t21 += v * b15;\n    v = a[7];\n    t7 += v * b0;\n    t8 += v * b1;\n    t9 += v * b2;\n    t10 += v * b3;\n    t11 += v * b4;\n    t12 += v * b5;\n    t13 += v * b6;\n    t14 += v * b7;\n    t15 += v * b8;\n    t16 += v * b9;\n    t17 += v * b10;\n    t18 += v * b11;\n    t19 += v * b12;\n    t20 += v * b13;\n    t21 += v * b14;\n    t22 += v * b15;\n    v = a[8];\n    t8 += v * b0;\n    t9 += v * b1;\n    t10 += v * b2;\n    t11 += v * b3;\n    t12 += v * b4;\n    t13 += v * b5;\n    t14 += v * b6;\n    t15 += v * b7;\n    t16 += v * b8;\n    t17 += v * b9;\n    t18 += v * b10;\n    t19 += v * b11;\n    t20 += v * b12;\n    t21 += v * b13;\n    t22 += v * b14;\n    t23 += v * b15;\n    v = a[9];\n    t9 += v * b0;\n    t10 += v * b1;\n    t11 += v * b2;\n    t12 += v * b3;\n    t13 += v * b4;\n    t14 += v * b5;\n    t15 += v * b6;\n    t16 += v * b7;\n    t17 += v * b8;\n    t18 += v * b9;\n    t19 += v * b10;\n    t20 += v * b11;\n    t21 += v * b12;\n    t22 += v * b13;\n    t23 += v * b14;\n    t24 += v * b15;\n    v = a[10];\n    t10 += v * b0;\n    t11 += v * b1;\n    t12 += v * b2;\n    t13 += v * b3;\n    t14 += v * b4;\n    t15 += v * b5;\n    t16 += v * b6;\n    t17 += v * b7;\n    t18 += v * b8;\n    t19 += v * b9;\n    t20 += v * b10;\n    t21 += v * b11;\n    t22 += v * b12;\n    t23 += v * b13;\n    t24 += v * b14;\n    t25 += v * b15;\n    v = a[11];\n    t11 += v * b0;\n    t12 += v * b1;\n    t13 += v * b2;\n    t14 += v * b3;\n    t15 += v * b4;\n    t16 += v * b5;\n    t17 += v * b6;\n    t18 += v * b7;\n    t19 += v * b8;\n    t20 += v * b9;\n    t21 += v * b10;\n    t22 += v * b11;\n    t23 += v * b12;\n    t24 += v * b13;\n    t25 += v * b14;\n    t26 += v * b15;\n    v = a[12];\n    t12 += v * b0;\n    t13 += v * b1;\n    t14 += v * b2;\n    t15 += v * b3;\n    t16 += v * b4;\n    t17 += v * b5;\n    t18 += v * b6;\n    t19 += v * b7;\n    t20 += v * b8;\n    t21 += v * b9;\n    t22 += v * b10;\n    t23 += v * b11;\n    t24 += v * b12;\n    t25 += v * b13;\n    t26 += v * b14;\n    t27 += v * b15;\n    v = a[13];\n    t13 += v * b0;\n    t14 += v * b1;\n    t15 += v * b2;\n    t16 += v * b3;\n    t17 += v * b4;\n    t18 += v * b5;\n    t19 += v * b6;\n    t20 += v * b7;\n    t21 += v * b8;\n    t22 += v * b9;\n    t23 += v * b10;\n    t24 += v * b11;\n    t25 += v * b12;\n    t26 += v * b13;\n    t27 += v * b14;\n    t28 += v * b15;\n    v = a[14];\n    t14 += v * b0;\n    t15 += v * b1;\n    t16 += v * b2;\n    t17 += v * b3;\n    t18 += v * b4;\n    t19 += v * b5;\n    t20 += v * b6;\n    t21 += v * b7;\n    t22 += v * b8;\n    t23 += v * b9;\n    t24 += v * b10;\n    t25 += v * b11;\n    t26 += v * b12;\n    t27 += v * b13;\n    t28 += v * b14;\n    t29 += v * b15;\n    v = a[15];\n    t15 += v * b0;\n    t16 += v * b1;\n    t17 += v * b2;\n    t18 += v * b3;\n    t19 += v * b4;\n    t20 += v * b5;\n    t21 += v * b6;\n    t22 += v * b7;\n    t23 += v * b8;\n    t24 += v * b9;\n    t25 += v * b10;\n    t26 += v * b11;\n    t27 += v * b12;\n    t28 += v * b13;\n    t29 += v * b14;\n    t30 += v * b15;\n    t0 += 38 * t16;\n    t1 += 38 * t17;\n    t2 += 38 * t18;\n    t3 += 38 * t19;\n    t4 += 38 * t20;\n    t5 += 38 * t21;\n    t6 += 38 * t22;\n    t7 += 38 * t23;\n    t8 += 38 * t24;\n    t9 += 38 * t25;\n    t10 += 38 * t26;\n    t11 += 38 * t27;\n    t12 += 38 * t28;\n    t13 += 38 * t29;\n    t14 += 38 * t30;\n    // t15 left as is\n    // first car\n    c = 1;\n    v = t0 + c + 65535;\n    c = Math.floor(v / 65536);\n    t0 = v - c * 65536;\n    v = t1 + c + 65535;\n    c = Math.floor(v / 65536);\n    t1 = v - c * 65536;\n    v = t2 + c + 65535;\n    c = Math.floor(v / 65536);\n    t2 = v - c * 65536;\n    v = t3 + c + 65535;\n    c = Math.floor(v / 65536);\n    t3 = v - c * 65536;\n    v = t4 + c + 65535;\n    c = Math.floor(v / 65536);\n    t4 = v - c * 65536;\n    v = t5 + c + 65535;\n    c = Math.floor(v / 65536);\n    t5 = v - c * 65536;\n    v = t6 + c + 65535;\n    c = Math.floor(v / 65536);\n    t6 = v - c * 65536;\n    v = t7 + c + 65535;\n    c = Math.floor(v / 65536);\n    t7 = v - c * 65536;\n    v = t8 + c + 65535;\n    c = Math.floor(v / 65536);\n    t8 = v - c * 65536;\n    v = t9 + c + 65535;\n    c = Math.floor(v / 65536);\n    t9 = v - c * 65536;\n    v = t10 + c + 65535;\n    c = Math.floor(v / 65536);\n    t10 = v - c * 65536;\n    v = t11 + c + 65535;\n    c = Math.floor(v / 65536);\n    t11 = v - c * 65536;\n    v = t12 + c + 65535;\n    c = Math.floor(v / 65536);\n    t12 = v - c * 65536;\n    v = t13 + c + 65535;\n    c = Math.floor(v / 65536);\n    t13 = v - c * 65536;\n    v = t14 + c + 65535;\n    c = Math.floor(v / 65536);\n    t14 = v - c * 65536;\n    v = t15 + c + 65535;\n    c = Math.floor(v / 65536);\n    t15 = v - c * 65536;\n    t0 += c - 1 + 37 * (c - 1);\n    // second car\n    c = 1;\n    v = t0 + c + 65535;\n    c = Math.floor(v / 65536);\n    t0 = v - c * 65536;\n    v = t1 + c + 65535;\n    c = Math.floor(v / 65536);\n    t1 = v - c * 65536;\n    v = t2 + c + 65535;\n    c = Math.floor(v / 65536);\n    t2 = v - c * 65536;\n    v = t3 + c + 65535;\n    c = Math.floor(v / 65536);\n    t3 = v - c * 65536;\n    v = t4 + c + 65535;\n    c = Math.floor(v / 65536);\n    t4 = v - c * 65536;\n    v = t5 + c + 65535;\n    c = Math.floor(v / 65536);\n    t5 = v - c * 65536;\n    v = t6 + c + 65535;\n    c = Math.floor(v / 65536);\n    t6 = v - c * 65536;\n    v = t7 + c + 65535;\n    c = Math.floor(v / 65536);\n    t7 = v - c * 65536;\n    v = t8 + c + 65535;\n    c = Math.floor(v / 65536);\n    t8 = v - c * 65536;\n    v = t9 + c + 65535;\n    c = Math.floor(v / 65536);\n    t9 = v - c * 65536;\n    v = t10 + c + 65535;\n    c = Math.floor(v / 65536);\n    t10 = v - c * 65536;\n    v = t11 + c + 65535;\n    c = Math.floor(v / 65536);\n    t11 = v - c * 65536;\n    v = t12 + c + 65535;\n    c = Math.floor(v / 65536);\n    t12 = v - c * 65536;\n    v = t13 + c + 65535;\n    c = Math.floor(v / 65536);\n    t13 = v - c * 65536;\n    v = t14 + c + 65535;\n    c = Math.floor(v / 65536);\n    t14 = v - c * 65536;\n    v = t15 + c + 65535;\n    c = Math.floor(v / 65536);\n    t15 = v - c * 65536;\n    t0 += c - 1 + 37 * (c - 1);\n    o[0] = t0;\n    o[1] = t1;\n    o[2] = t2;\n    o[3] = t3;\n    o[4] = t4;\n    o[5] = t5;\n    o[6] = t6;\n    o[7] = t7;\n    o[8] = t8;\n    o[9] = t9;\n    o[10] = t10;\n    o[11] = t11;\n    o[12] = t12;\n    o[13] = t13;\n    o[14] = t14;\n    o[15] = t15;\n}\nfunction S(o, a) {\n    M(o, a, a);\n}\nfunction crypto_scalarmult(q, n, p) {\n    const z = new Uint8Array(32);\n    const x = new Float64Array(80);\n    let r, i;\n    const a = gf(), b = gf(), c = gf(), d = gf(), e = gf(), f = gf();\n    for (i = 0; i < 31; i++)\n        z[i] = n[i];\n    z[31] = (n[31] & 127) | 64;\n    z[0] &= 248;\n    unpack25519(x, p);\n    for (i = 0; i < 16; i++) {\n        b[i] = x[i];\n        d[i] = a[i] = c[i] = 0;\n    }\n    a[0] = d[0] = 1;\n    for (i = 254; i >= 0; --i) {\n        r = (z[i >>> 3] >>> (i & 7)) & 1;\n        sel25519(a, b, r);\n        sel25519(c, d, r);\n        A(e, a, c);\n        Z(a, a, c);\n        A(c, b, d);\n        Z(b, b, d);\n        S(d, e);\n        S(f, a);\n        M(a, c, a);\n        M(c, b, e);\n        A(e, a, c);\n        Z(a, a, c);\n        S(b, a);\n        Z(c, d, f);\n        M(a, c, _121665);\n        A(a, a, d);\n        M(c, c, a);\n        M(a, d, f);\n        M(d, b, x);\n        S(b, e);\n        sel25519(a, b, r);\n        sel25519(c, d, r);\n    }\n    for (i = 0; i < 16; i++) {\n        x[i + 16] = a[i];\n        x[i + 32] = c[i];\n        x[i + 48] = b[i];\n        x[i + 64] = d[i];\n    }\n    const x32 = x.subarray(32);\n    const x16 = x.subarray(16);\n    inv25519(x32, x32);\n    M(x16, x16, x32);\n    pack25519(q, x16);\n    return q;\n}\nfunction crypto_scalarmult_base(q, n) {\n    return crypto_scalarmult(q, n, _9);\n}\nclass MuNaclError extends Error {\n}\nfunction naclScalarMult(n, p) {\n    if (n.length !== crypto_scalarmult_SCALARBYTES) {\n        throw new MuNaclError('bad n size');\n    }\n    if (p.length !== crypto_scalarmult_BYTES) {\n        throw new MuNaclError('bad p size');\n    }\n    return crypto_scalarmult(new Uint8Array(crypto_scalarmult_BYTES), n, p);\n}\nfunction naclScalarMultBase(n) {\n    return naclScalarMult(n, _9);\n}\nfunction boxKeyPairFromSecretKey(secretKey) {\n    if (secretKey.length !== crypto_box_SECRETKEYBYTES) {\n        throw new MuNaclError('bad secret key size');\n    }\n    return {\n        publicKey: crypto_scalarmult_base(new Uint8Array(crypto_box_PUBLICKEYBYTES), secretKey),\n        secretKey: new Uint8Array(secretKey),\n    };\n}\n//# sourceMappingURL=munacl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG9hc2lzcHJvdG9jb2wvc2FwcGhpcmUtcGFyYXRpbWUvbGliL2VzbS9tdW5hY2wuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQSxrQkFBa0IsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG9hc2lzcHJvdG9jb2wvc2FwcGhpcmUtcGFyYXRpbWUvbGliL2VzbS9tdW5hY2wuanM/ZGNmYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogVW5saWNlbnNlXG4vLyBNaW5pbXVtIG5lY2Vzc2FyeSBmdW5jdGlvbnMgZXh0cmFjdGVkIGFuZCBtYWRlIFR5cGVTY3JpcHQgY29tcGF0aWJsZSBmcm9tOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2RjaGVzdC90d2VldG5hY2wtanMvYmxvYi9mZWNkZTZlY2YwZWI4MWUzMWQ1NGNhMDUwOTUzMWFiMWI4MjVmNDkwL25hY2wtZmFzdC5qc1xuZnVuY3Rpb24gZ2YoaW5pdCkge1xuICAgIGNvbnN0IHIgPSBuZXcgRmxvYXQ2NEFycmF5KDE2KTtcbiAgICBpZiAoaW5pdCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluaXQubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICByW2ldID0gaW5pdFtpXTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG59XG5leHBvcnQgY29uc3QgY3J5cHRvX2JveF9TRUNSRVRLRVlCWVRFUyA9IDMyO1xuZXhwb3J0IGNvbnN0IGNyeXB0b19ib3hfUFVCTElDS0VZQllURVMgPSAzMjtcbmV4cG9ydCBjb25zdCBjcnlwdG9fc2NhbGFybXVsdF9CWVRFUyA9IDMyO1xuZXhwb3J0IGNvbnN0IGNyeXB0b19zY2FsYXJtdWx0X1NDQUxBUkJZVEVTID0gMzI7XG5jb25zdCBfOSA9IG5ldyBVaW50OEFycmF5KDMyKTtcbl85WzBdID0gOTtcbmNvbnN0IF8xMjE2NjUgPSBnZihbMHhkYjQxLCAxXSk7XG5mdW5jdGlvbiBzZWwyNTUxOShwLCBxLCBiKSB7XG4gICAgbGV0IHQ7XG4gICAgY29uc3QgYyA9IH4oYiAtIDEpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICB0ID0gYyAmIChwW2ldIF4gcVtpXSk7XG4gICAgICAgIHBbaV0gXj0gdDtcbiAgICAgICAgcVtpXSBePSB0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGludjI1NTE5KG8sIGkpIHtcbiAgICBjb25zdCBjID0gZ2YoKTtcbiAgICBsZXQgYTtcbiAgICBmb3IgKGEgPSAwOyBhIDwgMTY7IGErKylcbiAgICAgICAgY1thXSA9IGlbYV07XG4gICAgZm9yIChhID0gMjUzOyBhID49IDA7IGEtLSkge1xuICAgICAgICBTKGMsIGMpO1xuICAgICAgICBpZiAoYSAhPT0gMiAmJiBhICE9PSA0KVxuICAgICAgICAgICAgTShjLCBjLCBpKTtcbiAgICB9XG4gICAgZm9yIChhID0gMDsgYSA8IDE2OyBhKyspXG4gICAgICAgIG9bYV0gPSBjW2FdO1xufVxuZnVuY3Rpb24gY2FyMjU1MTkobykge1xuICAgIGxldCB2LCBjID0gMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgdiA9IG9baV0gKyBjICsgNjU1MzU7XG4gICAgICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgICAgIG9baV0gPSB2IC0gYyAqIDY1NTM2O1xuICAgIH1cbiAgICBvWzBdICs9IGMgLSAxICsgMzcgKiAoYyAtIDEpO1xufVxuZnVuY3Rpb24gdW5wYWNrMjU1MTkobywgbikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKylcbiAgICAgICAgb1tpXSA9IG5bMiAqIGldICsgKG5bMiAqIGkgKyAxXSA8PCA4KTtcbiAgICBvWzE1XSAmPSAweDdmZmY7XG59XG5mdW5jdGlvbiBwYWNrMjU1MTkobywgbikge1xuICAgIGxldCBpLCBqLCBiO1xuICAgIGNvbnN0IG0gPSBnZigpLCB0ID0gZ2YoKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkrKylcbiAgICAgICAgdFtpXSA9IG5baV07XG4gICAgY2FyMjU1MTkodCk7XG4gICAgY2FyMjU1MTkodCk7XG4gICAgY2FyMjU1MTkodCk7XG4gICAgZm9yIChqID0gMDsgaiA8IDI7IGorKykge1xuICAgICAgICBtWzBdID0gdFswXSAtIDB4ZmZlZDtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IDE1OyBpKyspIHtcbiAgICAgICAgICAgIG1baV0gPSB0W2ldIC0gMHhmZmZmIC0gKChtW2kgLSAxXSA+PiAxNikgJiAxKTtcbiAgICAgICAgICAgIG1baSAtIDFdICY9IDB4ZmZmZjtcbiAgICAgICAgfVxuICAgICAgICBtWzE1XSA9IHRbMTVdIC0gMHg3ZmZmIC0gKChtWzE0XSA+PiAxNikgJiAxKTtcbiAgICAgICAgYiA9IChtWzE1XSA+PiAxNikgJiAxO1xuICAgICAgICBtWzE0XSAmPSAweGZmZmY7XG4gICAgICAgIHNlbDI1NTE5KHQsIG0sIDEgLSBiKTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgb1syICogaV0gPSB0W2ldICYgMHhmZjtcbiAgICAgICAgb1syICogaSArIDFdID0gdFtpXSA+PiA4O1xuICAgIH1cbn1cbmZ1bmN0aW9uIEEobywgYSwgYikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKylcbiAgICAgICAgb1tpXSA9IGFbaV0gKyBiW2ldO1xufVxuZnVuY3Rpb24gWihvLCBhLCBiKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKVxuICAgICAgICBvW2ldID0gYVtpXSAtIGJbaV07XG59XG5mdW5jdGlvbiBNKG8sIGEsIGIpIHtcbiAgICBsZXQgdiwgYywgdDAgPSAwLCB0MSA9IDAsIHQyID0gMCwgdDMgPSAwLCB0NCA9IDAsIHQ1ID0gMCwgdDYgPSAwLCB0NyA9IDAsIHQ4ID0gMCwgdDkgPSAwLCB0MTAgPSAwLCB0MTEgPSAwLCB0MTIgPSAwLCB0MTMgPSAwLCB0MTQgPSAwLCB0MTUgPSAwLCB0MTYgPSAwLCB0MTcgPSAwLCB0MTggPSAwLCB0MTkgPSAwLCB0MjAgPSAwLCB0MjEgPSAwLCB0MjIgPSAwLCB0MjMgPSAwLCB0MjQgPSAwLCB0MjUgPSAwLCB0MjYgPSAwLCB0MjcgPSAwLCB0MjggPSAwLCB0MjkgPSAwLCB0MzAgPSAwO1xuICAgIGNvbnN0IGIwID0gYlswXSwgYjEgPSBiWzFdLCBiMiA9IGJbMl0sIGIzID0gYlszXSwgYjQgPSBiWzRdLCBiNSA9IGJbNV0sIGI2ID0gYls2XSwgYjcgPSBiWzddLCBiOCA9IGJbOF0sIGI5ID0gYls5XSwgYjEwID0gYlsxMF0sIGIxMSA9IGJbMTFdLCBiMTIgPSBiWzEyXSwgYjEzID0gYlsxM10sIGIxNCA9IGJbMTRdLCBiMTUgPSBiWzE1XTtcbiAgICB2ID0gYVswXTtcbiAgICB0MCArPSB2ICogYjA7XG4gICAgdDEgKz0gdiAqIGIxO1xuICAgIHQyICs9IHYgKiBiMjtcbiAgICB0MyArPSB2ICogYjM7XG4gICAgdDQgKz0gdiAqIGI0O1xuICAgIHQ1ICs9IHYgKiBiNTtcbiAgICB0NiArPSB2ICogYjY7XG4gICAgdDcgKz0gdiAqIGI3O1xuICAgIHQ4ICs9IHYgKiBiODtcbiAgICB0OSArPSB2ICogYjk7XG4gICAgdDEwICs9IHYgKiBiMTA7XG4gICAgdDExICs9IHYgKiBiMTE7XG4gICAgdDEyICs9IHYgKiBiMTI7XG4gICAgdDEzICs9IHYgKiBiMTM7XG4gICAgdDE0ICs9IHYgKiBiMTQ7XG4gICAgdDE1ICs9IHYgKiBiMTU7XG4gICAgdiA9IGFbMV07XG4gICAgdDEgKz0gdiAqIGIwO1xuICAgIHQyICs9IHYgKiBiMTtcbiAgICB0MyArPSB2ICogYjI7XG4gICAgdDQgKz0gdiAqIGIzO1xuICAgIHQ1ICs9IHYgKiBiNDtcbiAgICB0NiArPSB2ICogYjU7XG4gICAgdDcgKz0gdiAqIGI2O1xuICAgIHQ4ICs9IHYgKiBiNztcbiAgICB0OSArPSB2ICogYjg7XG4gICAgdDEwICs9IHYgKiBiOTtcbiAgICB0MTEgKz0gdiAqIGIxMDtcbiAgICB0MTIgKz0gdiAqIGIxMTtcbiAgICB0MTMgKz0gdiAqIGIxMjtcbiAgICB0MTQgKz0gdiAqIGIxMztcbiAgICB0MTUgKz0gdiAqIGIxNDtcbiAgICB0MTYgKz0gdiAqIGIxNTtcbiAgICB2ID0gYVsyXTtcbiAgICB0MiArPSB2ICogYjA7XG4gICAgdDMgKz0gdiAqIGIxO1xuICAgIHQ0ICs9IHYgKiBiMjtcbiAgICB0NSArPSB2ICogYjM7XG4gICAgdDYgKz0gdiAqIGI0O1xuICAgIHQ3ICs9IHYgKiBiNTtcbiAgICB0OCArPSB2ICogYjY7XG4gICAgdDkgKz0gdiAqIGI3O1xuICAgIHQxMCArPSB2ICogYjg7XG4gICAgdDExICs9IHYgKiBiOTtcbiAgICB0MTIgKz0gdiAqIGIxMDtcbiAgICB0MTMgKz0gdiAqIGIxMTtcbiAgICB0MTQgKz0gdiAqIGIxMjtcbiAgICB0MTUgKz0gdiAqIGIxMztcbiAgICB0MTYgKz0gdiAqIGIxNDtcbiAgICB0MTcgKz0gdiAqIGIxNTtcbiAgICB2ID0gYVszXTtcbiAgICB0MyArPSB2ICogYjA7XG4gICAgdDQgKz0gdiAqIGIxO1xuICAgIHQ1ICs9IHYgKiBiMjtcbiAgICB0NiArPSB2ICogYjM7XG4gICAgdDcgKz0gdiAqIGI0O1xuICAgIHQ4ICs9IHYgKiBiNTtcbiAgICB0OSArPSB2ICogYjY7XG4gICAgdDEwICs9IHYgKiBiNztcbiAgICB0MTEgKz0gdiAqIGI4O1xuICAgIHQxMiArPSB2ICogYjk7XG4gICAgdDEzICs9IHYgKiBiMTA7XG4gICAgdDE0ICs9IHYgKiBiMTE7XG4gICAgdDE1ICs9IHYgKiBiMTI7XG4gICAgdDE2ICs9IHYgKiBiMTM7XG4gICAgdDE3ICs9IHYgKiBiMTQ7XG4gICAgdDE4ICs9IHYgKiBiMTU7XG4gICAgdiA9IGFbNF07XG4gICAgdDQgKz0gdiAqIGIwO1xuICAgIHQ1ICs9IHYgKiBiMTtcbiAgICB0NiArPSB2ICogYjI7XG4gICAgdDcgKz0gdiAqIGIzO1xuICAgIHQ4ICs9IHYgKiBiNDtcbiAgICB0OSArPSB2ICogYjU7XG4gICAgdDEwICs9IHYgKiBiNjtcbiAgICB0MTEgKz0gdiAqIGI3O1xuICAgIHQxMiArPSB2ICogYjg7XG4gICAgdDEzICs9IHYgKiBiOTtcbiAgICB0MTQgKz0gdiAqIGIxMDtcbiAgICB0MTUgKz0gdiAqIGIxMTtcbiAgICB0MTYgKz0gdiAqIGIxMjtcbiAgICB0MTcgKz0gdiAqIGIxMztcbiAgICB0MTggKz0gdiAqIGIxNDtcbiAgICB0MTkgKz0gdiAqIGIxNTtcbiAgICB2ID0gYVs1XTtcbiAgICB0NSArPSB2ICogYjA7XG4gICAgdDYgKz0gdiAqIGIxO1xuICAgIHQ3ICs9IHYgKiBiMjtcbiAgICB0OCArPSB2ICogYjM7XG4gICAgdDkgKz0gdiAqIGI0O1xuICAgIHQxMCArPSB2ICogYjU7XG4gICAgdDExICs9IHYgKiBiNjtcbiAgICB0MTIgKz0gdiAqIGI3O1xuICAgIHQxMyArPSB2ICogYjg7XG4gICAgdDE0ICs9IHYgKiBiOTtcbiAgICB0MTUgKz0gdiAqIGIxMDtcbiAgICB0MTYgKz0gdiAqIGIxMTtcbiAgICB0MTcgKz0gdiAqIGIxMjtcbiAgICB0MTggKz0gdiAqIGIxMztcbiAgICB0MTkgKz0gdiAqIGIxNDtcbiAgICB0MjAgKz0gdiAqIGIxNTtcbiAgICB2ID0gYVs2XTtcbiAgICB0NiArPSB2ICogYjA7XG4gICAgdDcgKz0gdiAqIGIxO1xuICAgIHQ4ICs9IHYgKiBiMjtcbiAgICB0OSArPSB2ICogYjM7XG4gICAgdDEwICs9IHYgKiBiNDtcbiAgICB0MTEgKz0gdiAqIGI1O1xuICAgIHQxMiArPSB2ICogYjY7XG4gICAgdDEzICs9IHYgKiBiNztcbiAgICB0MTQgKz0gdiAqIGI4O1xuICAgIHQxNSArPSB2ICogYjk7XG4gICAgdDE2ICs9IHYgKiBiMTA7XG4gICAgdDE3ICs9IHYgKiBiMTE7XG4gICAgdDE4ICs9IHYgKiBiMTI7XG4gICAgdDE5ICs9IHYgKiBiMTM7XG4gICAgdDIwICs9IHYgKiBiMTQ7XG4gICAgdDIxICs9IHYgKiBiMTU7XG4gICAgdiA9IGFbN107XG4gICAgdDcgKz0gdiAqIGIwO1xuICAgIHQ4ICs9IHYgKiBiMTtcbiAgICB0OSArPSB2ICogYjI7XG4gICAgdDEwICs9IHYgKiBiMztcbiAgICB0MTEgKz0gdiAqIGI0O1xuICAgIHQxMiArPSB2ICogYjU7XG4gICAgdDEzICs9IHYgKiBiNjtcbiAgICB0MTQgKz0gdiAqIGI3O1xuICAgIHQxNSArPSB2ICogYjg7XG4gICAgdDE2ICs9IHYgKiBiOTtcbiAgICB0MTcgKz0gdiAqIGIxMDtcbiAgICB0MTggKz0gdiAqIGIxMTtcbiAgICB0MTkgKz0gdiAqIGIxMjtcbiAgICB0MjAgKz0gdiAqIGIxMztcbiAgICB0MjEgKz0gdiAqIGIxNDtcbiAgICB0MjIgKz0gdiAqIGIxNTtcbiAgICB2ID0gYVs4XTtcbiAgICB0OCArPSB2ICogYjA7XG4gICAgdDkgKz0gdiAqIGIxO1xuICAgIHQxMCArPSB2ICogYjI7XG4gICAgdDExICs9IHYgKiBiMztcbiAgICB0MTIgKz0gdiAqIGI0O1xuICAgIHQxMyArPSB2ICogYjU7XG4gICAgdDE0ICs9IHYgKiBiNjtcbiAgICB0MTUgKz0gdiAqIGI3O1xuICAgIHQxNiArPSB2ICogYjg7XG4gICAgdDE3ICs9IHYgKiBiOTtcbiAgICB0MTggKz0gdiAqIGIxMDtcbiAgICB0MTkgKz0gdiAqIGIxMTtcbiAgICB0MjAgKz0gdiAqIGIxMjtcbiAgICB0MjEgKz0gdiAqIGIxMztcbiAgICB0MjIgKz0gdiAqIGIxNDtcbiAgICB0MjMgKz0gdiAqIGIxNTtcbiAgICB2ID0gYVs5XTtcbiAgICB0OSArPSB2ICogYjA7XG4gICAgdDEwICs9IHYgKiBiMTtcbiAgICB0MTEgKz0gdiAqIGIyO1xuICAgIHQxMiArPSB2ICogYjM7XG4gICAgdDEzICs9IHYgKiBiNDtcbiAgICB0MTQgKz0gdiAqIGI1O1xuICAgIHQxNSArPSB2ICogYjY7XG4gICAgdDE2ICs9IHYgKiBiNztcbiAgICB0MTcgKz0gdiAqIGI4O1xuICAgIHQxOCArPSB2ICogYjk7XG4gICAgdDE5ICs9IHYgKiBiMTA7XG4gICAgdDIwICs9IHYgKiBiMTE7XG4gICAgdDIxICs9IHYgKiBiMTI7XG4gICAgdDIyICs9IHYgKiBiMTM7XG4gICAgdDIzICs9IHYgKiBiMTQ7XG4gICAgdDI0ICs9IHYgKiBiMTU7XG4gICAgdiA9IGFbMTBdO1xuICAgIHQxMCArPSB2ICogYjA7XG4gICAgdDExICs9IHYgKiBiMTtcbiAgICB0MTIgKz0gdiAqIGIyO1xuICAgIHQxMyArPSB2ICogYjM7XG4gICAgdDE0ICs9IHYgKiBiNDtcbiAgICB0MTUgKz0gdiAqIGI1O1xuICAgIHQxNiArPSB2ICogYjY7XG4gICAgdDE3ICs9IHYgKiBiNztcbiAgICB0MTggKz0gdiAqIGI4O1xuICAgIHQxOSArPSB2ICogYjk7XG4gICAgdDIwICs9IHYgKiBiMTA7XG4gICAgdDIxICs9IHYgKiBiMTE7XG4gICAgdDIyICs9IHYgKiBiMTI7XG4gICAgdDIzICs9IHYgKiBiMTM7XG4gICAgdDI0ICs9IHYgKiBiMTQ7XG4gICAgdDI1ICs9IHYgKiBiMTU7XG4gICAgdiA9IGFbMTFdO1xuICAgIHQxMSArPSB2ICogYjA7XG4gICAgdDEyICs9IHYgKiBiMTtcbiAgICB0MTMgKz0gdiAqIGIyO1xuICAgIHQxNCArPSB2ICogYjM7XG4gICAgdDE1ICs9IHYgKiBiNDtcbiAgICB0MTYgKz0gdiAqIGI1O1xuICAgIHQxNyArPSB2ICogYjY7XG4gICAgdDE4ICs9IHYgKiBiNztcbiAgICB0MTkgKz0gdiAqIGI4O1xuICAgIHQyMCArPSB2ICogYjk7XG4gICAgdDIxICs9IHYgKiBiMTA7XG4gICAgdDIyICs9IHYgKiBiMTE7XG4gICAgdDIzICs9IHYgKiBiMTI7XG4gICAgdDI0ICs9IHYgKiBiMTM7XG4gICAgdDI1ICs9IHYgKiBiMTQ7XG4gICAgdDI2ICs9IHYgKiBiMTU7XG4gICAgdiA9IGFbMTJdO1xuICAgIHQxMiArPSB2ICogYjA7XG4gICAgdDEzICs9IHYgKiBiMTtcbiAgICB0MTQgKz0gdiAqIGIyO1xuICAgIHQxNSArPSB2ICogYjM7XG4gICAgdDE2ICs9IHYgKiBiNDtcbiAgICB0MTcgKz0gdiAqIGI1O1xuICAgIHQxOCArPSB2ICogYjY7XG4gICAgdDE5ICs9IHYgKiBiNztcbiAgICB0MjAgKz0gdiAqIGI4O1xuICAgIHQyMSArPSB2ICogYjk7XG4gICAgdDIyICs9IHYgKiBiMTA7XG4gICAgdDIzICs9IHYgKiBiMTE7XG4gICAgdDI0ICs9IHYgKiBiMTI7XG4gICAgdDI1ICs9IHYgKiBiMTM7XG4gICAgdDI2ICs9IHYgKiBiMTQ7XG4gICAgdDI3ICs9IHYgKiBiMTU7XG4gICAgdiA9IGFbMTNdO1xuICAgIHQxMyArPSB2ICogYjA7XG4gICAgdDE0ICs9IHYgKiBiMTtcbiAgICB0MTUgKz0gdiAqIGIyO1xuICAgIHQxNiArPSB2ICogYjM7XG4gICAgdDE3ICs9IHYgKiBiNDtcbiAgICB0MTggKz0gdiAqIGI1O1xuICAgIHQxOSArPSB2ICogYjY7XG4gICAgdDIwICs9IHYgKiBiNztcbiAgICB0MjEgKz0gdiAqIGI4O1xuICAgIHQyMiArPSB2ICogYjk7XG4gICAgdDIzICs9IHYgKiBiMTA7XG4gICAgdDI0ICs9IHYgKiBiMTE7XG4gICAgdDI1ICs9IHYgKiBiMTI7XG4gICAgdDI2ICs9IHYgKiBiMTM7XG4gICAgdDI3ICs9IHYgKiBiMTQ7XG4gICAgdDI4ICs9IHYgKiBiMTU7XG4gICAgdiA9IGFbMTRdO1xuICAgIHQxNCArPSB2ICogYjA7XG4gICAgdDE1ICs9IHYgKiBiMTtcbiAgICB0MTYgKz0gdiAqIGIyO1xuICAgIHQxNyArPSB2ICogYjM7XG4gICAgdDE4ICs9IHYgKiBiNDtcbiAgICB0MTkgKz0gdiAqIGI1O1xuICAgIHQyMCArPSB2ICogYjY7XG4gICAgdDIxICs9IHYgKiBiNztcbiAgICB0MjIgKz0gdiAqIGI4O1xuICAgIHQyMyArPSB2ICogYjk7XG4gICAgdDI0ICs9IHYgKiBiMTA7XG4gICAgdDI1ICs9IHYgKiBiMTE7XG4gICAgdDI2ICs9IHYgKiBiMTI7XG4gICAgdDI3ICs9IHYgKiBiMTM7XG4gICAgdDI4ICs9IHYgKiBiMTQ7XG4gICAgdDI5ICs9IHYgKiBiMTU7XG4gICAgdiA9IGFbMTVdO1xuICAgIHQxNSArPSB2ICogYjA7XG4gICAgdDE2ICs9IHYgKiBiMTtcbiAgICB0MTcgKz0gdiAqIGIyO1xuICAgIHQxOCArPSB2ICogYjM7XG4gICAgdDE5ICs9IHYgKiBiNDtcbiAgICB0MjAgKz0gdiAqIGI1O1xuICAgIHQyMSArPSB2ICogYjY7XG4gICAgdDIyICs9IHYgKiBiNztcbiAgICB0MjMgKz0gdiAqIGI4O1xuICAgIHQyNCArPSB2ICogYjk7XG4gICAgdDI1ICs9IHYgKiBiMTA7XG4gICAgdDI2ICs9IHYgKiBiMTE7XG4gICAgdDI3ICs9IHYgKiBiMTI7XG4gICAgdDI4ICs9IHYgKiBiMTM7XG4gICAgdDI5ICs9IHYgKiBiMTQ7XG4gICAgdDMwICs9IHYgKiBiMTU7XG4gICAgdDAgKz0gMzggKiB0MTY7XG4gICAgdDEgKz0gMzggKiB0MTc7XG4gICAgdDIgKz0gMzggKiB0MTg7XG4gICAgdDMgKz0gMzggKiB0MTk7XG4gICAgdDQgKz0gMzggKiB0MjA7XG4gICAgdDUgKz0gMzggKiB0MjE7XG4gICAgdDYgKz0gMzggKiB0MjI7XG4gICAgdDcgKz0gMzggKiB0MjM7XG4gICAgdDggKz0gMzggKiB0MjQ7XG4gICAgdDkgKz0gMzggKiB0MjU7XG4gICAgdDEwICs9IDM4ICogdDI2O1xuICAgIHQxMSArPSAzOCAqIHQyNztcbiAgICB0MTIgKz0gMzggKiB0Mjg7XG4gICAgdDEzICs9IDM4ICogdDI5O1xuICAgIHQxNCArPSAzOCAqIHQzMDtcbiAgICAvLyB0MTUgbGVmdCBhcyBpc1xuICAgIC8vIGZpcnN0IGNhclxuICAgIGMgPSAxO1xuICAgIHYgPSB0MCArIGMgKyA2NTUzNTtcbiAgICBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpO1xuICAgIHQwID0gdiAtIGMgKiA2NTUzNjtcbiAgICB2ID0gdDEgKyBjICsgNjU1MzU7XG4gICAgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTtcbiAgICB0MSA9IHYgLSBjICogNjU1MzY7XG4gICAgdiA9IHQyICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgdDIgPSB2IC0gYyAqIDY1NTM2O1xuICAgIHYgPSB0MyArIGMgKyA2NTUzNTtcbiAgICBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpO1xuICAgIHQzID0gdiAtIGMgKiA2NTUzNjtcbiAgICB2ID0gdDQgKyBjICsgNjU1MzU7XG4gICAgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTtcbiAgICB0NCA9IHYgLSBjICogNjU1MzY7XG4gICAgdiA9IHQ1ICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgdDUgPSB2IC0gYyAqIDY1NTM2O1xuICAgIHYgPSB0NiArIGMgKyA2NTUzNTtcbiAgICBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpO1xuICAgIHQ2ID0gdiAtIGMgKiA2NTUzNjtcbiAgICB2ID0gdDcgKyBjICsgNjU1MzU7XG4gICAgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTtcbiAgICB0NyA9IHYgLSBjICogNjU1MzY7XG4gICAgdiA9IHQ4ICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgdDggPSB2IC0gYyAqIDY1NTM2O1xuICAgIHYgPSB0OSArIGMgKyA2NTUzNTtcbiAgICBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpO1xuICAgIHQ5ID0gdiAtIGMgKiA2NTUzNjtcbiAgICB2ID0gdDEwICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgdDEwID0gdiAtIGMgKiA2NTUzNjtcbiAgICB2ID0gdDExICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgdDExID0gdiAtIGMgKiA2NTUzNjtcbiAgICB2ID0gdDEyICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgdDEyID0gdiAtIGMgKiA2NTUzNjtcbiAgICB2ID0gdDEzICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgdDEzID0gdiAtIGMgKiA2NTUzNjtcbiAgICB2ID0gdDE0ICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgdDE0ID0gdiAtIGMgKiA2NTUzNjtcbiAgICB2ID0gdDE1ICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgdDE1ID0gdiAtIGMgKiA2NTUzNjtcbiAgICB0MCArPSBjIC0gMSArIDM3ICogKGMgLSAxKTtcbiAgICAvLyBzZWNvbmQgY2FyXG4gICAgYyA9IDE7XG4gICAgdiA9IHQwICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgdDAgPSB2IC0gYyAqIDY1NTM2O1xuICAgIHYgPSB0MSArIGMgKyA2NTUzNTtcbiAgICBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpO1xuICAgIHQxID0gdiAtIGMgKiA2NTUzNjtcbiAgICB2ID0gdDIgKyBjICsgNjU1MzU7XG4gICAgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTtcbiAgICB0MiA9IHYgLSBjICogNjU1MzY7XG4gICAgdiA9IHQzICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgdDMgPSB2IC0gYyAqIDY1NTM2O1xuICAgIHYgPSB0NCArIGMgKyA2NTUzNTtcbiAgICBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpO1xuICAgIHQ0ID0gdiAtIGMgKiA2NTUzNjtcbiAgICB2ID0gdDUgKyBjICsgNjU1MzU7XG4gICAgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTtcbiAgICB0NSA9IHYgLSBjICogNjU1MzY7XG4gICAgdiA9IHQ2ICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgdDYgPSB2IC0gYyAqIDY1NTM2O1xuICAgIHYgPSB0NyArIGMgKyA2NTUzNTtcbiAgICBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpO1xuICAgIHQ3ID0gdiAtIGMgKiA2NTUzNjtcbiAgICB2ID0gdDggKyBjICsgNjU1MzU7XG4gICAgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTtcbiAgICB0OCA9IHYgLSBjICogNjU1MzY7XG4gICAgdiA9IHQ5ICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgdDkgPSB2IC0gYyAqIDY1NTM2O1xuICAgIHYgPSB0MTAgKyBjICsgNjU1MzU7XG4gICAgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTtcbiAgICB0MTAgPSB2IC0gYyAqIDY1NTM2O1xuICAgIHYgPSB0MTEgKyBjICsgNjU1MzU7XG4gICAgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTtcbiAgICB0MTEgPSB2IC0gYyAqIDY1NTM2O1xuICAgIHYgPSB0MTIgKyBjICsgNjU1MzU7XG4gICAgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTtcbiAgICB0MTIgPSB2IC0gYyAqIDY1NTM2O1xuICAgIHYgPSB0MTMgKyBjICsgNjU1MzU7XG4gICAgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTtcbiAgICB0MTMgPSB2IC0gYyAqIDY1NTM2O1xuICAgIHYgPSB0MTQgKyBjICsgNjU1MzU7XG4gICAgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTtcbiAgICB0MTQgPSB2IC0gYyAqIDY1NTM2O1xuICAgIHYgPSB0MTUgKyBjICsgNjU1MzU7XG4gICAgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTtcbiAgICB0MTUgPSB2IC0gYyAqIDY1NTM2O1xuICAgIHQwICs9IGMgLSAxICsgMzcgKiAoYyAtIDEpO1xuICAgIG9bMF0gPSB0MDtcbiAgICBvWzFdID0gdDE7XG4gICAgb1syXSA9IHQyO1xuICAgIG9bM10gPSB0MztcbiAgICBvWzRdID0gdDQ7XG4gICAgb1s1XSA9IHQ1O1xuICAgIG9bNl0gPSB0NjtcbiAgICBvWzddID0gdDc7XG4gICAgb1s4XSA9IHQ4O1xuICAgIG9bOV0gPSB0OTtcbiAgICBvWzEwXSA9IHQxMDtcbiAgICBvWzExXSA9IHQxMTtcbiAgICBvWzEyXSA9IHQxMjtcbiAgICBvWzEzXSA9IHQxMztcbiAgICBvWzE0XSA9IHQxNDtcbiAgICBvWzE1XSA9IHQxNTtcbn1cbmZ1bmN0aW9uIFMobywgYSkge1xuICAgIE0obywgYSwgYSk7XG59XG5mdW5jdGlvbiBjcnlwdG9fc2NhbGFybXVsdChxLCBuLCBwKSB7XG4gICAgY29uc3QgeiA9IG5ldyBVaW50OEFycmF5KDMyKTtcbiAgICBjb25zdCB4ID0gbmV3IEZsb2F0NjRBcnJheSg4MCk7XG4gICAgbGV0IHIsIGk7XG4gICAgY29uc3QgYSA9IGdmKCksIGIgPSBnZigpLCBjID0gZ2YoKSwgZCA9IGdmKCksIGUgPSBnZigpLCBmID0gZ2YoKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMzE7IGkrKylcbiAgICAgICAgeltpXSA9IG5baV07XG4gICAgelszMV0gPSAoblszMV0gJiAxMjcpIHwgNjQ7XG4gICAgelswXSAmPSAyNDg7XG4gICAgdW5wYWNrMjU1MTkoeCwgcCk7XG4gICAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgYltpXSA9IHhbaV07XG4gICAgICAgIGRbaV0gPSBhW2ldID0gY1tpXSA9IDA7XG4gICAgfVxuICAgIGFbMF0gPSBkWzBdID0gMTtcbiAgICBmb3IgKGkgPSAyNTQ7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHIgPSAoeltpID4+PiAzXSA+Pj4gKGkgJiA3KSkgJiAxO1xuICAgICAgICBzZWwyNTUxOShhLCBiLCByKTtcbiAgICAgICAgc2VsMjU1MTkoYywgZCwgcik7XG4gICAgICAgIEEoZSwgYSwgYyk7XG4gICAgICAgIFooYSwgYSwgYyk7XG4gICAgICAgIEEoYywgYiwgZCk7XG4gICAgICAgIFooYiwgYiwgZCk7XG4gICAgICAgIFMoZCwgZSk7XG4gICAgICAgIFMoZiwgYSk7XG4gICAgICAgIE0oYSwgYywgYSk7XG4gICAgICAgIE0oYywgYiwgZSk7XG4gICAgICAgIEEoZSwgYSwgYyk7XG4gICAgICAgIFooYSwgYSwgYyk7XG4gICAgICAgIFMoYiwgYSk7XG4gICAgICAgIFooYywgZCwgZik7XG4gICAgICAgIE0oYSwgYywgXzEyMTY2NSk7XG4gICAgICAgIEEoYSwgYSwgZCk7XG4gICAgICAgIE0oYywgYywgYSk7XG4gICAgICAgIE0oYSwgZCwgZik7XG4gICAgICAgIE0oZCwgYiwgeCk7XG4gICAgICAgIFMoYiwgZSk7XG4gICAgICAgIHNlbDI1NTE5KGEsIGIsIHIpO1xuICAgICAgICBzZWwyNTUxOShjLCBkLCByKTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgeFtpICsgMTZdID0gYVtpXTtcbiAgICAgICAgeFtpICsgMzJdID0gY1tpXTtcbiAgICAgICAgeFtpICsgNDhdID0gYltpXTtcbiAgICAgICAgeFtpICsgNjRdID0gZFtpXTtcbiAgICB9XG4gICAgY29uc3QgeDMyID0geC5zdWJhcnJheSgzMik7XG4gICAgY29uc3QgeDE2ID0geC5zdWJhcnJheSgxNik7XG4gICAgaW52MjU1MTkoeDMyLCB4MzIpO1xuICAgIE0oeDE2LCB4MTYsIHgzMik7XG4gICAgcGFjazI1NTE5KHEsIHgxNik7XG4gICAgcmV0dXJuIHE7XG59XG5mdW5jdGlvbiBjcnlwdG9fc2NhbGFybXVsdF9iYXNlKHEsIG4pIHtcbiAgICByZXR1cm4gY3J5cHRvX3NjYWxhcm11bHQocSwgbiwgXzkpO1xufVxuZXhwb3J0IGNsYXNzIE11TmFjbEVycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5hY2xTY2FsYXJNdWx0KG4sIHApIHtcbiAgICBpZiAobi5sZW5ndGggIT09IGNyeXB0b19zY2FsYXJtdWx0X1NDQUxBUkJZVEVTKSB7XG4gICAgICAgIHRocm93IG5ldyBNdU5hY2xFcnJvcignYmFkIG4gc2l6ZScpO1xuICAgIH1cbiAgICBpZiAocC5sZW5ndGggIT09IGNyeXB0b19zY2FsYXJtdWx0X0JZVEVTKSB7XG4gICAgICAgIHRocm93IG5ldyBNdU5hY2xFcnJvcignYmFkIHAgc2l6ZScpO1xuICAgIH1cbiAgICByZXR1cm4gY3J5cHRvX3NjYWxhcm11bHQobmV3IFVpbnQ4QXJyYXkoY3J5cHRvX3NjYWxhcm11bHRfQllURVMpLCBuLCBwKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuYWNsU2NhbGFyTXVsdEJhc2Uobikge1xuICAgIHJldHVybiBuYWNsU2NhbGFyTXVsdChuLCBfOSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYm94S2V5UGFpckZyb21TZWNyZXRLZXkoc2VjcmV0S2V5KSB7XG4gICAgaWYgKHNlY3JldEtleS5sZW5ndGggIT09IGNyeXB0b19ib3hfU0VDUkVUS0VZQllURVMpIHtcbiAgICAgICAgdGhyb3cgbmV3IE11TmFjbEVycm9yKCdiYWQgc2VjcmV0IGtleSBzaXplJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHB1YmxpY0tleTogY3J5cHRvX3NjYWxhcm11bHRfYmFzZShuZXcgVWludDhBcnJheShjcnlwdG9fYm94X1BVQkxJQ0tFWUJZVEVTKSwgc2VjcmV0S2V5KSxcbiAgICAgICAgc2VjcmV0S2V5OiBuZXcgVWludDhBcnJheShzZWNyZXRLZXkpLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tdW5hY2wuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/munacl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/provider.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/provider.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   detectSapphireSnap: () => (/* binding */ detectSapphireSnap),\n/* harmony export */   fillOptions: () => (/* binding */ fillOptions),\n/* harmony export */   isCallDataPublicKeyQuery: () => (/* binding */ isCallDataPublicKeyQuery),\n/* harmony export */   isEthereumProvider: () => (/* binding */ isEthereumProvider),\n/* harmony export */   isLegacyProvider: () => (/* binding */ isLegacyProvider),\n/* harmony export */   isWrappedEthereumProvider: () => (/* binding */ isWrappedEthereumProvider),\n/* harmony export */   isWrappedRequestFn: () => (/* binding */ isWrappedRequestFn),\n/* harmony export */   makeSapphireRequestFn: () => (/* binding */ makeSapphireRequestFn),\n/* harmony export */   makeTaggedProxyObject: () => (/* binding */ makeTaggedProxyObject),\n/* harmony export */   notifySapphireSnap: () => (/* binding */ notifySapphireSnap),\n/* harmony export */   wrapEthereumProvider: () => (/* binding */ wrapEthereumProvider)\n/* harmony export */ });\n/* harmony import */ var _ethersutils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ethersutils.js */ \"(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/ethersutils.js\");\n/* harmony import */ var _calldatapublickey_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./calldatapublickey.js */ \"(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/calldatapublickey.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/constants.js\");\n// SPDX-License-Identifier: Apache-2.0\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nfunction isEthereumProvider(p) {\n    return 'request' in p && typeof p.request === 'function';\n}\nfunction isLegacyProvider(p) {\n    return 'send' in p && typeof p.send === 'function';\n}\nfunction fillOptions(options) {\n    if (!options) {\n        options = {};\n    }\n    if (!options.fetcher) {\n        options.fetcher = new _calldatapublickey_js__WEBPACK_IMPORTED_MODULE_0__.KeyFetcher();\n    }\n    return options;\n}\n// -----------------------------------------------------------------------------\n// Wrap an Ethereum compatible provider to expose a consistent request() iface\nconst SAPPHIRE_WRAPPED_ETHEREUMPROVIDER = '#SAPPHIRE_WRAPPED_ETHEREUMPROVIDER';\nfunction isWrappedEthereumProvider(p) {\n    return p && SAPPHIRE_WRAPPED_ETHEREUMPROVIDER in p;\n}\n/**\n * Wrap an EIP-1193 or EIP-2696 compatible provider with Sapphire encryption\n *\n * ```typescript\n * const provider = wrapEthereumProvider(window.ethereum);\n * ```\n *\n * @param upstream Provides a send() or request() function\n * @param options (optional) Re-use parameters from other providers\n * @returns Sapphire wrapped provider\n */\nfunction wrapEthereumProvider(upstream, options) {\n    if (isWrappedEthereumProvider(upstream)) {\n        return upstream;\n    }\n    if (!isEthereumProvider(upstream) && !isLegacyProvider(upstream)) {\n        throw new Error('It is neither an Ethereum nor a Legacy provider');\n    }\n    const filled_options = fillOptions(options);\n    // if upstream provides a send() function but not request function\n    // then derive a request() function from the send() function\n    // if we do this, don't then re-wrap the send() function\n    // only wrap the send() function if there was a request() function\n    const request = makeSapphireRequestFn(upstream, filled_options);\n    const hooks = { request };\n    // We prefer a request() method, but a provider may expose a send() method\n    // Like Hardhat's LazyInitializationProviderAdapter, which is used with Ethers\n    // So, everything gets sent through the Sapphire-wrapped request() function\n    if ('send' in upstream)\n        hooks.send = (method, params) => {\n            return request({ method, params });\n        };\n    // sendAsync implementations vary too widely to be used as a standard\n    if ('sendAsync' in upstream)\n        hooks.sendAsync = () => {\n            throw new Error('sendAsync not supported!');\n        };\n    return makeTaggedProxyObject(upstream, SAPPHIRE_WRAPPED_ETHEREUMPROVIDER, filled_options, hooks);\n}\nconst SAPPHIRE_SNAP_ID = 'npm:@oasisprotocol/sapphire-snap';\nfunction detectSapphireSnap(provider) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            const installedSnaps = (yield provider.request({\n                method: 'wallet_getSnaps',\n            }));\n            for (const snap of Object.values(installedSnaps)) {\n                if (snap.id === SAPPHIRE_SNAP_ID) {\n                    return snap.id;\n                }\n            }\n        }\n        catch (e) {\n            return undefined;\n        }\n    });\n}\nfunction notifySapphireSnap(snapId, cipher, transactionData, options, provider) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (cipher.ephemeralKey) {\n            const peerPublicKey = yield options.fetcher.fetch(provider);\n            yield provider.request({\n                method: 'wallet_invokeSnap',\n                params: {\n                    snapId: snapId,\n                    request: {\n                        method: 'setTransactionDecryptKeys',\n                        params: {\n                            id: transactionData,\n                            ephemeralSecretKey: (0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.hexlify)(cipher.ephemeralKey),\n                            peerPublicKey: (0,_ethersutils_js__WEBPACK_IMPORTED_MODULE_1__.hexlify)(peerPublicKey.key),\n                            peerPublicKeyEpoch: peerPublicKey.epoch,\n                        },\n                    },\n                },\n            });\n        }\n    });\n}\nconst SAPPHIRE_EIP1193_REQUESTFN = '#SAPPHIRE_EIP1193_REQUESTFN';\nfunction isWrappedRequestFn(p) {\n    return p && SAPPHIRE_EIP1193_REQUESTFN in p;\n}\nfunction isCallDataPublicKeyQuery(params) {\n    return (params &&\n        Array.isArray(params) &&\n        params.length > 0 &&\n        params[0].to === _constants_js__WEBPACK_IMPORTED_MODULE_2__.SUBCALL_ADDR &&\n        params[0].data === _constants_js__WEBPACK_IMPORTED_MODULE_2__.CALLDATAPUBLICKEY_CALLDATA);\n}\n/**\n * Creates an EIP-1193 compatible request() function\n * @param provider Upstream EIP-1193 provider to forward requests to\n * @param options\n * @returns\n */\nfunction makeSapphireRequestFn(provider, options) {\n    if (isWrappedRequestFn(provider.request)) {\n        return provider.request;\n    }\n    const filled_options = fillOptions(options);\n    const f = (args) => __awaiter(this, void 0, void 0, function* () {\n        const snapId = filled_options.enableSapphireSnap\n            ? yield detectSapphireSnap(provider)\n            : undefined;\n        const { method, params } = args;\n        let transactionData = undefined;\n        // Encrypt requests which can be encrypted\n        if (params &&\n            Array.isArray(params) &&\n            /^eth_((send|sign)Transaction|call|estimateGas)$/.test(method) &&\n            params[0].data // Ignore balance transfers without calldata\n        ) {\n            // TODO: should we attempt to detect `if (not sapphire) throw` instead of\n            // failing to fetch public key in the next line?\n            const cipher = yield filled_options.fetcher.cipher(provider);\n            transactionData = params[0].data = cipher.encryptCall(params[0].data);\n            if (snapId !== undefined && transactionData !== undefined) {\n                // Run in background so as to not delay results\n                notifySapphireSnap(snapId, cipher, transactionData, filled_options, provider);\n            }\n            const res = yield provider.request({\n                method,\n                params: params !== null && params !== void 0 ? params : [],\n            });\n            // Decrypt responses which return encrypted data\n            if (method === 'eth_call') {\n                // If it's an unencrypted core.CallDataPublicKey query, don't attempt to decrypt the response\n                if (!isCallDataPublicKeyQuery(params)) {\n                    return cipher.decryptResult(res);\n                }\n            }\n            return res;\n        }\n        else {\n            const res = yield provider.request({\n                method,\n                params: params !== null && params !== void 0 ? params : [],\n            });\n            return res;\n        }\n    });\n    return makeTaggedProxyObject(f, SAPPHIRE_EIP1193_REQUESTFN, filled_options);\n}\n// -----------------------------------------------------------------------------\nfunction makeTaggedProxyObject(upstream, propname, options, hooks) {\n    return new Proxy(upstream, {\n        has(target, p) {\n            if (p === propname)\n                return true;\n            return Reflect.has(target, p);\n        },\n        get(upstream, prop) {\n            var _a;\n            if (prop === propname)\n                return options;\n            if (hooks && prop in hooks)\n                return Reflect.get(hooks, prop);\n            const value = Reflect.get(upstream, prop);\n            // Brave wallet web3provider properties are read only and throw typeerror\n            // https://github.com/brave/brave-core/blob/74bf470a0291ea3719f1a75af066ee10b7057dbd/components/brave_wallet/resources/ethereum_provider.js#L13-L27\n            // https://github.com/wevm/wagmi/blob/86c42248c2f34260a52ee85183c607315ae63ce8/packages/core/src/connectors/injected.ts#L327-L335\n            const propWritable = ((_a = Object.getOwnPropertyDescriptor(upstream, prop)) === null || _a === void 0 ? void 0 : _a.writable) !== false;\n            if (typeof value === 'function' && propWritable) {\n                return value.bind(upstream);\n            }\n            return value;\n        },\n    });\n}\n//# sourceMappingURL=provider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG9hc2lzcHJvdG9jb2wvc2FwcGhpcmUtcGFyYXRpbWUvbGliL2VzbS9wcm92aWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0EsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQzJDO0FBQ1M7QUFDc0I7QUFDbkU7QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw2REFBVTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixnQkFBZ0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsd0RBQU87QUFDdkQsMkNBQTJDLHdEQUFPO0FBQ2xEO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1REFBWTtBQUNyQywyQkFBMkIscUVBQTBCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG9hc2lzcHJvdG9jb2wvc2FwcGhpcmUtcGFyYXRpbWUvbGliL2VzbS9wcm92aWRlci5qcz83M2U4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IGhleGxpZnkgfSBmcm9tICcuL2V0aGVyc3V0aWxzLmpzJztcbmltcG9ydCB7IEtleUZldGNoZXIgfSBmcm9tICcuL2NhbGxkYXRhcHVibGlja2V5LmpzJztcbmltcG9ydCB7IFNVQkNBTExfQUREUiwgQ0FMTERBVEFQVUJMSUNLRVlfQ0FMTERBVEEgfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gaXNFdGhlcmV1bVByb3ZpZGVyKHApIHtcbiAgICByZXR1cm4gJ3JlcXVlc3QnIGluIHAgJiYgdHlwZW9mIHAucmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xlZ2FjeVByb3ZpZGVyKHApIHtcbiAgICByZXR1cm4gJ3NlbmQnIGluIHAgJiYgdHlwZW9mIHAuc2VuZCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWxsT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmZldGNoZXIpIHtcbiAgICAgICAgb3B0aW9ucy5mZXRjaGVyID0gbmV3IEtleUZldGNoZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gV3JhcCBhbiBFdGhlcmV1bSBjb21wYXRpYmxlIHByb3ZpZGVyIHRvIGV4cG9zZSBhIGNvbnNpc3RlbnQgcmVxdWVzdCgpIGlmYWNlXG5jb25zdCBTQVBQSElSRV9XUkFQUEVEX0VUSEVSRVVNUFJPVklERVIgPSAnI1NBUFBISVJFX1dSQVBQRURfRVRIRVJFVU1QUk9WSURFUic7XG5leHBvcnQgZnVuY3Rpb24gaXNXcmFwcGVkRXRoZXJldW1Qcm92aWRlcihwKSB7XG4gICAgcmV0dXJuIHAgJiYgU0FQUEhJUkVfV1JBUFBFRF9FVEhFUkVVTVBST1ZJREVSIGluIHA7XG59XG4vKipcbiAqIFdyYXAgYW4gRUlQLTExOTMgb3IgRUlQLTI2OTYgY29tcGF0aWJsZSBwcm92aWRlciB3aXRoIFNhcHBoaXJlIGVuY3J5cHRpb25cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBwcm92aWRlciA9IHdyYXBFdGhlcmV1bVByb3ZpZGVyKHdpbmRvdy5ldGhlcmV1bSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdXBzdHJlYW0gUHJvdmlkZXMgYSBzZW5kKCkgb3IgcmVxdWVzdCgpIGZ1bmN0aW9uXG4gKiBAcGFyYW0gb3B0aW9ucyAob3B0aW9uYWwpIFJlLXVzZSBwYXJhbWV0ZXJzIGZyb20gb3RoZXIgcHJvdmlkZXJzXG4gKiBAcmV0dXJucyBTYXBwaGlyZSB3cmFwcGVkIHByb3ZpZGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwRXRoZXJldW1Qcm92aWRlcih1cHN0cmVhbSwgb3B0aW9ucykge1xuICAgIGlmIChpc1dyYXBwZWRFdGhlcmV1bVByb3ZpZGVyKHVwc3RyZWFtKSkge1xuICAgICAgICByZXR1cm4gdXBzdHJlYW07XG4gICAgfVxuICAgIGlmICghaXNFdGhlcmV1bVByb3ZpZGVyKHVwc3RyZWFtKSAmJiAhaXNMZWdhY3lQcm92aWRlcih1cHN0cmVhbSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdCBpcyBuZWl0aGVyIGFuIEV0aGVyZXVtIG5vciBhIExlZ2FjeSBwcm92aWRlcicpO1xuICAgIH1cbiAgICBjb25zdCBmaWxsZWRfb3B0aW9ucyA9IGZpbGxPcHRpb25zKG9wdGlvbnMpO1xuICAgIC8vIGlmIHVwc3RyZWFtIHByb3ZpZGVzIGEgc2VuZCgpIGZ1bmN0aW9uIGJ1dCBub3QgcmVxdWVzdCBmdW5jdGlvblxuICAgIC8vIHRoZW4gZGVyaXZlIGEgcmVxdWVzdCgpIGZ1bmN0aW9uIGZyb20gdGhlIHNlbmQoKSBmdW5jdGlvblxuICAgIC8vIGlmIHdlIGRvIHRoaXMsIGRvbid0IHRoZW4gcmUtd3JhcCB0aGUgc2VuZCgpIGZ1bmN0aW9uXG4gICAgLy8gb25seSB3cmFwIHRoZSBzZW5kKCkgZnVuY3Rpb24gaWYgdGhlcmUgd2FzIGEgcmVxdWVzdCgpIGZ1bmN0aW9uXG4gICAgY29uc3QgcmVxdWVzdCA9IG1ha2VTYXBwaGlyZVJlcXVlc3RGbih1cHN0cmVhbSwgZmlsbGVkX29wdGlvbnMpO1xuICAgIGNvbnN0IGhvb2tzID0geyByZXF1ZXN0IH07XG4gICAgLy8gV2UgcHJlZmVyIGEgcmVxdWVzdCgpIG1ldGhvZCwgYnV0IGEgcHJvdmlkZXIgbWF5IGV4cG9zZSBhIHNlbmQoKSBtZXRob2RcbiAgICAvLyBMaWtlIEhhcmRoYXQncyBMYXp5SW5pdGlhbGl6YXRpb25Qcm92aWRlckFkYXB0ZXIsIHdoaWNoIGlzIHVzZWQgd2l0aCBFdGhlcnNcbiAgICAvLyBTbywgZXZlcnl0aGluZyBnZXRzIHNlbnQgdGhyb3VnaCB0aGUgU2FwcGhpcmUtd3JhcHBlZCByZXF1ZXN0KCkgZnVuY3Rpb25cbiAgICBpZiAoJ3NlbmQnIGluIHVwc3RyZWFtKVxuICAgICAgICBob29rcy5zZW5kID0gKG1ldGhvZCwgcGFyYW1zKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdCh7IG1ldGhvZCwgcGFyYW1zIH0pO1xuICAgICAgICB9O1xuICAgIC8vIHNlbmRBc3luYyBpbXBsZW1lbnRhdGlvbnMgdmFyeSB0b28gd2lkZWx5IHRvIGJlIHVzZWQgYXMgYSBzdGFuZGFyZFxuICAgIGlmICgnc2VuZEFzeW5jJyBpbiB1cHN0cmVhbSlcbiAgICAgICAgaG9va3Muc2VuZEFzeW5jID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZW5kQXN5bmMgbm90IHN1cHBvcnRlZCEnKTtcbiAgICAgICAgfTtcbiAgICByZXR1cm4gbWFrZVRhZ2dlZFByb3h5T2JqZWN0KHVwc3RyZWFtLCBTQVBQSElSRV9XUkFQUEVEX0VUSEVSRVVNUFJPVklERVIsIGZpbGxlZF9vcHRpb25zLCBob29rcyk7XG59XG5jb25zdCBTQVBQSElSRV9TTkFQX0lEID0gJ25wbTpAb2FzaXNwcm90b2NvbC9zYXBwaGlyZS1zbmFwJztcbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RTYXBwaGlyZVNuYXAocHJvdmlkZXIpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFsbGVkU25hcHMgPSAoeWllbGQgcHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X2dldFNuYXBzJyxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc25hcCBvZiBPYmplY3QudmFsdWVzKGluc3RhbGxlZFNuYXBzKSkge1xuICAgICAgICAgICAgICAgIGlmIChzbmFwLmlkID09PSBTQVBQSElSRV9TTkFQX0lEKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzbmFwLmlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vdGlmeVNhcHBoaXJlU25hcChzbmFwSWQsIGNpcGhlciwgdHJhbnNhY3Rpb25EYXRhLCBvcHRpb25zLCBwcm92aWRlcikge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlmIChjaXBoZXIuZXBoZW1lcmFsS2V5KSB7XG4gICAgICAgICAgICBjb25zdCBwZWVyUHVibGljS2V5ID0geWllbGQgb3B0aW9ucy5mZXRjaGVyLmZldGNoKHByb3ZpZGVyKTtcbiAgICAgICAgICAgIHlpZWxkIHByb3ZpZGVyLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ3dhbGxldF9pbnZva2VTbmFwJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc25hcElkOiBzbmFwSWQsXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3NldFRyYW5zYWN0aW9uRGVjcnlwdEtleXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHRyYW5zYWN0aW9uRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGhlbWVyYWxTZWNyZXRLZXk6IGhleGxpZnkoY2lwaGVyLmVwaGVtZXJhbEtleSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVlclB1YmxpY0tleTogaGV4bGlmeShwZWVyUHVibGljS2V5LmtleSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVlclB1YmxpY0tleUVwb2NoOiBwZWVyUHVibGljS2V5LmVwb2NoLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmNvbnN0IFNBUFBISVJFX0VJUDExOTNfUkVRVUVTVEZOID0gJyNTQVBQSElSRV9FSVAxMTkzX1JFUVVFU1RGTic7XG5leHBvcnQgZnVuY3Rpb24gaXNXcmFwcGVkUmVxdWVzdEZuKHApIHtcbiAgICByZXR1cm4gcCAmJiBTQVBQSElSRV9FSVAxMTkzX1JFUVVFU1RGTiBpbiBwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2FsbERhdGFQdWJsaWNLZXlRdWVyeShwYXJhbXMpIHtcbiAgICByZXR1cm4gKHBhcmFtcyAmJlxuICAgICAgICBBcnJheS5pc0FycmF5KHBhcmFtcykgJiZcbiAgICAgICAgcGFyYW1zLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgcGFyYW1zWzBdLnRvID09PSBTVUJDQUxMX0FERFIgJiZcbiAgICAgICAgcGFyYW1zWzBdLmRhdGEgPT09IENBTExEQVRBUFVCTElDS0VZX0NBTExEQVRBKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBFSVAtMTE5MyBjb21wYXRpYmxlIHJlcXVlc3QoKSBmdW5jdGlvblxuICogQHBhcmFtIHByb3ZpZGVyIFVwc3RyZWFtIEVJUC0xMTkzIHByb3ZpZGVyIHRvIGZvcndhcmQgcmVxdWVzdHMgdG9cbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZVNhcHBoaXJlUmVxdWVzdEZuKHByb3ZpZGVyLCBvcHRpb25zKSB7XG4gICAgaWYgKGlzV3JhcHBlZFJlcXVlc3RGbihwcm92aWRlci5yZXF1ZXN0KSkge1xuICAgICAgICByZXR1cm4gcHJvdmlkZXIucmVxdWVzdDtcbiAgICB9XG4gICAgY29uc3QgZmlsbGVkX29wdGlvbnMgPSBmaWxsT3B0aW9ucyhvcHRpb25zKTtcbiAgICBjb25zdCBmID0gKGFyZ3MpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3Qgc25hcElkID0gZmlsbGVkX29wdGlvbnMuZW5hYmxlU2FwcGhpcmVTbmFwXG4gICAgICAgICAgICA/IHlpZWxkIGRldGVjdFNhcHBoaXJlU25hcChwcm92aWRlcilcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCB7IG1ldGhvZCwgcGFyYW1zIH0gPSBhcmdzO1xuICAgICAgICBsZXQgdHJhbnNhY3Rpb25EYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBFbmNyeXB0IHJlcXVlc3RzIHdoaWNoIGNhbiBiZSBlbmNyeXB0ZWRcbiAgICAgICAgaWYgKHBhcmFtcyAmJlxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShwYXJhbXMpICYmXG4gICAgICAgICAgICAvXmV0aF8oKHNlbmR8c2lnbilUcmFuc2FjdGlvbnxjYWxsfGVzdGltYXRlR2FzKSQvLnRlc3QobWV0aG9kKSAmJlxuICAgICAgICAgICAgcGFyYW1zWzBdLmRhdGEgLy8gSWdub3JlIGJhbGFuY2UgdHJhbnNmZXJzIHdpdGhvdXQgY2FsbGRhdGFcbiAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgd2UgYXR0ZW1wdCB0byBkZXRlY3QgYGlmIChub3Qgc2FwcGhpcmUpIHRocm93YCBpbnN0ZWFkIG9mXG4gICAgICAgICAgICAvLyBmYWlsaW5nIHRvIGZldGNoIHB1YmxpYyBrZXkgaW4gdGhlIG5leHQgbGluZT9cbiAgICAgICAgICAgIGNvbnN0IGNpcGhlciA9IHlpZWxkIGZpbGxlZF9vcHRpb25zLmZldGNoZXIuY2lwaGVyKHByb3ZpZGVyKTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uRGF0YSA9IHBhcmFtc1swXS5kYXRhID0gY2lwaGVyLmVuY3J5cHRDYWxsKHBhcmFtc1swXS5kYXRhKTtcbiAgICAgICAgICAgIGlmIChzbmFwSWQgIT09IHVuZGVmaW5lZCAmJiB0cmFuc2FjdGlvbkRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIFJ1biBpbiBiYWNrZ3JvdW5kIHNvIGFzIHRvIG5vdCBkZWxheSByZXN1bHRzXG4gICAgICAgICAgICAgICAgbm90aWZ5U2FwcGhpcmVTbmFwKHNuYXBJZCwgY2lwaGVyLCB0cmFuc2FjdGlvbkRhdGEsIGZpbGxlZF9vcHRpb25zLCBwcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXMgPSB5aWVsZCBwcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMgIT09IG51bGwgJiYgcGFyYW1zICE9PSB2b2lkIDAgPyBwYXJhbXMgOiBbXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gRGVjcnlwdCByZXNwb25zZXMgd2hpY2ggcmV0dXJuIGVuY3J5cHRlZCBkYXRhXG4gICAgICAgICAgICBpZiAobWV0aG9kID09PSAnZXRoX2NhbGwnKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhbiB1bmVuY3J5cHRlZCBjb3JlLkNhbGxEYXRhUHVibGljS2V5IHF1ZXJ5LCBkb24ndCBhdHRlbXB0IHRvIGRlY3J5cHQgdGhlIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgaWYgKCFpc0NhbGxEYXRhUHVibGljS2V5UXVlcnkocGFyYW1zKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2lwaGVyLmRlY3J5cHRSZXN1bHQocmVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzID0geWllbGQgcHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zICE9PSBudWxsICYmIHBhcmFtcyAhPT0gdm9pZCAwID8gcGFyYW1zIDogW10sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbWFrZVRhZ2dlZFByb3h5T2JqZWN0KGYsIFNBUFBISVJFX0VJUDExOTNfUkVRVUVTVEZOLCBmaWxsZWRfb3B0aW9ucyk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VUYWdnZWRQcm94eU9iamVjdCh1cHN0cmVhbSwgcHJvcG5hbWUsIG9wdGlvbnMsIGhvb2tzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm94eSh1cHN0cmVhbSwge1xuICAgICAgICBoYXModGFyZ2V0LCBwKSB7XG4gICAgICAgICAgICBpZiAocCA9PT0gcHJvcG5hbWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5oYXModGFyZ2V0LCBwKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0KHVwc3RyZWFtLCBwcm9wKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gcHJvcG5hbWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoaG9va3MgJiYgcHJvcCBpbiBob29rcylcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQoaG9va3MsIHByb3ApO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBSZWZsZWN0LmdldCh1cHN0cmVhbSwgcHJvcCk7XG4gICAgICAgICAgICAvLyBCcmF2ZSB3YWxsZXQgd2ViM3Byb3ZpZGVyIHByb3BlcnRpZXMgYXJlIHJlYWQgb25seSBhbmQgdGhyb3cgdHlwZWVycm9yXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYnJhdmUvYnJhdmUtY29yZS9ibG9iLzc0YmY0NzBhMDI5MWVhMzcxOWYxYTc1YWYwNjZlZTEwYjcwNTdkYmQvY29tcG9uZW50cy9icmF2ZV93YWxsZXQvcmVzb3VyY2VzL2V0aGVyZXVtX3Byb3ZpZGVyLmpzI0wxMy1MMjdcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93ZXZtL3dhZ21pL2Jsb2IvODZjNDIyNDhjMmYzNDI2MGE1MmVlODUxODNjNjA3MzE1YWU2M2NlOC9wYWNrYWdlcy9jb3JlL3NyYy9jb25uZWN0b3JzL2luamVjdGVkLnRzI0wzMjctTDMzNVxuICAgICAgICAgICAgY29uc3QgcHJvcFdyaXRhYmxlID0gKChfYSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodXBzdHJlYW0sIHByb3ApKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eud3JpdGFibGUpICE9PSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgJiYgcHJvcFdyaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmJpbmQodXBzdHJlYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdmlkZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@oasisprotocol/sapphire-paratime/lib/esm/provider.js\n");

/***/ })

};
;